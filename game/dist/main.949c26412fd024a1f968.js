!function(t){function e(e){for(var s,r,a=e[0],h=e[1],l=e[2],c=0,g=[];c<a.length;c++)r=a[c],i[r]&&g.push(i[r][0]),i[r]=0;for(s in h)Object.prototype.hasOwnProperty.call(h,s)&&(t[s]=h[s]);for(d&&d(e);g.length;)g.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],s=!0,a=1;a<n.length;a++){var h=n[a];0!==i[h]&&(s=!1)}s&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},i={1:0},o=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var a=window.webpackJsonp=window.webpackJsonp||[],h=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var d=h;o.push([1,0]),n()}([,function(t,e,n){"use strict";n.r(e);class s{constructor(t,e){this.htmlComponent=document.createElement("canvas"),this.htmlComponent.setAttribute("tabindex",0),this.context=this.htmlComponent.getContext("2d"),void 0===t&&(t=1366),void 0===e&&(e=635),this.setSize(t,e),document.body.appendChild(this.htmlComponent),this.scenes=[],this.ui=[]}getHtml(){return this.htmlComponent}getContext(){return this.context}setSize(t,e){this.width=t,this.height=e,this.htmlComponent.style.width=`${t}px`,this.htmlComponent.style.height=`${e}px`,this.context.canvas.width=t,this.context.canvas.height=e}clear(t="#000000"){this.context.fillStyle=t,this.context.fillRect(0,0,this.width,this.height)}addScene(t){this.scenes.push(t)}addUI(t){this.ui.push(t)}removeScene(t){const e=this.scenes.indexOf(t);return 0!=~e&&(this.scenes.splice(e,1),!0)}resetScenes(){this.scenes=[]}draw(t){this.clear();for(let e of this.scenes)e.draw(this.context,t);for(let e of this.ui)for(let n of e.uiComponents)n.draw(this.context,t)}}class i{constructor(){this.queue=[],this.queueIndex=0}add(t){this.queue.push(t)}getNext(){if(0===this.queue.length)return null;if(this.queueIndex<this.queue.length){const t=this.queue[this.queueIndex];return this.queueIndex+=1,t}return this.queueIndex=0,this.queue=[],null}hasNext(){const t=!!(this.queue.length-this.queueIndex);return t||0===this.queue.length||(this.queueIndex=0,this.queue=[]),t}remain(){return this.queue.length-this.queueIndex}}var o={MOUSE:{MOUSE_MOVE:"mousemove",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_DOWN:"mousedown"},KEYBOARD:{KEY_PRESS:"keypress",KEY_DOWN:"keydown"},ANIMATION:{ANIMATION_END:"animationend"}};class r{constructor(){this.selected=null,this.hovered=null,this.uiComponents=[]}handleEvent(t){if(o[t.subtype]===o.MOUSE)for(let e of this.uiComponents){const n=e.checkForCollision({...t.payload.mouseCoord,width:1,height:1});let s=null;if(null!==n){let e=0,i=-1;n.forEach(({depth:t},n)=>{t>=e&&(e=t,i=n)}),s=n[i].o,t.target=s}else{const t=document.querySelector("canvas");"auto"!==t.style.cursor&&(t.style.cursor="auto")}this.hovered!==s&&(null!==this.hovered&&(this.hovered.handlers.handle({...t,type:o.MOUSE.MOUSE_LEAVE,target:this.hovered,relatedTarget:s}),this.hovered.setHovered(!1)),null!==s&&s.handlers.handle({...t,type:o.MOUSE.MOUSE_ENTER,target:s,relatedTarget:this.hovered}),this.hovered=s),t.type===o.MOUSE.MOUSE_DOWN&&this.selected!==s&&(this.selected&&(this.selected.isSelected=!1),this.selected=s,null!==s&&(s.isSelected=!0)),null!==s&&s.handlers.handle(t)}o[t.subtype]===o.KEYBOARD&&this.selected&&(t.target=this.selected,this.selected.handlers.handle(t))}add(t){this.uiComponents.push(t)}remove(t){const e=this.uiComponents.indexOf(t);~e&&this.uiComponents.splice(e,1)}}var a=n(0);class h{constructor(t,e,n,s){this.metric={top:t,left:e,width:n,height:s},this.blinkTime=500,this.elapsedTime=0,this.color="#000000"}setPosition(t,e){this.metric.top=t,this.metric.left=e}setColor(t="#000000"){this.color=t}draw(t,e){t.save(),this.elapsedTime<this.blinkTime&&(t.strokeStyle!==this.color&&(t.strokeStyle=this.color),t.beginPath(),t.moveTo(this.metric.left,this.metric.top),t.lineTo(this.metric.left,this.metric.top+this.metric.height),t.stroke()),this.elapsedTime+=e,this.elapsedTime>2*this.blinkTime&&(this.elapsedTime=0),t.restore()}}class l{isInside(t,e){Object.keys(t);return t.left<e.left+e.width&&t.left+t.width>e.left&&t.top<e.top+e.height&&t.height+t.top>e.top}}class d{constructor(t){this.animatedProperties={},Object(a.merge)(this.animatedProperties,t.properties),this.animations={}}setAnimation(t,e,n,s){this.animations[t]={animationFunc:s,timeCount:n,time:1e3*e,elapseTime:0,animationTimePast:0}}deleteAnimation(t){delete this.animations[t]}animate(t,e,n){const s=Object.keys(this.animations);for(let i=0;i<s.length;i++){const r=this.animations[s[i]];r.animationFunc(t,e.properties,this.animatedProperties,r.elapseTime/r.time,e),r.elapseTime+=n,r.elapseTime>r.time&&(r.elapseTime=0,r.animationTimePast+=1,this.animatedProperties={},e.hovered?Object(a.merge)(this.animatedProperties,e.hoverProperties):Object(a.merge)(this.animatedProperties,e.properties),r.animationTimePast>=r.timeCount&&(delete this.animations[s[i]],e.handlers.handle({target:e,type:o.ANIMATION.ANIMATION_END,subtype:"ANIMATION",payload:{animationName:s[i]}})))}}}class c{constructor(){this[o.MOUSE.MOUSE_MOVE]=[],this[o.MOUSE.MOUSE_DOWN]=[],this[o.KEYBOARD.KEY_PRESS]=[],this[o.KEYBOARD.KEY_DOWN]=[],this[o.ANIMATION.ANIMATION_END]=[]}handle(t){const e=this[t.type];if(e)for(let n of e)n(t)}addEventListener(t,e){this[t]&&this[t].push(e)}}const g=document.createElement("canvas").getContext("2d"),u=(t,e,n)=>(g.font=`${n}px ${e}`,g.measureText(t).width);class m{constructor(t=0,e=0,n=0,s=0,i=null,r){this.parentComponent=i,this.properties={},this.properties.drawBorder=!1,this.properties.overflow="visible",this.hovered=!1,this.properties.color={backgroundColor:"rgba(0,0,0,0)",borderColor:"#000000"},this.backgroundImage=null,this.properties.top=t,this.properties.left=e,this.properties.width=n,this.properties.height=s,this.properties.cursor="auto",this.collision=new l,this.animations=new d(this),this.handlers=new c,this.handlers.addEventListener(o.MOUSE.MOUSE_MOVE,this.handleHover),({top:t,left:e,width:n,height:s}=this.convertFromPercentageToPixel(t,e,n,s)),this.hoverProperties={},Object(a.merge)(this.hoverProperties,this.properties),this.setBoundingClientRect(t,e,n,s),this.scrollXOffset=0,this.scrollYOffset=0,null!==i?(i.addComponent(this,r),Object(a.merge)(this.initialBoundingClientRect,this.properties.boundingClientRect)):(this.initialBoundingClientRect={},Object(a.merge)(this.initialBoundingClientRect,this.properties.boundingClientRect))}addEventListener(t,e){this.handlers.addEventListener(t,e)}convertFromPercentageToPixel(t,e,n,s){const i=this.getParentComponent();let o,r;const a=/%/,h=Math.floor;return null===i?(o=window.innerWidth,r=window.innerHeight):({width:o,height:r}=i.getBoundingClientRect()),"string"==typeof t&&a.test(t)&&(t=h(parseFloat(t)/100*r)),"string"==typeof e&&a.test(e)&&(e=h(parseFloat(e)/100*o)),"string"==typeof n&&a.test(n)&&(n=h(parseFloat(n)/100*o)),"string"==typeof s&&a.test(s)&&(s=h(parseFloat(s)/100*r)),{top:t,left:e,width:n,height:s}}traverse(t){return t(this)}alignCenter(){const t=this.getParentComponent();let e=window.innerWidth,n=window.innerHeight;null!==t&&({width:e,height:n}=t.getBoundingClientRect());const{width:s,height:i}=this.getBoundingClientRect();let o=Math.round((n-i)/2),r=Math.round((e-s)/2);this.setBoundingClientRect(o,r,s,i)}setBackgroundImage(t=null){this.backgroundImage=t;const{width:e,height:n}=this.getBoundingClientRect();this.backgroundImage.setSize(e,n)}calculateTotalWidthComponent(t,e,n,s,i){const o=Object(a.get)(t,i);e[String(s)]=n+o}handleHover(t){const e=t.target,n=document.querySelector("canvas");n.style.cursor!==e.properties.cursor&&(n.style.cursor=e.properties.cursor),!0!==e.hovered&&(e.hovered=!0,Object(a.merge)(e.animations.animatedProperties,e.hoverProperties))}getBoundingClientRect(){return this.animations.animatedProperties.boundingClientRect}getClippedBoundingClientRect(){return this.animations.animatedProperties.clippedBoundingClientRect}setHovered(t){this.hovered!==t&&(this.hovered=t,t?Object(a.merge)(this.animations.animatedProperties,this.hoverProperties):Object(a.merge)(this.animations.animatedProperties,this.properties))}setBoundingClientRect(t,e,n,s){const i=this.getBoundingClientRect();let o,r,h,l;i&&({top:o,left:r,width:h,height:l}=i),void 0===t&&i&&"number"!=typeof t&&(t=o),void 0===e&&i&&"number"!=typeof e&&(e=r),void 0===n&&i&&"number"!=typeof n&&(n=h),void 0===s&&i&&"number"!=typeof s&&(s=l),this.properties.top=t,this.properties.left=e,this.properties.width=n,this.properties.height=s,this.properties.boundingClientRect={top:t,left:e,width:n,height:s,right:e+n,bottom:t+s},this.animations.animatedProperties.boundingClientRect={},this.hoverProperties.boundingClientRect={},Object(a.merge)(this.animations.animatedProperties.boundingClientRect,this.properties.boundingClientRect),Object(a.merge)(this.hoverProperties.boundingClientRect,this.properties.boundingClientRect)}setBoundingClippedClientRect(t=0,e=0,n=0,s=0){this.properties.clippedBoundingClientRect={top:t,left:e,width:n,height:s,right:e+n,bottom:t+s},this.animations.animatedProperties.clippedBoundingClientRect={},this.hoverProperties.clippedBoundingClientRect={},Object(a.merge)(this.animations.animatedProperties.clippedBoundingClientRect,this.properties.clippedBoundingClientRect),Object(a.merge)(this.hoverProperties.clippedBoundingClientRect,this.properties.clippedBoundingClientRect)}setBackgroundColor(t="#000000"){this.properties.color.backgroundColor=t,this.hoverProperties.color.backgroundColor=t,this.animations.animatedProperties.color.backgroundColor=t}setBorderColor(t="#000000"){this.properties.color.borderColor=t,this.hoverProperties.color.borderColor=t,this.animations.animatedProperties.color.borderColor=t}setParentComponent(t){this.parentComponent=t;let{top:e,left:n,width:s,height:i}=this.properties;({top:e,left:n,width:s,height:i}=this.convertFromPercentageToPixel(e,n,s,i)),this.setBoundingClientRect(e,n,s,i),this.initialBoundingClientRect={},Object(a.merge)(this.initialBoundingClientRect,this.properties.boundingClientRect)}setOverflow(t){if(this.properties.overflow=t,this.hoverProperties.overflow=t,this.animations.animatedProperties.overflow=t,"overflow"===t&&this.calculateClippedSize(),"scroll"===t){const t=this.calculateTotalHeightComponent(),e=this.calculateTotalWidthComponent(),{width:n,height:s}=this.getBoundingClientRect();t>s&&(this.scrollY=new f("vertical",t,this)),e>n&&(this.scrollX=new f("horizontal",e,this))}}calculateClippedSize(){this.traverse(t=>{const e=t.getParentComponent();let{top:n,right:s,bottom:i,left:o}=t.getBoundingClientRect();if(null!==e){const t=e.getBoundingClientRect();o<0&&(o=0),n<0&&(n=0),t.width<s&&(s=t.width),t.height<i&&(i=n>t.top?n:t.height)}t.setBoundingClippedClientRect(n,o,Math.abs(s-o),Math.abs(i-n))})}getParentComponent(){return this.parentComponent}getBackgroundImage(){return this.backgroundImage}getOverflow(){return this.properties.overflow}addComponent(t){}removeComponent(t){}setContextProperties(t,e){this.animations.animate(t,this,e)}paintComponent(t,e){let{top:n,left:s,width:i,height:o}=this.getBoundingClientRect(),r=this.animations.animatedProperties.color;if(this.drawBorder&&(t.strokeStyle=r.borderColor,t.strokeRect(s,n,i,o)),t.fillStyle=r.backgroundColor,t.fillRect(s,n,i,o),"scroll"===this.properties.overflow||"overflow"===this.properties.overflow){const e=new Path2D;e.rect(s,n,i,o),t.clip(e,"nonzero")}null!==this.backgroundImage&&this.backgroundImage.draw(t,s,n)}drawComponent(t,e){this.setContextProperties(t,e),this.paintComponent(t,e)}draw(t,e){t.save();const n=this.getParentComponent();if(null!==n&&t.translate(n.getBoundingClientRect().left,n.getBoundingClientRect().top),this.drawComponent(t,e),this.children)for(let n of this.children)n.component.draw(t,e);t.restore()}}class p extends m{constructor(t=0,e=0,n=0,s=0,i=null){super(t,e,n,s,i),this.children=[]}addComponent(t,e){t.setParentComponent(this),void 0!==e&&"string"==typeof e?this.children.push({component:t,name:e}):this.children.push({component:t,name:Object(a.uniqueId)("component ")})}removeComponent(t){const e=this.children.findIndex(({component:e})=>e===t);return 0!=~e&&(this.children.splice(e,1),!0)}getChildComponent(t){if("number"==typeof t&&this.children.length<t&&t>=0)return this.children[t].component;const e=this.children.find(e=>e.name===t);return e?e.component:null}dropChildren(){this.children=[]}traverse(t){if(!t(this)&&this.children)for(let e of this.children){const{component:n}=e;if(n.traverse)n.traverse(t);else{if(t(n))return}}}setScrollYOffer(t){this.scrollYOffset=t,this.children.forEach(({component:e})=>{if(e instanceof f)return;const{top:n}=e.initialBoundingClientRect;e.setBoundingClientRect(n+t);const s=this.getBackgroundImage();s&&s.setScrollYOffer(s.y+t)})}setScrollXOffer(t){this.scrollXOffset=t,this.children.forEach(({component:e})=>{if(e instanceof f)return;const{left:n}=e.initialBoundingClientRect;e.setBoundingClientRect(void 0,n+t);const s=this.getBackgroundImage();s&&s.setScrollXOffer(s.x+t)})}calculateTotalWidthComponent(){if(0===this.children.length)return null;let t=this.children[0].component;const{left:e,width:n}=t.getBoundingClientRect();let s=e+n;for(let t=1;t<this.children.length;t++){const e=this.children[t].component;let{left:n,width:i}=e.getBoundingClientRect();n+i>s&&(s=n+i)}return s}calculateTotalHeightComponent(){if(0===this.children.length)return null;let t=this.children[0].component;const{top:e,height:n}=t.getBoundingClientRect();let s=e+n;for(let t=1;t<this.children.length;t++){const e=this.children[t].component;let{top:n,height:i}=e.getBoundingClientRect();n+i>s&&(s=n+i)}return s}checkForCollision(t){const e=[];let n=1;return this.traverse(s=>{const{top:i,left:o,width:r,height:a}=s.getBoundingClientRect(),h={width:r,height:a};let l=0,d=0,c=1,g=s.getParentComponent();const u=[];for(;null!==g;){let{top:t,left:e}=g.getBoundingClientRect();l+=t,d+=e,c+=1,"scroll"!==g.getOverflow()&&"overflow"!==g.getOverflow()||u.push(g),g=g.getParentComponent()}if(l+=i,d+=o,h.top=l,h.left=d,0!==u.length)for(let t=0;t<u.length;t++){let{top:e,left:n,width:i,height:o}=u[t].getBoundingClientRect(),r=e,a=n,l=u[t].getParentComponent();for(;null!==l;){let{top:t,left:e}=l.getBoundingClientRect();r+=t,a+=e,l=l.getParentComponent()}const d={top:r,left:a,width:i,height:o};if(!s.collision.isInside(d,h))return null}this.collision.isInside(h,t)&&(e.push({o:s,depth:c}),c>n&&(n=c))}),0!==e.length?e:null}}class f extends p{constructor(t,e,n){let s,i=window.innerWidth,r=window.innerHeight;n&&({width:i,height:r}=n.getBoundingClientRect()),"vertical"===t?super(0,i-17,17,s=r,n):super(r-17,0,s=i,17,n),this.childWidth=e,this.setBackgroundColor("#F1F1F1");let a,h=String.fromCharCode(parseInt("25c4",16)),l=String.fromCharCode(parseInt("25ba",16));"vertical"===t&&(h=String.fromCharCode(parseInt("25b2",16)),l=String.fromCharCode(parseInt("25bc",16))),this.orientation=t;const d=new C(0,0,17,17,h,this);let c;a="vertical"===t?new C(s-34,0,17,17,l,this):new C(0,s-34,17,17,l,this),d.setBackgroundColor("#F1F1F1"),a.setBackgroundColor("#F1F1F1"),d.hoverProperties.color.backgroundColor="#D2D2D2",a.hoverProperties.color.backgroundColor="#D2D2D2";const g=s-51;let u,f,w;c="vertical"===t?new p(17,0,17,g,this):new p(0,17,g,17,this),f="vertical"===t?r/e:i/e,(u="vertical"===t?new m(0,2,13,Math.floor(f*g),c):new m(2,0,Math.floor(f*g),13,c)).setBackgroundColor("#C1C1C1"),this.scrollPos=0,this.scrollPosMax=g-Math.floor(f*g),this.partOfParent=f,w="vertical"===t?e-r:e-i;let y=0,I=10/this.scrollPosMax;d.addEventListener(o.MOUSE.MOUSE_DOWN,t=>{this.scrollPos+10<0?(this.scrollPos+=10,y+=I*w):(this.scrollPos=0,y=0),"vertical"===this.orientation?(u.setBoundingClientRect(-this.scrollPos),n.setScrollYOffer(y)):(u.setBoundingClientRect(void 0,-this.scrollPos),n.setScrollXOffer(y))}),a.addEventListener(o.MOUSE.MOUSE_DOWN,t=>{this.scrollPos-10>-this.scrollPosMax?(this.scrollPos-=10,y-=I*w):(this.scrollPos=-this.scrollPosMax,y=-w),"vertical"===this.orientation?(u.setBoundingClientRect(-this.scrollPos),n.setScrollYOffer(y)):(u.setBoundingClientRect(void 0,-this.scrollPos),n.setScrollXOffer(y))})}}class C extends m{constructor(t=0,e=0,n=0,s=0,i="",o=null){super(t,e,n,s,o);const r=u(i,"monospace","16px");this.label=new w(Math.floor(s/2)-8,Math.floor(n/2)-Math.floor(r/2),r+1,16,i),this.properties.cursor="pointer"}paintComponent(t,e){super.paintComponent(t,e);const{top:n,left:s}=this.getBoundingClientRect();t.save(),t.translate(s,n),this.label.draw(t,e),t.restore()}}class w extends m{constructor(t=0,e=0,n=0,s=0,i="",r=null){super(t,e,n,s,r),this.text=i,this.properties.color.textColor="#000000",this.properties.textProperties={textAlign:"left",textBaseline:"top",fontSize:16,fontFamily:"monospace"},this.maxTextLength="infinite",this.editable=!1,this.handlers.addEventListener(o.MOUSE.MOUSE_DOWN,this.handleMouseDown),this.handlers.addEventListener(o.KEYBOARD.KEY_PRESS,this.handleKeyPress),this.handlers.addEventListener(o.KEYBOARD.KEY_DOWN,this.handleKeyDown),this.linesMetric=[],this.textLines=[],this.cursorPosition={row:0,column:0,index:0},this.properties.cursor="text",Object(a.merge)(this.animations.animatedProperties,this.properties),Object(a.merge)(this.hoverProperties,this.properties),this.neededToRecalculate={needed:!0,row:0},this.cursor=new h(0,0,1,this.properties.textProperties.fontSize)}handleMouseDown(t){if(t.target.editable){const e=t.target;if(""===e.text)return e.cursor.setPosition(0,0),void(e.cursorPosition={row:0,column:0,index:0});let n=!1;const{top:s,left:i}=e.getBoundingClientRect();let o=s,r=i,a=e.getParentComponent();for(;a;){const{top:t,left:e}=a.getBoundingClientRect();o+=t,r+=e,a=a.getParentComponent()}const h={top:t.payload.mouseCoord.top,left:t.payload.mouseCoord.left,width:1,height:1};for(let t=0;t<e.glyphPosition.length&&!n;t++){const s=e.glyphPosition[t];for(let i=0;i<s.length&&!n;i++){const{top:a,left:l,width:d,height:c}=s[i];(n=e.collision.isInside({top:a+o,left:l+r,width:d,height:c},h))&&(e.cursor.setPosition(a,l),e.cursorPosition={row:t,column:i,index:e.textLines[t].startOfLine+i})}}if(!n)for(let t=0;t<e.linesMetric.length&&!n;t++){const{top:s,left:i,width:a,height:l}=e.linesMetric[t];(n=e.collision.isInside({top:s+o,left:i+r,width:e.getBoundingClientRect().width,height:l},h))&&(e.cursor.setPosition(s,a),e.cursorPosition={row:t,column:e.glyphPosition[t].length,index:e.textLines[t].startOfLine+e.glyphPosition[t].length})}if(!n){const{top:t,width:n}=e.linesMetric[e.linesMetric.length-1];e.cursor.setPosition(t,n),e.cursorPosition={row:e.linesMetric.length-1,column:e.glyphPosition[e.glyphPosition.length-1].length,index:e.textLines[e.glyphPosition.length-1].startOfLine+e.glyphPosition[e.glyphPosition.length-1].length}}}}handleKeyPress(t){if(t.target.editable){const e=t.target;if("number"==typeof e.maxTextLength&&e.text.length>=e.maxTextLength)return;if("Delete"===t.payload.key)return;if("Backspace"===t.payload.key)return;if("Enter"===t.payload.key)return;e.text=e.insertGlyph(t.payload.key,e.cursorPosition.index,e.text),e.cursorPosition.index+=1,e.neededToRecalculate.needed=!0}}handleKeyDown(t){if(t.target.editable){const e=t.target;let n=t.payload.key,s=e.cursorPosition.index;if("Delete"===n){if(s>=e.text.length)return;e.text=e.deleteGlyph(s,e.text)}else if("Backspace"===n){if(0===s)return;e.text=e.deleteGlyph(s-1,e.text),s-=1}e.cursorPosition.index=s,e.neededToRecalculate.needed=!0}}deleteGlyph(t,e){return e.slice(0,t)+e.slice(t+1)}insertGlyph(t,e,n){return e>=n.length?n+t:0===e?t+n:n.slice(0,e)+t+n.slice(e)}getText(){return this.text}setText(t=""){this.neededToRecalculate.needed=!0,this.text=t}setFontSize(t=16){this.properties.textProperties.fontSize=t}setTextColor(t="#000000"){this.properties.color.textColor=t}setFont(t){this.textProperties.font=t}setCursorPositionFrom2D(t,e){0!==this.glyphPosition.length?e>=this.glyphPosition[t].length?this.cursor.setPosition(this.glyphPosition[t][e-1].top,this.glyphPosition[t][e-1].left+this.glyphPosition[t][e-1].width):this.cursor.setPosition(this.glyphPosition[t][e].top,this.glyphPosition[t][e].left):this.cursor.setPosition(0,0)}setContextProperties(t,e){t.fillStyle=this.animations.animatedProperties.color.textColor,t.font=`${this.animations.animatedProperties.textProperties.fontSize}px ${this.animations.animatedProperties.textProperties.fontFamily}`,t.textAlign=this.animations.animatedProperties.textProperties.textAlign,t.textBaseline=this.animations.animatedProperties.textProperties.textBaseline,super.setContextProperties(t,e)}calculateLines(t){const e=this.getBoundingClientRect().width,n=this.animations.animatedProperties.textProperties.fontSize;this.textLines=[],this.linesMetric=[];let s=0,i=0,o=0,r="";this.text.split("").forEach((a,h)=>{if(i=t.measureText(a).width,s+i<e)return r+=a,void(s+=i);this.linesMetric.push({top:this.textLines.length*n,left:0,width:s,height:n}),this.textLines.push({startOfLine:o,line:r}),o+=r.length,i=t.measureText(a).width,s=i,r=a}),""!==r&&(this.linesMetric.push({top:this.textLines.length*n,left:0,width:t.measureText(r).width,height:n}),this.textLines.push({startOfLine:o,line:r})),this.calculateGlyphPosition(t)}calculateGlyphPosition(t){this.glyphPosition=[];const e=this.animations.animatedProperties.textProperties.fontSize;this.textLines.forEach(({line:n},s)=>{const i=[];let o=0;n.split("").forEach(n=>{const r=t.measureText(n).width;i.push({glyph:n,left:o,top:e*s,width:r,height:e}),o+=r}),this.glyphPosition.push(i)})}convertIndexTo2DPosition(t){let e=0,n=0;for(let n=0;n<this.textLines.length&&this.textLines[n].startOfLine<t;n++)e=n;return 0!==this.textLines.length?(n=t-this.textLines[e].startOfLine)>=this.glyphPosition[e].length&&(n=this.glyphPosition[e].length,t=this.textLines[e].startOfLine+n):(n=0,t=0),{row:e,column:n,index:t}}paintComponent(t,e){super.paintComponent(t,e);let{top:n,left:s}=this.getBoundingClientRect();if(t.save(),t.translate(s,n),this.neededToRecalculate.needed){this.calculateLines(t,this.text,this.neededToRecalculate.row);const{row:e,column:n,index:s}=this.convertIndexTo2DPosition(this.cursorPosition.index);this.cursorPosition.row=e,this.cursorPosition.column=n,this.cursorPosition.index=s,this.setCursorPositionFrom2D(e,n),this.neededToRecalculate.needed=!1}t.fillStyle=this.properties.color.textColor,t.font=`${this.properties.textProperties.fontSize}px ${this.properties.textProperties.fontFamily}`,this.textLines.forEach(({line:e},n)=>{t.fillText(e,0,this.linesMetric[n].top)}),this.isSelected&&this.editable&&this.cursor.draw(t,e),t.restore()}}class y{constructor(t,e=0,n=0,s,i,o,r,a=0,h=0,l,d){this.htmlComponent=t,this.x=e,this.y=n,void 0!==o&&(this.width=o),void 0!==r&&(this.height=r),void 0!==l&&(this.sWidth=l),void 0!==d&&(this.sHeight=d),this.naturalWidth=s,this.naturalHeight=i,this.offsetX=0,this.offsetY=0,this.scrollXOffset=0,this.scrollYOffset=0,this.sx=a,this.sy=h}setSize(t,e){this.width=t,this.height=e,this.recalculateFrames()}setScrollXOffer(t){this.scrollXOffset=t}setScrollYOffer(t){this.scrollYOffset=t}setDXPosition(t,e){this.x=t,this.y=e}recalculateFrames(){void 0!==this.naturalWidth?(this.xFramesCount=Math.floor((this.naturalWidth-this.sx)/this.sWidth),this.xFramesCount<1&&(this.xFramesCount=1)):this.xFramesCount=1,void 0!==this.naturalHeight?(this.yFramesCount=Math.floor((this.naturalHeight-this.sy)/this.sHeight),this.yFramesCount<1&&(this.yFramesCount=1)):this.yFramesCount=1,this.currentXFrame=1,this.currentYFrame=1}getHtml(){return this.htmlComponent}getXFramesCount(){return this.xFramesCount}getYFramesCount(){return this.yFramesCount}getFramesCount(){return this.xFramesCount*this.yFramesCount}getRemainXFramesCount(){return this.xFramesCount-this.currentXFrame}getRemainYFramesCount(){return this.yFramesCount-this.currentYFrame}getRemainFramesCount(){return(this.xFramesCount-this.currentXFrame)*(this.yFramesCount-this.currentYFrame)}setNextFrame(){this.currentXFrame+1>this.xFramesCount?this.currentYFrame+1>this.yFramesCount?(this.currentXFrame=1,this.currentYFrame=1):(this.currentYFrame+=1,this.currentXFrame=1):this.currentXFrame+=1,this.offsetX=this.sx+this.sWidth*(this.currentXFrame-1),this.offsetY=this.sy+this.sHeight*(this.currentYFrame-1)}setFrame(t){let e=this.getFramesCount(),n=Math.floor(e*t)+1;n>e&&(n=e);let s=this.getXFramesCount();n<s?(this.currentXFrame=n,this.currentYFrame=1):(this.currentYFrame=Math.ceil(n/s),this.currentXFrame=n-(this.currentYFrame-1)*s),this.offsetX=this.sx+this.sWidth*(this.currentXFrame-1),this.offsetY=this.sy+this.sHeight*(this.currentYFrame-1)}setOffset(t){let e=this.naturalWidth-this.sWidth,n=this.getYFramesCount()*e,s=Math.floor(n*t),i=Math.floor(s/this.sWidth);this.offsetY=this.sHeight*Math.floor(s/e),this.offsetX=s-i*this.sWidth}draw(t,e,n){let s=this.x,i=this.y;void 0!==e&&void 0!==n&&(s=e,i=n),void 0!==this.width?t.drawImage(this.htmlComponent,this.offsetX,this.offsetY,this.sWidth,this.sHeight,s+this.scrollXOffset,i+this.scrollYOffset,this.width,this.height):t.drawImage(this.htmlComponent,s+this.scrollXOffset,i+this.scrollYOffset)}}class I extends m{constructor(t=0,e=0,n=0,s=0,i="",o=null){super(t,e,n,s,o);const r=u(i,"monospace","16px");this.label=new w(Math.floor(s/2)-8,Math.floor(n/2)-Math.floor(r/2),r+1,16,i),this.properties.cursor="pointer"}paintComponent(t,e){super.paintComponent(t,e);const{top:n,left:s}=this.getBoundingClientRect();t.save(),t.translate(s,n),this.label.draw(t,e),t.restore()}}class M extends p{constructor(t=0,e=0,n=0,s=0,i,o=null){super(t,e,n,s,o);const r=Math.ceil(n/2),a=Math.ceil(s/2),h=Math.ceil((u(i,"monospace","16px")+1)/2),l=Math.ceil(.6*r),d=Math.ceil(u("x","monospace","16px")),c=new w(a-10-20-3,r-l,2*h,20,i),g=new w(a-10,r-l,2*l,20,""),m=new I(2*a-50-5,2*r-100-5,100,50,"");g.editable=!0,g.setBackgroundColor("#bb0000"),g.maxTextLength=Math.floor(l/d*2),c.setBackgroundColor("#00bbbb"),m.setBackgroundColor("#aaaaaa"),g.setTextColor("#FFFF00"),g.cursor.setColor("#08B600"),this.descriptionKey="description",this.userInputKey="userinput",this.buttonKey="button",this.addComponent(c,this.descriptionKey),this.addComponent(g,this.userInputKey),this.addComponent(m,this.buttonKey)}addButtonEventListener(t,e){this.getChildComponent(this.buttonKey).addEventListener(t,e)}getOkButtonComponent(){return this.getChildComponent(this.buttonKey)}getDescriptionComponent(){return this.getChildComponent(this.descriptionKey)}getInputUserComponent(){return this.getChildComponent(this.userInputKey)}getInputUser(){return this.getChildComponent(this.userInputKey).text}}class x extends p{constructor(t=0,e=0,n=0,s=0,i=[],o={},r=null){super(t,e,n,s,r),this.magics=[...i],this.totalWidth=0;const a=o.back,{naturalWidth:h,naturalHeight:l}=a,d=new y(a,0,0,h,l,h,l,0,0,h,l);this.setBackgroundImage(d),this.magics.forEach(t=>{const e=t.getGraphicComponent(),{width:n,height:s}=e.getBoundingClientRect(),i=t.getName(),o=Math.ceil(u(i,"monospace","16px"));e.setBoundingClientRect(0,0,n,s);const r=new p(5,this.totalWidth+5,n,s+3+16),a=new w(0,0,o,16,i);a.properties.cursor="auto",r.addComponent(e,"picture"),r.addComponent(a,"name"),a.alignCenter(),a.setBoundingClientRect(s+3),a.setTextColor("#E8D478"),this.addComponent(r,t.getName()),this.totalWidth+=5+n})}addMagicSelectingEventListener(t,e){this.getChildComponent(this.buttonKey),this.magics.forEach(n=>{n.getGraphicComponent().addEventListener(t,e)})}findMagicByGraphicComponent(t){const e=this.magics.find(e=>{const n=e.getGraphicComponent();return t===n});return e||null}selectMagic(){return new Promise(t=>{this.addMagicSelectingEventListener(o.MOUSE.MOUSE_DOWN,e=>{t(e.target.getParentComponent().getParentComponent().findMagicByGraphicComponent(e.target))})})}}class B extends p{constructor(t=0,e=0,n=0,s=0,i,o,r,a=null){super(t,e,n,s,a),this.minValue=i,this.maxValue=o,this.currentValue=r,this.oneInPixel=(n-2)/(o-i);const h=new m(1,1,this.oneInPixel*(r-i),s-2);h.setBackgroundColor("#aa0000"),this.setBackgroundColor("#ffffff"),this.barComponentKey="bar";const l=`${r}/${o}`,d=Math.ceil(u(l,"monospace",16))+1,c=new w(0,0,d,16,l);this.labelComponentKey="label",this.addComponent(h,this.barComponentKey),this.addComponent(c,this.labelComponentKey),c.alignCenter()}getTextComponent(){return this.getChildComponent(this.labelComponentKey)}getBarComponent(){return this.getChildComponent(this.barComponentKey)}setBarColor(t="#aa0000"){this.getChildComponent(this.barComponentKey).setBackgroundColor(t)}setValue(t){this.currentValue=t;const e=this.getChildComponent(this.barComponentKey),{top:n,left:s,height:i}=e.getBoundingClientRect();e.setBoundingClientRect(n,s,Math.floor(t*this.oneInPixel),i);const o=`${t}/${this.maxValue}`,r=this.getChildComponent(this.labelComponentKey);r.setText(o);const{height:a}=r.getBoundingClientRect(),h=Math.ceil(u(o,"monospace",16))+1;r.setBoundingClientRect(0,0,h,a),r.alignCenter()}}class E extends p{constructor(t=0,e=0,n=0,s=0,i={},o=null){super(t,e,n,s,o),this.enemyInfoWindowKey="enemy",this.playerInfoWindowKey="player";const r=i.back,a=i.left,h=i.right,{naturalWidth:l,naturalHeight:d}=r,{naturalWidth:c,naturalHeight:g}=a,{naturalWidth:u,naturalHeight:p}=h,f=new y(r,0,0,l,d,l,d,0,0,l,d),C=new y(a,0,0,c,g,c,g,0,0,c,g),w=new y(h,0,0,u,p,u,p,0,0,u,p);let I=0;for(;I<n;){const t=new m(0,I,l,d);t.setBackgroundImage(f),this.addComponent(t),I+=l}const M=new m(0,0,c,g);M.setBackgroundImage(C),this.addComponent(M);const x=new m(0,n-u,u,p);x.setBackgroundImage(w),this.addComponent(x)}getPlayerInfoWindow(){return this.getChildComponent(this.playerInfoWindowKey)}getEnemyInfoWindow(){return this.getChildComponent(this.enemyInfoWindowKey)}setEnemyInfoWindow(t){const e=this.getChildComponent(this.enemyInfoWindowKey);e&&this.removeComponent(e),this.addComponent(t,this.enemyInfoWindowKey)}setPlayerInfoWindow(t){const e=this.getChildComponent(this.playerInfoWindowKey);e&&this.removeComponent(e),this.addComponent(t,this.playerInfoWindowKey)}setEnemyInfo(t,e){const n=this.getChildComponent(this.enemyInfoWindowKey);n.getChildComponent(n.healthBarKey).setValue(e);const s=n.getChildComponent(n.nameLabelKey);s.setText(t);const{top:i,left:o,height:r}=s.getBoundingClientRect(),a=Math.ceil(u(t,s.properties.textProperties.fontFamily,s.properties.textProperties.fontSize));s.setBoundingClientRect(i,o,a,r)}setPlayerInfo(t,e){const n=this.getChildComponent(this.playerInfoWindowKey);n.getChildComponent(n.healthBarKey).setValue(e);const s=n.getChildComponent(n.nameLabelKey);s.setText(t);const{top:i,left:o,height:r}=s.getBoundingClientRect(),a=Math.ceil(u(t,s.properties.textProperties.fontFamily,s.properties.textProperties.fontSize));s.setBoundingClientRect(i,o,a,r)}}class b extends p{constructor(t=0,e=0,n=0,s=0,i="",o,r,a,h={},l=null){super(t,e,n,s,l);const d=Math.ceil(u(`${i}:`,"monospace",16))+1,c=new w(15,10,d+1,16,`${i}:`),g=new B(34,10,n-24,25,o,r,a);this.nameLabelKey="namelabel",this.healthBarKey="healtbar",c.setTextColor("#ffffff");const{naturalWidth:m,naturalHeight:p}=h.back,f=new y(h.back,0,0,m,p,m,p,0,0,m,p);this.addComponent(c,this.nameLabelKey),this.addComponent(g,this.healthBarKey),this.setBackgroundImage(f)}getHealthBar(){return this.getChildComponent(this.healthBarKey)}}class v extends p{constructor(t=0,e=0,n=0,s=0,i=0,o=0,r=0,a=0,h=null){super(t,e,n,s,h),this.columnCount=o,this.rowCount=i;let l=0;for(let t=0;t<i;t++){let e=0;for(let n=0;n<o;n++){const s=new p(l,e,r,a);this.addComponent(s,String(t*o+n)),s.setBackgroundColor("rgba(0, 0, 0, 0)"),e+=r}l+=a}}getTableComponent(t=0,e=0){const n=this.getChildComponent(String(t*this.columnCount+e));return n||null}}const A=t=>new Promise(e=>{const n=new XMLHttpRequest;n.open("HEAD",t,!0),n.onreadystatechange=(()=>{n.readyState==n.DONE&&e(n.getResponseHeader("Content-Length"))}),n.send()}),P=(t,e,n)=>new Promise(s=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="arraybuffer";let o=-1;i.onload=(t=>{const e=new Blob([i.response]);s(window.URL.createObjectURL(e))}),i.onprogress=(({loaded:t})=>{t!==o&&(o=t,e(t,n))}),i.send()}),k=t=>new Promise(e=>{t.onload=(t=>{e(t.srcElement)})});class S{constructor(){this.totalSize=0,this.currentLoadedSize=0,this.imageUrl=[],this.loadedImages=[],this.soundUrl=[],this.loadedSound=[]}addUrl(t,e){const n=t.sound,s=t.image,i=e.sound,o=e.image;let r=-1;s&&(~(r=this.imageUrl.findIndex(({name:t})=>t===o))?this.imageUrl[r].urls=[...this.imageUrl[r].urls,...s]:this.imageUrl.push({urls:[...s],name:o})),n&&(~(r=this.soundUrl.findIndex(({name:t})=>t===i))?this.soundUrl[r].urls=[...this.soundUrl[r].urls,...n]:this.soundUrl.push({urls:[...n],name:i}))}async calculateTotalSize(){const t=[];let e=0;this.imageUrl.forEach(({urls:n})=>{n.forEach(n=>{t.push(A(n)),e+=1})}),this.soundUrl.forEach(({urls:e})=>{e.forEach(e=>{t.push(A(e))})});const n=await Promise.all(t);return this.totalSize=n.reduce((t,e)=>t+parseInt(e,10),0),this.imagesSize=n.slice(0,e),this.soundSize=n.slice(e),this.totalSize}async load(t){const e=[],n={},s=(e,s)=>{n[s]=e;let i=0;const o=Object.keys(n);for(let t=0;t<o.length;t++)i+=n[o[t]];this.currentLoadedSize=i;const r=Math.round(this.currentLoadedSize/this.totalSize*100);console.log(r),t&&t(r)};let i=0,o=0;this.imageUrl.forEach(({urls:t})=>{t.forEach(t=>{e.push(P(t,s,o)),o+=1,i+=1})}),this.soundUrl.forEach(({urls:t})=>{t.forEach(t=>{e.push(P(t,s,o)),o+=1})});const r=await Promise.all(e),a=r.slice(0,i).map(t=>{const e=new Image;return e.src=t,k(e)}),h=r.slice(i).map(t=>{const e=new Audio;return e.src=t,e}),l=[...a];let d=await Promise.all(l);d=[...d,...h];const c={images:[],sound:[]};let g=0;for(let t=0;t<this.imageUrl.length;t++){const e=this.imageUrl[t].urls.length,n=this.imageUrl[t].name;c.images.push({images:d.slice(g,g+e),name:n}),g+=e}for(let t=0;t<this.soundUrl.length;t++){const e=this.soundUrl[t].urls.length,n=this.soundUrl[t].name;c.sound.push({sound:d.slice(g,g+e),name:n}),g+=e}return this.imageUrl=[],this.soundUrl=[],this.loaded={...this.loadedImages,...c},c}getImagesByName(t){const e=this.loaded.images.findIndex(({name:e})=>e===t);return~e?this.loaded.images[e].images:null}getSoundByName(t){const e=this.loaded.sound.findIndex(({name:e})=>e===t);return~e?this.loaded.sound[e].sound:null}}class R{constructor(){this.keys=[],this.records=[];for(let t=0;t<localStorage.length;t++){const e=localStorage.key(t);e.match(/malekylik-game/)&&this.keys.push(e)}this.parseRecords()}saveResult(t,e){this.records.push({name:t,monsterKilled:e}),this.records.sort((t,e)=>t.time-e.time);for(let t=0;t<this.records.length&&t<10;t++){const{name:e,monsterKilled:n}=this.records[t],s=`name=${e};monsterKilled=${n};`;localStorage.setItem("malekylik-game="+t,s)}this.records.length>10&&(this.records=this.records.slice(0,10))}parseRecords(){for(let t=0;t<this.keys.length;t++){const e=localStorage.getItem(this.keys[t]).split(";"),n={name:e[0].split("=")[1],monsterKilled:e[1].split("=")[1]};this.records.push(n)}}getSortedRecords(){return this.records.sort((t,e)=>e.monsterKilled-t.monsterKilled),this.records}}var O={IMAGE:{HEAD_IMAGES:"/assets/images/monsters/heads",BODY_IMAGES:"/assets/images/monsters/bodies",LEFT_ARM_IMAGES:"/assets/images/monsters/arms/left",RIGHT_ARM_IMAGES:"/assets/images/monsters/arms/right",LEG_IMAGES:"/assets/images/monsters/legs",BACKGROUND_IMAGES:"/assets/images",MAIN_CHAR:"/assets/images",MAGIC:"/assets/images/magic",UI:"/assets/images/ui"},SOUND:{MAGIC:"/assets/sound/magic"}};class K extends p{constructor(t,e,n,s,i,o,r,a=null){const{naturalWidth:h,naturalHeight:l}=n,{naturalWidth:d,naturalHeight:c}=o,{naturalWidth:g,naturalHeight:u}=s,{naturalWidth:p,naturalHeight:f}=i,{naturalWidth:C,naturalHeight:w}=r,I=g+d+p,M=l+c+w-30;super(t,e,I,M,a);const x=new m(M-w-c,I/2-d/2,d,c);x.setBackgroundImage(new y(o,0,0,d,c,d,c,0,0,d,c));const B=new m(M-w-c-l+30,I/2-h/2-15,h,l);B.setBackgroundImage(new y(n,0,0,h,l,h,l,0,0,h,l));const E=new m(M-w,I/2-C/2-13,C,w);E.setBackgroundImage(new y(r,0,0,C,w,C,w,0,0,C,w));const b=new m(M-w-c+45,I/2-15,g,u);b.setBackgroundImage(new y(s,0,0,g,u,g,u,0,0,g,u));const v=new m(M-w-c+40,I/2-89,p,f);v.setBackgroundImage(new y(i,0,0,p,f,p,f,0,0,p,f)),this.addComponent(x,"body"),this.addComponent(B,"head"),this.addComponent(E,"leg"),this.addComponent(b,"leftarm"),this.addComponent(v,"rightarm")}}class T{constructor(t,e,n,s=null){this.name=t,this.currentHP=n,this.maxHP=e,this.graphicComponent=s,this.magics=[],this.hpChangeListeners=[]}getGraphicComponent(){return this.graphicComponent}async attack(t,e,n){e?(await e.attack(this,t,n),t.takeAttack(e.damage)):t.takeAttack(5)}takeAttack(t){return this.currentHP-=t,this.currentHP<0?(this.currentHP=0,!0):(this.hpChangeListeners.forEach(t=>{t(this.currentHP)}),!1)}addMagic(t){this.magics.push(t)}getMagics(){return this.magics}getName(){return this.name}getCurrentHP(){return this.currentHP}getMaxHP(){return this.maxHP}isAlive(){return this.currentHP>0}addHPChangeListener(t){this.hpChangeListeners.push(t)}}const F=["Ужасный","Злобный","Сопливый"],G=["Огр","Гном","Гоблин"],U=["Том","Макс","Дима"];class L{constructor(t,e,n,s,i){this.headImgs=[...t],this.leftArmImgs=[...e],this.rightArmImgs=[...n],this.bodyImgs=[...s],this.legImgs=[...i]}createMonster(t=0,e=0){const n=Math.random,s=Math.round,i=s(n()*(this.headImgs.length-1)),o=s(n()*(this.leftArmImgs.length-1)),r=s(n()*(this.rightArmImgs.length-1)),a=s(n()*(this.bodyImgs.length-1)),h=s(n()*(this.legImgs.length-1)),l=new K(t,e,this.headImgs[i],this.leftArmImgs[o],this.rightArmImgs[r],this.bodyImgs[a],this.legImgs[h]),{width:d,height:c}=l.getBoundingClientRect();l.setBoundingClientRect(Math.floor((window.innerHeight-150)/2-c/2),Math.floor(window.innerWidth/2+100),d,c);const g=F[s(n()*(F.length-1))],u=G[s(n()*(G.length-1))],m=U[s(n()*(U.length-1))];return new T(`${g} ${u} ${m}`,100,100,l)}}class _ extends p{constructor(t=0,e=0,n=0,s=0,i="",o={},r=null){super(t,e,n,s,r);const a=Math.ceil(n/2),h=Math.ceil(s/2),l=Math.ceil((u(i,"monospace","16px")+1)/2),d=new w(10,a-l,2*l,30,i),c=new I(2*h-50-5,2*a-100-5,100,50,"");d.setBackgroundColor("#00bbbb"),c.setBackgroundColor("#aaaaaa"),this.descriptionKey="description",this.buttonKey="button",this.addComponent(d,this.descriptionKey),this.addComponent(c,this.buttonKey),d.setBackgroundColor("rgba(0, 0, 0, 0)"),d.setTextColor("#ffffff");const g=o.modalWindowImage,{naturalWidth:m,naturalHeight:p}=g,f=o.okButtonImage,{naturalWidth:C,naturalHeight:M}=f;this.setBackgroundImage(new y(g,0,0,m,p,m,p,0,0,m,p)),c.setBoundingClientRect(p-19-M,m-19-C/2,C/2,M),c.setBackgroundImage(new y(f,0,0,C,M,C,M,0,0,C/2,M))}addButtonEventListener(t,e){this.getChildComponent(this.buttonKey).addEventListener(t,e)}answerIsRight(){return!1}getResult(){return new Promise(t=>{this.addButtonEventListener(o.MOUSE.MOUSE_DOWN,()=>{t(this.answerIsRight())})})}}const N=[{charPresentation:"+",perform:(t,e)=>t+e},{charPresentation:"-",perform:(t,e)=>t-e},{charPresentation:"x",perform:(t,e)=>t*e}];var H=[{word:"age",translate:["возраст","век","эпоха","период","стареть"]},{word:"appear",translate:["появляться","казаться","предстать"]},{word:"artist",translate:["художник","артист"]},{word:"autumn",translate:["осень","осенний"]},{word:"bay",translate:["залив","бухта","отсек","губа"]},{word:"beak",translate:["клюв"]},{word:"bloom",translate:["цветение","расцвет","цвести","расцвести"]},{word:"bumpy",translate:["ухабистый","неровный"]},{word:"burst",translate:["взрыв","вспышка","разрыв","лопнуть","разрывать"]},{word:"buzz",translate:["гудеть","жужжать","гул","жужжание","слухи"]},{word:"care",translate:["забота","уход","заботиться","ухаживать"]},{word:"check",translate:["проверка","чек","контроль","проверять","контролировать"]},{word:"chilly",translate:["холодно","сухо","зябко","холодный","прохладный","зябкий","промозглый"]},{word:"comfort",translate:["комфорт","удобства","уют","утешить","утешать"]},{word:"community",translate:["сообщество","община","общество","общность"]},{word:"country",translate:["страна","местность","загородный"]},{word:"covered",translate:["крытый","покрытый"]},{word:"cradle",translate:["колыбель","люлька","гнездо"]},{word:"dangle",translate:["мотаться","болтаться","свисать","качаться"]},{word:"decision",translate:["решение"]},{word:"delicious",translate:["вкусно","восхитительный"]},{word:"dentist",translate:["дантист","зубной врач"]},{word:"dew",translate:["роса"]},{word:"disappear",translate:["исчезать","пропадать"]},{word:"dusty",translate:["пыльный"]},{word:"edge",translate:["край","преимущество","кромка"]},{word:"farmer",translate:["фермер","колхозник"]},{word:"fear",translate:["страх","боязнь","опасение","бояться","опасаться"]},{word:"firefly",translate:["светляк","светлячок"]},{word:"fix",translate:["фиксировать","исправлять","устанавливать","чинить"]},{word:"fluffy",translate:["пушистый"]},{word:"follow",translate:["следовать","следить","придерживаться","идти"]},{word:"gallop",translate:["галопом","галоп","скачка","проскакать","скакать галопом","галопировать"]},{word:"gentle",translate:["нежный","мягкий","вежливый"]},{word:"glance",translate:["взгляд","зрение","вид","зрелище","прицел","увидеть"]},{word:"glossy",translate:["глянцевый","блестящий"]},{word:"glow",translate:["пылать","светиться","пылать","свечение","жар","румянец"]},{word:"goal",translate:["цель","гол","задача"]},{word:"half",translate:["половина","часть","наполовину"]},{word:"healthy",translate:["здоровый","полезный"]},{word:"hoof",translate:["копыто","нога"]},{word:"include",translate:["включать"]},{word:"invitation",translate:["приглашение"]},{word:"knight",translate:["рыцарь"]},{word:"lazy",translate:["ленивый"]},{word:"leaf",translate:["лист","листовой"]},{word:"leak",translate:["утечка","течь","просачиваться"]},{word:"library",translate:["библиотека","библиотечный"]},{word:"market",translate:["рынок","базар","продавать","рыночный"]},{word:"melt",translate:["таять","плавиться","растопить","плавиться","плавить"]},{word:"miserable",translate:["несчастный","жалкий","убогий"]},{word:"month",translate:["месяц"]},{word:"muddy",translate:["мутить","грязный","мутный","тусклый"]},{word:"museum",translate:["музей"]},{word:"note",translate:["заметка","внимание","примечание","записка"]},{word:"pair",translate:["пара","чета","парный"]},{word:"patient",translate:["пациент","терпеливый","пациент","больной"]},{word:"peaceful",translate:["мирное","спокойный","мирный"]},{word:"peck",translate:["клевать","долбить","клевок"]},{word:"pilot",translate:["пилот","летчик","пилотировать"]},{word:"plan",translate:["план","схема","проект","замысел","планировать"]},{word:"pointy",translate:["заостренный"]},{word:"pond",translate:["пруд","водоем","бассейн"]},{word:"president",translate:["президент","председатель"]},{word:"protect",translate:["защищать","охранять","беречь","оберегать"]},{word:"race",translate:["раса","гонки","гонка","род"]},{word:"reach",translate:["достичь","охват","досягаемость","достигать","связаться","доходить"]},{word:"relax",translate:["расслабиться","отдыхать"]},{word:"rotten",translate:["гнилой","прогнивший","тухлый"]},{word:"round",translate:["круглый","раунд","тур","круг","вокруг","кругом","округлять"]},{word:"row",translate:["ряд","грести"]},{word:"sail",translate:["паруса","парус","плыть","плавать"]},{word:"scene",translate:["сцена","картина","эпизод","место действия"]},{word:"scrub",translate:["скраб","кустарник","скрести","тереть"]},{word:"shade",translate:["тень","оттенок"]},{word:"ship",translate:["корабль","судно"]},{word:"shore",translate:["берег","побережье","береговой","подпирать"]},{word:"silky",translate:["шелковистый","шелковый"]},{word:"slide",translate:["горка","слайд","скольжение","ползун","скользить"]},{word:"sniff",translate:["сопение","вдох","нюхать","вдыхать","сопеть"]},{word:"soapy",translate:["мыльный","мылкий"]},{word:"sparkle",translate:["искриться","сверкать","блистать","блестеть","блеск","сияние","искорка","сверкание"]},{word:"spotted",translate:["пятнистый","запятнанный"]},{word:"spring",translate:["весна","пружина","рессора","источник","родник","весенний","возникать"]},{word:"stare",translate:["глазеть","пялиться","поглазеть","пристальный взгляд"]},{word:"summer",translate:["лето"]},{word:"supplies",translate:["предметы снабжения","запас","припасы"]},{word:"tangled",translate:["запутанный"]},{word:"tent",translate:["палатка","навес"]},{word:"tomorrow",translate:["завтра","завтрашний день","завтрашний"]},{word:"trade",translate:["сделка","торговля","торговать","торговый"]},{word:"warm",translate:["тепло","теплый","горячий","жаркий","нагреваться","согревать","греть"]},{word:"wave",translate:["волна","волновой","махать","махнуть","размахивать","развеваться"]},{word:"week",translate:["неделю","неделя"]},{word:"wiggle",translate:["покачивание","покачиваться","извиваться","покачивать","ерзать","покачивание"]},{word:"winter",translate:["зима","зимний"]},{word:"wish",translate:["желание","пожелание","желать"]},{word:"yesterday",translate:["вчера","вчерашний день"]},{word:"young",translate:["молодой","юный","молодежь"]}];const W=window.SpeechRecognition||window.webkitSpeechRecognition;const D=[class extends _{constructor(t=0,e=0,n=0,s=0,i={},o=null){super(t,e,n,s,"Решите данное выражение:",i,o);const r=N[Math.round(Math.random()*(N.length-1))];this.operation=r;const a=i.textFieldImage,{naturalWidth:h,naturalHeight:l}=a;let d=1,c=1;if(d=Math.round(1e3*Math.random()),"x"===r.charPresentation){const t=Math.ceil(1e4/d);c=Math.floor(Math.random()*t)}else c=Math.round(1e3*Math.random());this.first=d,this.second=c;const g=`${d} ${r.charPresentation} ${c} =`,m=Math.ceil(n/2),p=Math.ceil(s/2),f=Math.ceil((u(g,"monospace","16px")+1)/2),C=Math.ceil((u("9999","monospace","16px")+1)/2),I=C+f+3,M=new w(p-15,m-I,2*f,30,g),x=new w(p-15,m-I+2*f+3,2*C,l,"");M.setBackgroundColor("rgba(0, 0, 0, 0)"),M.setTextColor("#ffffff"),x.editable=!0,x.setBackgroundColor("rgba(0, 0, 0, 0)"),x.setBackgroundImage(new y(a,0,0,h,l,h,l,0,0,h,l)),x.maxTextLength=4,x.setTextColor("#FFFF00"),x.cursor.setColor("#08B600"),this.expressionKey="expression",this.answerKey="answer",this.addComponent(M,this.expressionKey),this.addComponent(x,this.answerKey)}answerIsRight(){return parseFloat(this.getChildComponent(this.answerKey).getText())===this.operation.perform(this.first,this.second)}},class extends _{constructor(t=0,e=0,n=0,s=0,i={},o=null){super(t,e,n,s,"Переведите слово:",i,o),this.wordObj=H[Math.round(Math.random()*(H.length-1))];const r=i.textFieldImage,{naturalWidth:a,naturalHeight:h}=r,l=`${this.wordObj.word}: `,d=Math.ceil(s/2),c=Math.ceil((u(l,"monospace","16px")+1)/2),g=new w(d-h-8,5,2*c,h,l),m=new w(d-15,5,a,h,"");m.editable=!0,m.setBackgroundColor("#bb0000");const p=Math.ceil(u("x","monospace","16px"));m.maxTextLength=Math.floor(a/p)+1,m.setBackgroundImage(new y(r,0,0,a,h,a,h,0,0,a,h)),m.setTextColor("#FFFF00"),m.cursor.setColor("#08B600"),g.setBackgroundColor("rgba(0, 0, 0, 0)"),g.setTextColor("#ffffff"),this.descriptionKey="description",this.expressionKey="expression",this.answerKey="answer",this.buttonKey="button",this.addComponent(g,this.expressionKey),this.addComponent(m,this.answerKey),m.alignCenter(),g.setBoundingClientRect(void 0,m.getBoundingClientRect().left)}answerIsRight(){const t=this.getChildComponent(this.answerKey).getText().trim().toLowerCase(),e=this.wordObj.translate;let n=!1;for(let s=0;s<e.length;s++)if(n=t===e[s])return n;return n}},class extends _{constructor(t=0,e=0,n=0,s=0,i={},r=null){super(t,e,n,s,"Произнесите слово:",i,r);const a=i.textFieldImage,{naturalWidth:h,naturalHeight:l}=a,d=i.microButtonImage,{naturalWidth:c,naturalHeight:g}=d;this.word=H[Math.round(Math.random()*(H.length-1))].word;const m=`${this.word}: `,p=new W;p.lang="en-US",p.interimResults=!1,p.maxAlternatives=1,this.recognition=p;const f=Math.ceil(s/2),C=Math.ceil((u(m,"monospace","16px")+1)/2),M=new w(f-l-8,5,2*C,l,m),x=new w(f-15,5,h,l,""),B=new I(f-15,n-10-30,c/2,g,"");B.setBackgroundImage(new y(d,0,0,c,g,c,g,0,0,c/2,g)),x.setBackgroundImage(new y(a,0,0,h,l,h,l,0,0,h,l)),x.setTextColor("#FFFF00"),M.setBackgroundColor("rgba(0, 0, 0, 0)"),M.setTextColor("#ffffff");const E=Math.ceil(u("x","monospace","16px"));x.maxTextLength=Math.floor((n-10)/E),B.setBackgroundColor("#aaaaaa"),this.expressionKey="expression",this.answerKey="answer",this.microButtonKey="microbutton",this.addComponent(M,this.expressionKey),this.addComponent(x,this.answerKey),this.addComponent(B,this.microButtonKey),x.alignCenter(),B.alignCenter(),M.setBoundingClientRect(void 0,x.getBoundingClientRect().left),B.setBoundingClientRect(void 0,x.getBoundingClientRect().right+5);let b=!1;B.addEventListener(o.MOUSE.MOUSE_DOWN,t=>{b?(p.stop(),b=!1,B.getBackgroundImage().setFrame(0)):(p.start(),b=!0,B.getBackgroundImage().setFrame(.6))}),p.onresult=(t=>{t.results.length>0&&x.setText(t.results[0][0].transcript)}),p.onspeechend=(()=>{p.stop(),b=!1,B.getBackgroundImage().setFrame(0)}),p.onerror=(t=>{console.log("Error occurred in recognition: "+t.error),B.getBackgroundImage().setFrame(0)})}answerIsRight(){return this.getChildComponent(this.answerKey).getText().toLowerCase()===this.word}}];class ${constructor(t){this.uiImages=t}createTask(t,e,n,s){const i={textFieldImage:this.uiImages[1],modalWindowImage:this.uiImages[2],okButtonImage:this.uiImages[3],microButtonImage:this.uiImages[4]};return new(0,D[Math.round(Math.random()*(D.length-1))])(t,e,n,s,i)}}class Y{constructor(t,e,n){this.name=t,this.damage=e,this.graphicComponent=n}getGraphicComponent(){return this.graphicComponent}getName(){return this.name}getDamage(){return this.damage}}class j extends Y{constructor(t,e,n,s,i){super(t,e,n),this.attackAnimations=s,this.sound=i}getGraphicComponent(){return this.graphicComponent}getName(){return this.name}getDamage(){return this.damage}async attack(t,e,n){const{left:s,width:i}=t.getGraphicComponent().getBoundingClientRect(),{top:r,left:a,height:h}=e.getGraphicComponent().getBoundingClientRect();let l=a-s+Math.floor(i/4);this.attackAnimations[0].animations.setAnimation("asd",.924,1,(t,e,n,i,o)=>{o.backgroundImage.setFrame(i),o.setBoundingClientRect(void 0,s+l*i)});const d=new Promise(t=>{this.attackAnimations[0].addEventListener(o.ANIMATION.ANIMATION_END,e=>{n.removeScene(this.attackAnimations[0]),t()})});this.attackAnimations[0].setBoundingClientRect(r+Math.floor(h/2),s),n.addScene(this.attackAnimations[0]),this.sound.play(),await d,this.attackAnimations[1].animations.setAnimation("asd",.924,1,(t,e,n,s,i)=>{i.backgroundImage.setFrame(s)});const c=new Promise(t=>{this.attackAnimations[1].addEventListener(o.ANIMATION.ANIMATION_END,e=>{n.removeScene(this.attackAnimations[1]),t()})});this.attackAnimations[1].setBoundingClientRect(r+Math.floor(h/2),a+Math.floor(i/4)),n.addScene(this.attackAnimations[1]),await c}}class X extends Y{constructor(t,e,n,s,i){super(t,e,n),this.attackAnimations=s,this.sound=i}getGraphicComponent(){return this.graphicComponent}getName(){return this.name}getDamage(){return this.damage}async attack(t,e,n){const{top:s,left:i,width:r}=e.getGraphicComponent().getBoundingClientRect();this.attackAnimations[0].animations.setAnimation("asd",.924,1,(t,e,n,s,i)=>{i.backgroundImage.setFrame(s)});const a=new Promise(t=>{this.attackAnimations[0].addEventListener(o.ANIMATION.ANIMATION_END,e=>{n.removeScene(this.attackAnimations[0]),t()})});this.attackAnimations[0].setBoundingClientRect(s,Math.floor(i+r/3)),this.sound.play(),n.addScene(this.attackAnimations[0]),await a}}class z extends m{constructor(t,e,n,s,i=null){const{naturalWidth:o,naturalHeight:r}=s,a=o*n,h=r*n;super(t,e,a,h,i),s instanceof Image&&this.setBackgroundImage(new y(s,0,0,o,r,a,h,0,0,o,r)),this.properties.cursor="pointer"}}class q{constructor(){this.assets={}}addMagicAssets(t,e,n){this.assets[n]={images:t,sound:e}}createMagicArrow(t,e=!1){if(!this.assets.magicArrow)return null;const n=this.assets.magicArrow.images,s=this.assets.magicArrow.sound,i=n[0];let o=n[1];const r=n[3];e&&(o=n[2]);let{naturalWidth:a,naturalHeight:h}=o;const l=new y(o,0,0,a,h,a/14,h,0,0,a/14,h),d=new m(0,0,a/14,h);d.setBackgroundImage(l),({naturalWidth:a,naturalHeight:h}=r);const c=new y(r,0,0,a,h,a/14,h,0,0,a/14,h),g=new m(0,0,a/14,h);g.setBackgroundImage(c);const u=new z(10,10,2,i);return new j("Волшебная стрела",t,u,[d,g],s)}createImplosionArrow(t){if(!this.assets.implosion)return null;const e=this.assets.implosion.images,n=this.assets.implosion.sound,s=e[0],i=e[1];let{naturalWidth:o,naturalHeight:r}=i;const a=new y(i,0,0,o,r,o/19,r,0,0,o/19,r),h=new m(0,0,o/19,r);h.setBackgroundImage(a);const l=new z(10,10,2,s);return new X("Взрыв",t,l,[h],n)}}class V extends m{constructor(t,e,n,s=null){const{naturalWidth:i,naturalHeight:o}=n;super(t,e,i,o,s),this.setBackgroundImage(new y(n,0,0,i,o,i,o,0,0,i,o))}}window.onload=(()=>{new class{constructor(){this.backgroundImgsKey="background",this.mainCharImgsKey="mainchar",this.headImgsKey="heads",this.bodyImgsKey="bodies",this.leftArmImgsKey="leftarms",this.rightArmImgsKey="rightarms",this.legImgsKey="legs",this.magicImgsKey="magics",this.uiImgsKey="ui",this.magicSoundKey="magics",this.statusBarKey="statusbar",this.monsterKillCount=0,this.loadManager=new S,this.storageManager=new R,this.canvas=new s,this.eventQueue=new i,this.ui=new r,this.uiComponents,this.background=new m(0,0,"100%","100%"),this.init(),this.main=this.main.bind(this),this.main(0)}async init(){const t=await this.showLoadingScreen(),e=t.getLoadingProgressBar();this.initLoadingPath();const n=this.loadManager,s=await n.calculateTotalSize();console.log(`total: ${s}`),await n.load(t=>e.setValue(t)),console.log("loaded"),this.canvas.removeScene(t);const i=n.getImagesByName(this.backgroundImgsKey)[0],{width:o,height:r}=this.background.getBoundingClientRect();this.background.setBackgroundImage(new y(i,0,0,i.naturalWidth,i.naturalHeight,o,r,0,0,i.naturalWidth,i.naturalHeight)),this.canvas.addScene(this.background),this.setEventListenersToCanvas();const a=n.getImagesByName(this.headImgsKey),h=n.getImagesByName(this.bodyImgsKey),l=n.getImagesByName(this.leftArmImgsKey),d=n.getImagesByName(this.rightArmImgsKey),c=n.getImagesByName(this.legImgsKey);this.taskFactory=new $(this.loadManager.getImagesByName(this.uiImgsKey)),this.magicFactory=new q,this.monsterFactory=new L(a,l,d,h,c),this.magicFactory.addMagicAssets(n.getImagesByName(this.magicImgsKey).slice(0,4),n.getSoundByName(this.magicSoundKey)[0],"magicArrow"),this.magicFactory.addMagicAssets(n.getImagesByName(this.magicImgsKey).slice(4,6),n.getSoundByName(this.magicSoundKey)[1],"implosion"),this.setUpUI()}setUpUI(t=""){const e=this.loadManager;this.uiComponents=new p(0,0,window.innerWidth,window.innerHeight);const n=e.getImagesByName(this.uiImgsKey).slice(5,8),s={back:n[0],left:n[1],right:n[2]},i=new E(window.innerHeight-150,0,window.innerWidth,150,s);i.setBackgroundColor("#00ff00");const r=e.getImagesByName(this.uiImgsKey)[8],a=new b(10,Math.ceil(window.innerWidth/2)-200-150,200,130,"",0,100,0,{back:r}),h=new b(10,Math.ceil(window.innerWidth/2)+150,200,130,"",0,100,0,{back:r});i.setPlayerInfoWindow(a),i.setEnemyInfoWindow(h),a.setBackgroundColor("#f4f142"),h.setBackgroundColor("#f4f142"),this.ui.add(this.uiComponents);const l=this.showNameEnter(t);l.addButtonEventListener(o.MOUSE.MOUSE_DOWN,t=>{const e=t.target.getParentComponent().getInputUser();this.uiComponents.removeComponent(l),this.canvas.getHtml().style.cursor="auto",this.uiComponents.addComponent(i,this.statusBarKey),this.mainLogic(e)}),this.uiComponents.addComponent(l),this.canvas.addUI(this.ui)}initLoadingPath(){const t=this.loadManager;return t.addUrl({image:[`${O.IMAGE.UI}/bardata.jpg`,`${O.IMAGE.UI}/textfield.jpg`,`${O.IMAGE.UI}/leather.jpg`,`${O.IMAGE.UI}/okbutton.jpg`,`${O.IMAGE.UI}/microbutton.jpg`,`${O.IMAGE.UI}/status.jpg`,`${O.IMAGE.UI}/statusleft.jpg`,`${O.IMAGE.UI}/statusright.jpg`,`${O.IMAGE.UI}/characterinfowindow.jpg`,`${O.IMAGE.UI}/spellsel.jpg`,`${O.IMAGE.UI}/table.jpg`,`${O.IMAGE.UI}/reloadbutton.jpg`]},{image:this.uiImgsKey}),t.addUrl({image:[`${O.IMAGE.BACKGROUND_IMAGES}/dungeon.jpg`]},{image:this.backgroundImgsKey}),t.addUrl({image:[`${O.IMAGE.MAIN_CHAR}/mainChar.png`]},{image:this.mainCharImgsKey}),t.addUrl({image:[`${O.IMAGE.HEAD_IMAGES}/head_1.png`,`${O.IMAGE.HEAD_IMAGES}/head_2.png`,`${O.IMAGE.HEAD_IMAGES}/head_3.png`,`${O.IMAGE.HEAD_IMAGES}/head_4.png`]},{image:this.headImgsKey}),t.addUrl({image:[`${O.IMAGE.BODY_IMAGES}/body_1.png`,`${O.IMAGE.BODY_IMAGES}/body_2.png`,`${O.IMAGE.BODY_IMAGES}/body_3.png`,`${O.IMAGE.BODY_IMAGES}/body_4.png`]},{image:this.bodyImgsKey}),t.addUrl({image:[`${O.IMAGE.LEFT_ARM_IMAGES}/arm_1.png`,`${O.IMAGE.LEFT_ARM_IMAGES}/arm_2.png`,`${O.IMAGE.LEFT_ARM_IMAGES}/arm_3.png`,`${O.IMAGE.LEFT_ARM_IMAGES}/arm_4.png`]},{image:this.leftArmImgsKey}),t.addUrl({image:[`${O.IMAGE.RIGHT_ARM_IMAGES}/arm_1.png`,`${O.IMAGE.RIGHT_ARM_IMAGES}/arm_2.png`,`${O.IMAGE.RIGHT_ARM_IMAGES}/arm_3.png`,`${O.IMAGE.RIGHT_ARM_IMAGES}/arm_4.png`]},{image:this.rightArmImgsKey}),t.addUrl({image:[`${O.IMAGE.LEG_IMAGES}/leg_1.png`,`${O.IMAGE.LEG_IMAGES}/leg_2.png`,`${O.IMAGE.LEG_IMAGES}/leg_3.png`,`${O.IMAGE.LEG_IMAGES}/leg_4.png`]},{image:this.legImgsKey}),t.addUrl({image:[`${O.IMAGE.MAGIC}/magicArrow/magicArrow.png`,`${O.IMAGE.MAGIC}/magicArrow/magicArrowMotionAnimation.png`,`${O.IMAGE.MAGIC}/magicArrow/magicArrowMotionAnimationReverse.png`,`${O.IMAGE.MAGIC}/magicArrow/magicArrowBlowAnimation.png`,`${O.IMAGE.MAGIC}/decay/decay.png`,`${O.IMAGE.MAGIC}/decay/decayBlow.png`],sound:[`${O.SOUND.MAGIC}/magicArrow/MAGICARW.mp3`,`${O.SOUND.MAGIC}/decay/DECAY.mp3`]},{image:this.magicImgsKey,sound:this.magicSoundKey}),t}async mainLogic(t){const e=this.loadManager,n=this.monsterFactory,s=this.taskFactory,i=this.magicFactory,o=this.uiComponents,r=e.getImagesByName(this.uiImgsKey)[9],a=e.getImagesByName(this.mainCharImgsKey)[0],h=new V("1%","11%",a),{width:l,height:d}=h.getBoundingClientRect();h.setBoundingClientRect(Math.floor((window.innerHeight-150)/2-d/2),Math.floor(window.innerWidth/2-l-100),l,d);let c=n.createMonster("1%","11%");this.setEnemy(c),c.addMagic(i.createMagicArrow(5,!0)),c.addMagic(i.createImplosionArrow(5));let g=0;const u=new T(t,100,100,h);for(u.addMagic(i.createMagicArrow(40)),u.addMagic(i.createImplosionArrow(40)),this.setPlayer(u);u.isAlive();){c.isAlive()||(c=n.createMonster("1%","11%"),this.setEnemy(c),c.addMagic(i.createMagicArrow(5,!0)),c.addMagic(i.createImplosionArrow(5)),g+=1);const t=new x(Math.ceil(window.innerHeight/2-55-75),Math.floor(window.innerWidth/2-214),428,132,u.getMagics(),{back:r});t.setBackgroundColor("#a0256b"),t.setOverflow("scroll"),o.addComponent(t);const e=await t.selectMagic();if(null===e){console.log("magic selecting error");break}o.removeComponent(t);const a=s.createTask(Math.ceil(window.innerHeight/2)-172-50,Math.ceil((window.innerWidth-460)/2),460,344);a.setBackgroundColor("#ffff00"),o.addComponent(a);const h=await a.getResult();if(o.removeComponent(a),h&&await u.attack(c,e,this.canvas),c.isAlive()){const t=c.getMagics(),e=Math.round(Math.random()*(t.length-1));await c.attack(u,t[e],this.canvas)}}this.showResultTable(u,g)}async showLoadingScreen(){const t=new Image;t.src=`${O.IMAGE.UI}/bardata.jpg`,await k(t);const{naturalWidth:e,naturalHeight:n}=t,s=new y(t,0,0,e,n,e,n,0,0,e,n),i=new p(0,0,window.innerWidth,window.innerHeight),o=new p(0,0,e,n,i);o.alignCenter(),o.setBackgroundImage(s),i.setBackgroundColor("#000000");const r=new B(0,0,114,16,0,100,0);return o.addComponent(r),r.alignCenter(),r.setBackgroundColor("rgba(0, 0, 0, 0)"),r.getTextComponent().setTextColor("#ffffff"),this.canvas.addScene(i),i.getLoadingProgressBar=(()=>r),i}showNameEnter(t=""){const e=this.loadManager.getImagesByName(this.uiImgsKey)[1],{naturalWidth:n,naturalHeight:s}=e,i=this.loadManager.getImagesByName(this.uiImgsKey)[2],{naturalWidth:o,naturalHeight:r}=i,a=this.loadManager.getImagesByName(this.uiImgsKey)[3],{naturalWidth:h,naturalHeight:l}=a,d=new M(0,0,o,r,"Введите свое имя:");d.setBackgroundColor("#3c76a7"),d.alignCenter(),d.setBackgroundImage(new y(i,0,0,o,r,o,r,0,0,o,r)),d.getInputUserComponent().setBoundingClientRect(void 0,void 0,n,s),d.getInputUserComponent().setBackgroundImage(new y(e,0,0,n,s,n,s,0,0,n,s));const c=Math.ceil(u("x","monospace","16px"));return d.getInputUserComponent().maxTextLength=Math.floor(n/c)+1,d.getDescriptionComponent().setBackgroundColor("rgba(0, 0, 0, 0)"),d.getDescriptionComponent().setTextColor("#ffffff"),d.getOkButtonComponent().setBoundingClientRect(r-19-l,o-19-h/2,h/2,l),d.getOkButtonComponent().setBackgroundImage(new y(a,0,0,h,l,h,l,0,0,h/2,l)),d.getInputUserComponent().setText(t),d}showResultTable(t,e){const n=this.loadManager.getImagesByName(this.uiImgsKey)[10],s=this.loadManager.getImagesByName(this.uiImgsKey)[11],{naturalWidth:i,naturalHeight:r}=n,a=new y(n,0,0,i,r,i,r,0,0,i,r),{naturalWidth:h,naturalHeight:l}=s,d=new y(s,0,0,h,l,h,l,0,0,h,l);this.storageManager.saveResult(t.getName(),e);const c=this.storageManager.getSortedRecords(),g=new v(0,0,i,252,c.length+1,2,131,25);this.uiComponents.addComponent(g),g.alignCenter(),g.setBackgroundImage(a),g.getBackgroundImage().setSize(i,r);const m=new w(0,0,Math.ceil(u("Имя:","monospace",16)),16,"Имя:"),p=new w(0,0,Math.ceil(u("Убито монстров:","monospace",16)),16,"Убито монстров:");m.setTextColor("#ffffff"),p.setTextColor("#ffffff"),p.setFontSize(14),g.getTableComponent(0,0).addComponent(m),m.alignCenter(),g.getTableComponent(0,1).addComponent(p),p.alignCenter(),c.forEach((t,e)=>{const{name:n,monsterKilled:s}=t;void 0===n&&(n="");const i=new w(0,0,Math.ceil(u(n,"monospace",16)),16,n),o=new w(0,0,Math.ceil(u(s,"monospace",16)),16,String(s));i.setTextColor("#ffffff"),o.setTextColor("#ffffff"),g.getTableComponent(1+e,0).addComponent(i),i.alignCenter(),g.getTableComponent(1+e,1).addComponent(o),o.alignCenter()}),g.setOverflow("scroll");const{top:f,right:C}=g.getBoundingClientRect(),M=new I(f,C+5,h,l,"");return M.setBackgroundImage(d),M.addEventListener(o.MOUSE.MOUSE_DOWN,t=>{this.uiComponents.dropChildren();const e=this.player.getName();this.setPlayer(null),this.setEnemy(null),this.canvas.getHtml().style.cursor="auto",this.setUpUI(e)}),this.uiComponents.addComponent(M,"restart"),g}setPlayer(t){if(this.player&&this.canvas.removeScene(this.player.getGraphicComponent()),this.player=t,null===t)return;this.uiComponents.getChildComponent(this.statusBarKey).setPlayerInfo(`${t.getName()}:`,t.getCurrentHP());const e=t.getGraphicComponent();null!==e&&this.canvas.addScene(e);const n=this.uiComponents.getChildComponent(this.statusBarKey).getPlayerInfoWindow().getHealthBar();t.addHPChangeListener(n.setValue.bind(n))}setEnemy(t){if(this.enemy&&this.canvas.removeScene(this.enemy.getGraphicComponent()),null===t)return;this.enemy=t,this.uiComponents.getChildComponent(this.statusBarKey).setEnemyInfo(`${t.getName()}:`,t.getCurrentHP());const e=t.getGraphicComponent();null!==e&&this.canvas.addScene(e);const n=this.uiComponents.getChildComponent(this.statusBarKey).getEnemyInfoWindow().getHealthBar();t.addHPChangeListener(n.setValue.bind(n))}setEventListenersToCanvas(){this.canvas.getHtml().addEventListener("mousedown",t=>{this.eventQueue.add({type:o.MOUSE.MOUSE_DOWN,subtype:"MOUSE",payload:{mouseCoord:{top:t.offsetY,left:t.offsetX}}})}),this.canvas.getHtml().addEventListener("keydown",t=>{this.eventQueue.add({type:o.KEYBOARD.KEY_DOWN,subtype:"KEYBOARD",payload:{key:t.key}})}),this.canvas.getHtml().addEventListener("keypress",t=>{this.eventQueue.add({type:o.KEYBOARD.KEY_PRESS,subtype:"KEYBOARD",payload:{key:t.key}})}),this.canvas.getHtml().addEventListener("mousemove",t=>{this.eventQueue.add({type:o.MOUSE.MOUSE_MOVE,subtype:"MOUSE",payload:{mouseCoord:{top:t.offsetY,left:t.offsetX}}})})}main(t){requestAnimationFrame(this.main),void 0!==t&&(void 0===this.prevTime&&(this.prevTime=t),this.update(),this.render(t-this.prevTime),this.prevTime=t)}update(){for(;this.eventQueue.hasNext();){const t=this.eventQueue.getNext();this.ui.handleEvent(t)}}render(t){this.canvas.draw(t)}}})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NhbnZhcy9DYW52YXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V2ZW50L0V2ZW50UXVldWUvRXZlbnRRdWV1ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZXZlbnQvZXZlbnRzL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVUkvVUkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VJL0N1cnNvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29sbGlzaW9uL0NvbGxpc2lvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQW5pbWF0aW9uL0FuaW1hdGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V2ZW50L0V2ZW50c0hhbmRsZXIvRXZlbnRzSGFuZGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvdGV4dFdpZHRoLmpzIiwid2VicGFjazovLy8uL3NyYy9VSS9Db21wb25lbnQvQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9VSS9Db21wb25lbnQvTGFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VJL0ltYWdlQ29tcG9uZW50L0ltYWdlQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9VSS9Db21wb25lbnQvQnV0dG9uLmpzIiwid2VicGFjazovLy8uL3NyYy9VSS9Nb2RhbFdpbmRvd3MvVGV4dElucHV0TW9kYWxXaW5kb3cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VJL01vZGFsV2luZG93cy9NYWdpY1NlbGVjdGluZ01vZGFsV2luZG93LmpzIiwid2VicGFjazovLy8uL3NyYy9VSS9Db21wb25lbnQvUHJvZ3Jlc3NCYXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VJL0NvbXBvbmVudC9TdGF0dXNCYXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VJL0NvbXBvbmVudC9DaGFyYWN0ZXJJbmZvV2luZG93LmpzIiwid2VicGFjazovLy8uL3NyYy9VSS9Db21wb25lbnQvVGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2ZpbGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL01hbmFnZXJzL0xvYWRNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9NYW5hZ2Vycy9TdG9yYWdlTWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGF0aC9wYXRoLmpzIiwid2VicGFjazovLy8uL3NyYy9HcmFwaGljQ29tcG9uZW50L01vbnN0ZXJHcmFwaGljQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9DaGFyYWN0ZXIvQ2hhcmFjdGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9GYWN0b3JpZXMvTW9uc3RlckZhY3RvcnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VJL01vZGFsV2luZG93cy9UYXNrTW9kYWxXaW5kb3cvVGFza01vZGFsV2luZG93LmpzIiwid2VicGFjazovLy8uL3NyYy9VSS9Nb2RhbFdpbmRvd3MvVGFza01vZGFsV2luZG93L1NvbHZlRXhwcmVzc2lvblRhc2tXaW5kb3cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RpY3Rpb25hcnkvZGljdGlvbmFyeS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVUkvTW9kYWxXaW5kb3dzL1Rhc2tNb2RhbFdpbmRvdy9MaXN0ZW5pbmdUYXNrTW9kYWxXaW5kb3cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0ZhY3Rvcmllcy9UYXNrRmFjdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVUkvTW9kYWxXaW5kb3dzL1Rhc2tNb2RhbFdpbmRvdy9UcmFuc2xhdGVUYXNrTW9kYWxXaW5kb3cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL01hZ2ljL01hZ2ljLmpzIiwid2VicGFjazovLy8uL3NyYy9NYWdpYy9NYWdpY0Fycm93LmpzIiwid2VicGFjazovLy8uL3NyYy9NYWdpYy9JbXBsb3Npb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dyYXBoaWNDb21wb25lbnQvTWFnaWNHcmFwaGljQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9GYWN0b3JpZXMvTWFnaWNGYWN0b3J5LmpzIiwid2VicGFjazovLy8uL3NyYy9HcmFwaGljQ29tcG9uZW50L1BsYXllckdyYXBjaGljQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvR2FtZS9HYW1lLmpzIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucENhbGxiYWNrIiwiZGF0YSIsIm1vZHVsZUlkIiwiY2h1bmtJZCIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJleGVjdXRlTW9kdWxlcyIsImkiLCJyZXNvbHZlcyIsImxlbmd0aCIsImluc3RhbGxlZENodW5rcyIsInB1c2giLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJtb2R1bGVzIiwicGFyZW50SnNvbnBGdW5jdGlvbiIsInNoaWZ0IiwiZGVmZXJyZWRNb2R1bGVzIiwiYXBwbHkiLCJjaGVja0RlZmVycmVkTW9kdWxlcyIsInJlc3VsdCIsImRlZmVycmVkTW9kdWxlIiwiZnVsZmlsbGVkIiwiaiIsImRlcElkIiwic3BsaWNlIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiMSIsImV4cG9ydHMiLCJtb2R1bGUiLCJsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInAiLCJqc29ucEFycmF5Iiwid2luZG93Iiwib2xkSnNvbnBGdW5jdGlvbiIsInNsaWNlIiwiQ2FudmFzIiwiW29iamVjdCBPYmplY3RdIiwid2lkdGgiLCJoZWlnaHQiLCJ0aGlzIiwiaHRtbENvbXBvbmVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImNvbnRleHQiLCJnZXRDb250ZXh0IiwidW5kZWZpbmVkIiwic2V0U2l6ZSIsImJvZHkiLCJhcHBlbmRDaGlsZCIsInNjZW5lcyIsInVpIiwic3R5bGUiLCJjYW52YXMiLCJjb2xvciIsImZpbGxTdHlsZSIsImZpbGxSZWN0Iiwic2NlbmUiLCJpbmRleCIsImluZGV4T2YiLCJlbGFwc2VUaW1lIiwiY2xlYXIiLCJkcmF3IiwidWlDb21wb25lbnRzIiwiRXZlbnRRdWV1ZSIsInF1ZXVlIiwicXVldWVJbmRleCIsImV2ZW50IiwiaGFzTmV4dCIsImV2ZW50c19ldmVudHMiLCJNT1VTRSIsIk1PVVNFX01PVkUiLCJNT1VTRV9FTlRFUiIsIk1PVVNFX0xFQVZFIiwiTU9VU0VfRE9XTiIsIktFWUJPQVJEIiwiS0VZX1BSRVNTIiwiS0VZX0RPV04iLCJBTklNQVRJT04iLCJBTklNQVRJT05fRU5EIiwiVUlfVUkiLCJzZWxlY3RlZCIsImhvdmVyZWQiLCJzdWJ0eXBlIiwiZWxlbWVudHMiLCJjaGVja0ZvckNvbGxpc2lvbiIsInBheWxvYWQiLCJtb3VzZUNvb3JkIiwiZWxlbWVudCIsIm1vc3REZXB0aCIsImZvckVhY2giLCJkZXB0aCIsInRhcmdldCIsImNhbnZhc0hUTUwiLCJxdWVyeVNlbGVjdG9yIiwiY3Vyc29yIiwiaGFuZGxlcnMiLCJoYW5kbGUiLCJ0eXBlIiwicmVsYXRlZFRhcmdldCIsInNldEhvdmVyZWQiLCJpc1NlbGVjdGVkIiwiY29tcG9uZW50IiwiQ3Vyc29yIiwidG9wIiwibGVmdCIsIm1ldHJpYyIsImJsaW5rVGltZSIsImVsYXBzZWRUaW1lIiwic2F2ZSIsInN0cm9rZVN0eWxlIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwicmVzdG9yZSIsIkNvbGxpc2lvbiIsImZpcnN0TWV0cmljIiwic2Vjb25kTWV0cmljIiwia2V5cyIsIkFuaW1hdGFibGVfQW5pbWF0YWJsZSIsImFuaW1hdGVkUHJvcGVydGllcyIsImxvZGFzaCIsInByb3BlcnRpZXMiLCJhbmltYXRpb25zIiwidGltZSIsInRpbWVDb3VudCIsImFuaW1hdGlvbkZ1bmMiLCJhbmltYXRpb25UaW1lUGFzdCIsImEiLCJob3ZlclByb3BlcnRpZXMiLCJhbmltYXRpb25OYW1lIiwiRXZlbnRzSGFuZGxlcl9FdmVudHNIYW5kbGVyIiwiaGFuZGxlciIsInRleHRXaWR0aF9jb250ZXh0IiwiZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyIsInRleHQiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJmb250IiwibWVhc3VyZVRleHQiLCJDb21wb25lbnRfQ29tcG9uZW50IiwicGFyZW50Q29tcG9uZW50IiwiZHJhd0JvcmRlciIsIm92ZXJmbG93IiwiYmFja2dyb3VuZENvbG9yIiwiYm9yZGVyQ29sb3IiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJjb2xsaXNpb24iLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlSG92ZXIiLCJjb252ZXJ0RnJvbVBlcmNlbnRhZ2VUb1BpeGVsIiwic2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwic2Nyb2xsWE9mZnNldCIsInNjcm9sbFlPZmZzZXQiLCJhZGRDb21wb25lbnQiLCJpbml0aWFsQm91bmRpbmdDbGllbnRSZWN0IiwiYm91bmRpbmdDbGllbnRSZWN0IiwicGFyZW50IiwiZ2V0UGFyZW50Q29tcG9uZW50IiwicGFyZW50V2lkdGgiLCJwYXJlbnRIZWlnaHQiLCJyZWciLCJmbG9vciIsIk1hdGgiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0ZXN0IiwicGFyc2VGbG9hdCIsImNhbGxiYWNrIiwiY2VudHJlZFRvcCIsInJvdW5kIiwiY2VudHJlZExlZnQiLCJpbWFnZSIsInN1bVBhdGgiLCJzdW0iLCJwcm9wIiwiU3RyaW5nIiwiZSIsImNsaXBwZWRCb3VuZGluZ0NsaWVudFJlY3QiLCJwcmV2Qm91bmRpbmdCb3giLCJwcmV2VG9wIiwicHJldkxlZnQiLCJwcmV2V2lkdGgiLCJwcmV2SGVpZ2h0IiwicmlnaHQiLCJib3R0b20iLCJjYWxjdWxhdGVDbGlwcGVkU2l6ZSIsInRvdGFsSGVpZ2h0IiwiY2FsY3VsYXRlVG90YWxIZWlnaHRDb21wb25lbnQiLCJ0b3RhbFdpZHRoIiwiY2FsY3VsYXRlVG90YWxXaWR0aENvbXBvbmVudCIsInNjcm9sbFkiLCJDb21wb25lbnRfU2Nyb2xsQmFyIiwic2Nyb2xsWCIsInRyYXZlcnNlIiwicGFyZW50Qm94Iiwic2V0Qm91bmRpbmdDbGlwcGVkQ2xpZW50UmVjdCIsImFicyIsImFuaW1hdGUiLCJzdHJva2VSZWN0IiwicGF0aCIsIlBhdGgyRCIsInJlY3QiLCJjbGlwIiwic2V0Q29udGV4dFByb3BlcnRpZXMiLCJwYWludENvbXBvbmVudCIsInRyYW5zbGF0ZSIsImRyYXdDb21wb25lbnQiLCJjaGlsZHJlbiIsIkNvbXBvbmVudF9Db21wb3NpdGVDb21wb25lbnQiLCJzdXBlciIsInNldFBhcmVudENvbXBvbmVudCIsImZpbmRJbmRleCIsImNoaWxkQ29tcG9uZW50IiwiY2hpbGQiLCJmaW5kIiwic2Nyb2xsWU9mZmVyIiwiZ2V0QmFja2dyb3VuZEltYWdlIiwic2V0U2Nyb2xsWU9mZmVyIiwieSIsInNjcm9sbFhPZmZlciIsInNldFNjcm9sbFhPZmZlciIsIngiLCJtYXhDb21wb25lbnQiLCJtYXgiLCJvYmplY3RNZXRyaWMiLCJlbGVtZW50SW5zaWRlIiwiYmlnZ2VzdERlcHRoIiwib0Nvb3JkIiwiYWJzb2x1dGVUb3AiLCJhYnNvbHV0ZUxlZnQiLCJwYXJlbnRPdmVyZmxvdyIsImdldE92ZXJmbG93IiwicGFyZW50VG9wIiwicGFyZW50TGVmdCIsInBCb3giLCJpc0luc2lkZSIsIm9yaWVudGF0aW9uIiwiY2hpbGRXaWR0aCIsInNldEJhY2tncm91bmRDb2xvciIsIm5leHRCdXR0b24iLCJwcmV2QnV0dG9uVGV4dCIsImZyb21DaGFyQ29kZSIsInBhcnNlSW50IiwibmV4dEJ1dHRvblRleHQiLCJwcmV2QnV0dG9uIiwiQ29tcG9uZW50X0J1dHRvbiIsInNjcm9sbEJhY2tncm91bmQiLCJzY3JvbGxCYWNrZ3JvdW5kV2lkdGgiLCJzY3JvbGwiLCJwYXJ0T2ZQYXJlbnQiLCJwYXJBbmRDaGlsZERpZiIsInNjcm9sbFBvcyIsInNjcm9sbFBvc01heCIsImN1cnJlbnRDaGlsZFBvcyIsInBhcnQiLCJ0ZXh0V2lkdGgiLCJsYWJlbCIsIkxhYmVsX0xhYmVsIiwidGV4dENvbG9yIiwidGV4dFByb3BlcnRpZXMiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJtYXhUZXh0TGVuZ3RoIiwiZWRpdGFibGUiLCJoYW5kbGVNb3VzZURvd24iLCJoYW5kbGVLZXlQcmVzcyIsImhhbmRsZUtleURvd24iLCJsaW5lc01ldHJpYyIsInRleHRMaW5lcyIsImN1cnNvclBvc2l0aW9uIiwicm93IiwiY29sdW1uIiwibmVlZGVkVG9SZWNhbGN1bGF0ZSIsIm5lZWRlZCIsInNldFBvc2l0aW9uIiwidG9wT2Zmc2V0IiwibGVmdE9mZnNldCIsImdseXBoUG9zaXRpb24iLCJsaW5lIiwic3RhcnRPZkxpbmUiLCJpbnNlcnRHbHlwaCIsImRlbGV0ZUdseXBoIiwic3RyaW5nIiwibGluZVdpZHRoIiwiZ2x5cGhXaWR0aCIsInNwbGl0IiwiZ2x5cGgiLCJjYWxjdWxhdGVHbHlwaFBvc2l0aW9uIiwiY2FsY3VsYXRlTGluZXMiLCJjb252ZXJ0SW5kZXhUbzJEUG9zaXRpb24iLCJzZXRDdXJzb3JQb3NpdGlvbkZyb20yRCIsImZpbGxUZXh0IiwiSW1hZ2VDb21wb25lbnQiLCJkeCIsImR5IiwibmF0dXJhbFdpZHRoIiwibmF0dXJhbEhlaWdodCIsImRXaWR0aCIsImRIZWlnaHQiLCJzeCIsInN5Iiwic1dpZHRoIiwic0hlaWdodCIsIm9mZnNldFgiLCJvZmZzZXRZIiwicmVjYWxjdWxhdGVGcmFtZXMiLCJ4RnJhbWVzQ291bnQiLCJ5RnJhbWVzQ291bnQiLCJjdXJyZW50WEZyYW1lIiwiY3VycmVudFlGcmFtZSIsImZyYW1lIiwiZnJhbWVzQ291bnQiLCJnZXRGcmFtZXNDb3VudCIsImZyYW1lQ291bnQiLCJ4RnJhbWVDb3VudCIsImdldFhGcmFtZXNDb3VudCIsImNlaWwiLCJ3aWR0aE9mT25lTGluZSIsImdldFlGcmFtZXNDb3VudCIsIm5ld1dpZHRoIiwibGluZXNDb3VudCIsImRyYXdJbWFnZSIsIkJ1dHRvbl9CdXR0b24iLCJUZXh0SW5wdXRNb2RhbFdpbmRvd19UZXh0SW5wdXRNb2RhbFdpbmRvdyIsImRlc2NyaXB0aW9uVGV4dCIsImhhbGZXaWR0aCIsImhhbGZIZWlnaHQiLCJoYWxmRGVzY3JpcHRpb25XaWR0aCIsImhhbGZVc2VySW5wdXRXaWR0aCIsIm9uZUdseXBoV2lkdGgiLCJkZXNjcmlwdGlvbiIsInVzZXJJbnB1dCIsImVudGVyQnV0dG9uIiwic2V0VGV4dENvbG9yIiwic2V0Q29sb3IiLCJkZXNjcmlwdGlvbktleSIsInVzZXJJbnB1dEtleSIsImJ1dHRvbktleSIsImdldENoaWxkQ29tcG9uZW50IiwiTWFnaWNTZWxlY3RpbmdNb2RhbFdpbmRvd19NYWdpY1NlbGVjdGluZ01vZGFsV2luZG93IiwibWFnaWNzIiwiaW1hZ2VzIiwiYmFjayIsImJhY2tXaWR0aCIsImJhY2tIZWlnaHQiLCJiYWNrSW1hZ2VDb21wb25lbnQiLCJzZXRCYWNrZ3JvdW5kSW1hZ2UiLCJtYWdpYyIsImdyYXBoaWNDb21wb25lbnQiLCJnZXRHcmFwaGljQ29tcG9uZW50IiwibWFnaWNOYW1lIiwiZ2V0TmFtZSIsIm1hZ2ljTmFtZVdpZHRoIiwibWFnaWNXaXRoTmFtZSIsIm1hZ2ljTmFtZUxhYmVsIiwiYWxpZ25DZW50ZXIiLCJtYWdpY0dyYXBoaWNDb21wb25lbnQiLCJQcm9taXNlIiwicmVzb2x2ZSIsImFkZE1hZ2ljU2VsZWN0aW5nRXZlbnRMaXN0ZW5lciIsImZpbmRNYWdpY0J5R3JhcGhpY0NvbXBvbmVudCIsIlByb2dyZXNzQmFyX1Byb2dyZXNzQmFyIiwibWluVmFsdWUiLCJtYXhWYWx1ZSIsImluaXRpYWxWYWx1ZSIsImN1cnJlbnRWYWx1ZSIsIm9uZUluUGl4ZWwiLCJiYXJDb21wb25lbnQiLCJiYXJDb21wb25lbnRLZXkiLCJsYWJlbFRleHQiLCJsYWJlbENvbXBvbmVudEtleSIsImJhciIsInNldFRleHQiLCJoZWlnaHRMYWJlbCIsIlN0YXR1c0Jhcl9TdGF0dXNCYXIiLCJlbmVteUluZm9XaW5kb3dLZXkiLCJwbGF5ZXJJbmZvV2luZG93S2V5IiwibGVmdEltZyIsImxlZnRXaWR0aCIsImxlZnRIZWlnaHQiLCJyaWdodFdpZHRoIiwicmlnaHRIZWlnaHQiLCJiYWNrSW1nQ29tcG9uZW50IiwibGVmdEltZ0NvbXBvbmVudCIsInJpZ2h0SW1nQ29tcG9uZW50IiwibGVmdENvbXBvbmVudCIsInJpZ2h0Q29tcG9uZW50IiwiZW5lbXlJbmZvV2luZG93IiwiZW5lbXkiLCJyZW1vdmVDb21wb25lbnQiLCJwbGF5ZXJJbmZvV2luZG93IiwicGxheWVyIiwiaGVhbHRoQmFyS2V5Iiwic2V0VmFsdWUiLCJuYW1lTGFiZWxLZXkiLCJuYW1lV2lkdGgiLCJDaGFyYWN0ZXJJbmZvV2luZG93X0NoYXJhY3RlckluZm9XaW5kb3ciLCJjaGFyYWN0ZXJOYW1lIiwibWluSFAiLCJtYXhIUCIsImluaXRpYWxIUCIsIm5hbWVMYWJlbCIsImhlYWx0aEJhciIsImltZ1dpZHRoIiwiaW1nSGVpZ2h0IiwiVGFibGVfVGFibGUiLCJyb3dDb3VudCIsImNvbHVtbkNvdW50IiwiY2VsbFdpZHRoIiwiY2VsbEhlaWdodCIsInRvdGFsUm93c0hlaWdodCIsInRvdGFsUm93c1dpZHRoIiwiY2VsbCIsImdldEZpbGVTaXplIiwidXJsIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJvcGVuIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsIkRPTkUiLCJnZXRSZXNwb25zZUhlYWRlciIsInNlbmQiLCJnZXRGaWxlQmxvYiIsIm9ucHJvZ3Jlc3MiLCJpZGVudGlmaWVyIiwieG1sSFRUUCIsInJlc3BvbnNlVHlwZSIsInByZXZWYWx1ZSIsIm9ubG9hZCIsImJsb2IiLCJCbG9iIiwicmVzcG9uc2UiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJsb2FkZWQiLCJjcmVhdGVGaWxlUHJvbWlzZSIsImZpbGUiLCJzcmNFbGVtZW50IiwiTG9hZE1hbmFnZXJfTG9hZE1hbmFnZXIiLCJ0b3RhbFNpemUiLCJjdXJyZW50TG9hZGVkU2l6ZSIsImltYWdlVXJsIiwibG9hZGVkSW1hZ2VzIiwic291bmRVcmwiLCJsb2FkZWRTb3VuZCIsInVybE9iamVjdCIsIm5hbWVPYmoiLCJzb3VuZFVybEFycmF5Iiwic291bmQiLCJpbWFnZVVybEFycmF5Iiwic291bmROYW1lIiwiaW1hZ2VOYW1lIiwidXJsTmFtZSIsInVybHMiLCJwcm9taXNlQXJyIiwiaW1hZ2VDb3VudCIsImFzc2V0c1NpemUiLCJhbGwiLCJyZWR1Y2UiLCJwcmV2Iiwic2l6ZSIsImltYWdlc1NpemUiLCJzb3VuZFNpemUiLCJvbnByb2dyZXNzQ2FsbGJhY2siLCJsb2FkUHJvZ3Jlc3MiLCJwZXJjZW50IiwiY29uc29sZSIsImxvZyIsImlkIiwiYmxvYnMiLCJpbWdQcm9taXNlIiwibWFwIiwiaW1nIiwiSW1hZ2UiLCJzcmMiLCJzb3VuZFByb21pc2UiLCJBdWRpbyIsImFzc2V0c1Byb21pc2UiLCJhc3NldHMiLCJncm91cGVkIiwiayIsImltYWdlc05hbWUiLCJTdG9yYWdlTWFuYWdlciIsInJlY29yZHMiLCJsb2NhbFN0b3JhZ2UiLCJtYXRjaCIsInBhcnNlUmVjb3JkcyIsIm1vbnN0ZXJLaWxsZWQiLCJzb3J0IiwicmVjb3JkIiwic2V0SXRlbSIsImdldEl0ZW0iLCJyZWNvcmRPYmplY3QiLCJJTUFHRSIsIkhFQURfSU1BR0VTIiwiQk9EWV9JTUFHRVMiLCJMRUZUX0FSTV9JTUFHRVMiLCJSSUdIVF9BUk1fSU1BR0VTIiwiTEVHX0lNQUdFUyIsIkJBQ0tHUk9VTkRfSU1BR0VTIiwiTUFJTl9DSEFSIiwiTUFHSUMiLCJVSSIsIlNPVU5EIiwiTW9uc3RlckdyYXBoaWNDb21wb25lbnRfTW9uc3RlckdyYXBoaWNDb21wb25lbnQiLCJoZWFkSW1hZ2UiLCJsZWZ0QXJtSW1hZ2UiLCJyaWdodEltYWdlIiwiYm9keUltYWdlIiwibGVnSW1hZ2UiLCJoZWFkTmF0dXJhbFdpZHRoIiwiaGVhZE5hdHVyYWxIZWlnaHQiLCJib2R5TmF0dXJhbFdpZHRoIiwiYm9keU5hdHVyYWxIZWlnaHQiLCJsZWZ0TmF0dXJhbFdpZHRoIiwibGVmdE5hdHVyYWxIZWlnaHQiLCJyaWdodE5hdHVyYWxXaWR0aCIsInJpZ2h0TmF0dXJhbEhlaWdodCIsImxlZ05hdHVyYWxXaWR0aCIsImxlZ05hdHVyYWxIZWlnaHQiLCJib2R5Q29tcG9uZW50IiwiaGVhZENvbXBvbmVudCIsImxlZ0NvbXBvbmVudCIsImxlZnRBcm1Db21wb25lbnQiLCJyaWdodEFybUNvbXBvbmVudCIsIkNoYXJhY3RlciIsImN1cnJlbnRIUCIsImhwQ2hhbmdlTGlzdGVuZXJzIiwiY2hhcmFjdGVyIiwiYXR0YWNrIiwidGFrZUF0dGFjayIsImRhbWFnZSIsImxpc3RlbmVyIiwiYWRqZWN0aXZlIiwicmFjZSIsIk1vbnN0ZXJGYWN0b3J5X25hbWUiLCJNb25zdGVyRmFjdG9yeV9Nb25zdGVyRmFjdG9yeSIsImhlYWRJbWdzIiwibGVmdEFybUltZ3MiLCJyaWdodEFybUltZ3MiLCJib2R5SW1ncyIsImxlZ0ltZ3MiLCJyYW5kIiwicmFuZG9tIiwiaGVhZEluZGV4IiwibGVmdEFybUluZGV4IiwicmlnaHRBcm1JbmRleCIsImJvZHlJbmRleCIsImxlZ0luZGV4IiwibW9uc3RlckdyYXBoaWMiLCJtb25zdGVyV2lkdGgiLCJtb25zdGVySGVpZ2h0IiwiZmlyc3ROYW1lIiwic2Vjb25kTmFtZSIsInRoaXJkTmFtZSIsIlRhc2tNb2RhbFdpbmRvd19UYXNrTW9kYWxXaW5kb3ciLCJ0YXNrRGVzY3JpcHRpb24iLCJtb2RhbFdpbmRvd0ltYWdlIiwibW9kYWxXaWR0aCIsIm1vZGFsSGVpZ2h0Iiwib2tCdXR0b25JbWFnZSIsIm9rQnV0dG9uV2lkdGgiLCJva0J1dHRvbkhlaWdodCIsImFkZEJ1dHRvbkV2ZW50TGlzdGVuZXIiLCJhbnN3ZXJJc1JpZ2h0Iiwib3BlcmF0aW9ucyIsImNoYXJQcmVzZW50YXRpb24iLCJwZXJmb3JtIiwiZmlyc3QiLCJzZWNvbmQiLCJkaWN0aW9uYXJ5X2RpY3Rpb25hcnkiLCJ3b3JkIiwiU3BlZWNoUmVjb2duaXRpb24iLCJ3ZWJraXRTcGVlY2hSZWNvZ25pdGlvbiIsInRhc2tzIiwib3BlcmF0aW9uIiwidGV4dEZpZWxkSW1hZ2UiLCJ0ZXh0RmllbGRXaWR0aCIsInRleHRGaWVsZEhlaWdodCIsImxpbWl0IiwiaGFsZkV4cHJlc3Npb25XaWR0aCIsImhhbGZBbnN3ZXJXaWR0aCIsImhhbGZFeHByZXNzaW9uV2l0aEFuc3dlciIsImV4cHJlc3Npb24iLCJhbnN3ZXIiLCJleHByZXNzaW9uS2V5IiwiYW5zd2VyS2V5IiwiZ2V0VGV4dCIsIndvcmRPYmoiLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJjb25jbHVzaW9uIiwibWljcm9CdXR0b25JbWFnZSIsIm1pY3JvQnV0dG9uV2lkdGgiLCJtaWNyb0J1dHRvbkhlaWdodCIsInJlY29nbml0aW9uIiwibGFuZyIsImludGVyaW1SZXN1bHRzIiwibWF4QWx0ZXJuYXRpdmVzIiwibWljcm9CdXR0b24iLCJtaWNyb0J1dHRvbktleSIsImlzV29ya2luZyIsInN0b3AiLCJzZXRGcmFtZSIsInN0YXJ0Iiwib25yZXN1bHQiLCJyZXN1bHRzIiwidHJhbnNjcmlwdCIsIm9uc3BlZWNoZW5kIiwib25lcnJvciIsImVycm9yIiwiVGFza0ZhY3RvcnkiLCJ1aUltYWdlcyIsImltYWdlT2JqIiwidGFza0NvbnN0cnVjdG9yIiwiTWFnaWMiLCJNYWdpY0Fycm93X01hZ2ljQXJyb3ciLCJhdHRhY2tBbmltYXRpb25zIiwiY2hhcmFjdGVyTGVmdCIsImNoYXJhY3RlcldpZHRoIiwiZGlmIiwic2V0QW5pbWF0aW9uIiwiaW5pdGlhbFByb3BlcnRpZXMiLCJtb3ZpbmdQcm9taXNlIiwicmVtb3ZlU2NlbmUiLCJhZGRTY2VuZSIsInBsYXkiLCJhdHRhY2tQcm9taXNlIiwiSW1wbG9zaW9uX0ltcGxvc2lvbiIsIk1hZ2ljR3JhcGhpY0NvbXBvbmVudF9NYWdpY0dyYXBoaWNDb21wb25lbnQiLCJzY2FsZSIsIm1hZ2ljSW1nIiwic2NhbGVkV2lkdGgiLCJzY2FsZWRIZWlnaHQiLCJNYWdpY0ZhY3RvcnlfTWFnaWNGYWN0b3J5IiwiZm9yRW5lbXkiLCJtYWdpY0Fycm93IiwibW92aW5nQW5pbWF0aW9uSW1nIiwiYmxvd0FuaW1hdGlvbkltZyIsIm1hZ2ljTW92aW5nQW5pbWF0aW9uIiwibW92aW5nQW5pbWF0aW9uIiwibWFnaWNCbG93QW5pbWF0aW9uIiwiYW5pbWF0aW9uIiwiaW1wbG9zaW9uIiwiUGxheWVyR3JhcGNoaWNDb21wb25lbnRfTW9uc3RlckdyYXBoaWNDb21wb25lbnQiLCJjaGFyYWN0ZXJJbWciLCJiYWNrZ3JvdW5kSW1nc0tleSIsIm1haW5DaGFySW1nc0tleSIsImhlYWRJbWdzS2V5IiwiYm9keUltZ3NLZXkiLCJsZWZ0QXJtSW1nc0tleSIsInJpZ2h0QXJtSW1nc0tleSIsImxlZ0ltZ3NLZXkiLCJtYWdpY0ltZ3NLZXkiLCJ1aUltZ3NLZXkiLCJtYWdpY1NvdW5kS2V5Iiwic3RhdHVzQmFyS2V5IiwibW9uc3RlcktpbGxDb3VudCIsImxvYWRNYW5hZ2VyIiwic3RvcmFnZU1hbmFnZXIiLCJldmVudFF1ZXVlIiwiYmFja2dyb3VuZCIsImluaXQiLCJtYWluIiwibG9hZGluZ1NjcmVlbiIsInNob3dMb2FkaW5nU2NyZWVuIiwibG9hZGluZ1Byb2dyZXNzQmFyIiwiZ2V0TG9hZGluZ1Byb2dyZXNzQmFyIiwiaW5pdExvYWRpbmdQYXRoIiwiY2FsY3VsYXRlVG90YWxTaXplIiwibG9hZCIsImxvYWRlZFBlcmNlbnRhZ2UiLCJnZXRJbWFnZXNCeU5hbWUiLCJzZXRFdmVudExpc3RlbmVyc1RvQ2FudmFzIiwiaGVhZHMiLCJib2RpZXMiLCJsZWZ0QXJtcyIsInJpZ2h0QXJtcyIsImxlZ3MiLCJ0YXNrRmFjdG9yeSIsIm1hZ2ljRmFjdG9yeSIsIm1vbnN0ZXJGYWN0b3J5IiwiYWRkTWFnaWNBc3NldHMiLCJnZXRTb3VuZEJ5TmFtZSIsInNldFVwVUkiLCJzdGF0dXNCYXJJbWciLCJzdGF0dXNCYXJJbWdPYmciLCJzdGF0dXNCYXIiLCJpbmZvV2luZG93SW1hZ2UiLCJtb25zdGVySW5mb1dpbmRvdyIsInNldFBsYXllckluZm9XaW5kb3ciLCJzZXRFbmVteUluZm9XaW5kb3ciLCJhZGQiLCJtb2RhbFdpbmRvdyIsInNob3dOYW1lRW50ZXIiLCJnZXRJbnB1dFVzZXIiLCJnZXRIdG1sIiwibWFpbkxvZ2ljIiwiYWRkVUkiLCJhZGRVcmwiLCJzcGVsbFNlbEltZyIsIm1haW5DaGFyIiwibWFpbkNoYXJHcmFwaGljIiwicGxheWVyV2lkdGgiLCJwbGF5ZXJIZWlnaHQiLCJtb25zdGVyIiwiY3JlYXRlTW9uc3RlciIsInNldEVuZW15IiwiYWRkTWFnaWMiLCJjcmVhdGVNYWdpY0Fycm93IiwiY3JlYXRlSW1wbG9zaW9uQXJyb3ciLCJtb25zdGVyS2lsbGVkQ291bnQiLCJzZXRQbGF5ZXIiLCJpc0FsaXZlIiwibWFnaWNTZWxlY3RpbmciLCJnZXRNYWdpY3MiLCJzZXRPdmVyZmxvdyIsInNlbGVjdE1hZ2ljIiwidGFza1dpbmRvdyIsImNyZWF0ZVRhc2siLCJhbnN3ZXJPdXRjb21lIiwiZ2V0UmVzdWx0Iiwic2hvd1Jlc3VsdFRhYmxlIiwicHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kIiwicHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kV2lkdGgiLCJwcm9ncmVzc0JhckJhY2tncm91bmRIZWlnaHQiLCJwcm9ncmVzc0JhckJhY2tncm91bmRDb21wb25lbnQiLCJsb2FkaW5nUHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kQ29tcG9uZW50IiwiZ2V0VGV4dENvbXBvbmVudCIsImdldElucHV0VXNlckNvbXBvbmVudCIsImdldERlc2NyaXB0aW9uQ29tcG9uZW50IiwiZ2V0T2tCdXR0b25Db21wb25lbnQiLCJraWxsZWRNb25zdGVyIiwidGFibGVJbWciLCJyZWxvYWRCdXR0b25JbWciLCJ0YWJsZVdpZHRoIiwidGFibGVIZWlnaHQiLCJ0YWJsZUltYWdlQ29tcG9uZW50IiwicmVsb2FkQnV0dG9uV2lkdGgiLCJyZWxvYWRCdXR0b25IZWlnaHQiLCJyZWxvYWRCdXR0b25JbWFnZUNvbXBvbmVudCIsInNhdmVSZXN1bHQiLCJnZXRTb3J0ZWRSZWNvcmRzIiwicmVjb3JkVGFibGUiLCJmaXJzdENvbHVtbk5hbWUiLCJzZWNvbmRDb2x1bW5OYW1lIiwic2V0Rm9udFNpemUiLCJnZXRUYWJsZUNvbXBvbmVudCIsIm1vbnN0ZXJLaWxsZWRMYWJlbCIsInRvcFRhYmxlIiwicmlnaHRUYWJsZSIsInJlc3RhcnRCdXR0b24iLCJkcm9wQ2hpbGRyZW4iLCJzZXRQbGF5ZXJJbmZvIiwiZ2V0Q3VycmVudEhQIiwicGxheWVyR3JhcGhpY0NvbXBvbmVudCIsImdldFBsYXllckluZm9XaW5kb3ciLCJnZXRIZWFsdGhCYXIiLCJhZGRIUENoYW5nZUxpc3RlbmVyIiwic2V0RW5lbXlJbmZvIiwiZW5lbXlHcmFwaGljQ29tcG9uZW50IiwiZ2V0RW5lbXlJbmZvV2luZG93IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicHJldlRpbWUiLCJ1cGRhdGUiLCJyZW5kZXIiLCJnZXROZXh0IiwiaGFuZGxlRXZlbnQiLCJ0aW1lU3RhbXAiXSwibWFwcGluZ3MiOiJhQUNBLFNBQUFBLEVBQUFDLEdBT0EsSUFOQSxJQUtBQyxFQUFBQyxFQUxBQyxFQUFBSCxFQUFBLEdBQ0FJLEVBQUFKLEVBQUEsR0FDQUssRUFBQUwsRUFBQSxHQUdBTSxFQUFBLEVBQUFDLEtBQ1FELEVBQUFILEVBQUFLLE9BQW9CRixJQUM1QkosRUFBQUMsRUFBQUcsR0FDQUcsRUFBQVAsSUFDQUssRUFBQUcsS0FBQUQsRUFBQVAsR0FBQSxJQUVBTyxFQUFBUCxHQUFBLEVBRUEsSUFBQUQsS0FBQUcsRUFDQU8sT0FBQUMsVUFBQUMsZUFBQUMsS0FBQVYsRUFBQUgsS0FDQWMsRUFBQWQsR0FBQUcsRUFBQUgsSUFJQSxJQURBZSxLQUFBaEIsR0FDQU8sRUFBQUMsUUFDQUQsRUFBQVUsT0FBQVYsR0FPQSxPQUhBVyxFQUFBUixLQUFBUyxNQUFBRCxFQUFBYixPQUdBZSxJQUVBLFNBQUFBLElBRUEsSUFEQSxJQUFBQyxFQUNBZixFQUFBLEVBQWlCQSxFQUFBWSxFQUFBVixPQUE0QkYsSUFBQSxDQUc3QyxJQUZBLElBQUFnQixFQUFBSixFQUFBWixHQUNBaUIsR0FBQSxFQUNBQyxFQUFBLEVBQWtCQSxFQUFBRixFQUFBZCxPQUEyQmdCLElBQUEsQ0FDN0MsSUFBQUMsRUFBQUgsRUFBQUUsR0FDQSxJQUFBZixFQUFBZ0IsS0FBQUYsR0FBQSxHQUVBQSxJQUNBTCxFQUFBUSxPQUFBcEIsSUFBQSxHQUNBZSxFQUFBTSxJQUFBQyxFQUFBTixFQUFBLEtBR0EsT0FBQUQsRUFJQSxJQUFBUSxLQUtBcEIsR0FDQXFCLEVBQUEsR0FHQVosS0FHQSxTQUFBUyxFQUFBMUIsR0FHQSxHQUFBNEIsRUFBQTVCLEdBQ0EsT0FBQTRCLEVBQUE1QixHQUFBOEIsUUFHQSxJQUFBQyxFQUFBSCxFQUFBNUIsSUFDQUssRUFBQUwsRUFDQWdDLEdBQUEsRUFDQUYsWUFVQSxPQU5BaEIsRUFBQWQsR0FBQWEsS0FBQWtCLEVBQUFELFFBQUFDLElBQUFELFFBQUFKLEdBR0FLLEVBQUFDLEdBQUEsRUFHQUQsRUFBQUQsUUFLQUosRUFBQU8sRUFBQW5CLEVBR0FZLEVBQUFRLEVBQUFOLEVBR0FGLEVBQUFTLEVBQUEsU0FBQUwsRUFBQU0sRUFBQUMsR0FDQVgsRUFBQVksRUFBQVIsRUFBQU0sSUFDQTFCLE9BQUE2QixlQUFBVCxFQUFBTSxHQUEwQ0ksWUFBQSxFQUFBQyxJQUFBSixLQUsxQ1gsRUFBQWdCLEVBQUEsU0FBQVosR0FDQSxvQkFBQWEsZUFBQUMsYUFDQWxDLE9BQUE2QixlQUFBVCxFQUFBYSxPQUFBQyxhQUF3REMsTUFBQSxXQUV4RG5DLE9BQUE2QixlQUFBVCxFQUFBLGNBQWlEZSxPQUFBLEtBUWpEbkIsRUFBQW9CLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFuQixFQUFBbUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUF2QyxPQUFBd0MsT0FBQSxNQUdBLEdBRkF4QixFQUFBZ0IsRUFBQU8sR0FDQXZDLE9BQUE2QixlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVBQUFLLFVBQ3pDLEVBQUFFLEdBQUEsaUJBQUFGLEVBQUEsUUFBQU0sS0FBQU4sRUFBQW5CLEVBQUFTLEVBQUFjLEVBQUFFLEVBQUEsU0FBQUEsR0FBZ0gsT0FBQU4sRUFBQU0sSUFBcUJDLEtBQUEsS0FBQUQsSUFDckksT0FBQUYsR0FJQXZCLEVBQUEyQixFQUFBLFNBQUF0QixHQUNBLElBQUFNLEVBQUFOLEtBQUFpQixXQUNBLFdBQTJCLE9BQUFqQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFMLEVBQUFTLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVgsRUFBQVksRUFBQSxTQUFBZ0IsRUFBQUMsR0FBc0QsT0FBQTdDLE9BQUFDLFVBQUFDLGVBQUFDLEtBQUF5QyxFQUFBQyxJQUd0RDdCLEVBQUE4QixFQUFBLEdBRUEsSUFBQUMsRUFBQUMsT0FBQSxhQUFBQSxPQUFBLGlCQUNBQyxFQUFBRixFQUFBaEQsS0FBQTJDLEtBQUFLLEdBQ0FBLEVBQUFoRCxLQUFBWCxFQUNBMkQsSUFBQUcsUUFDQSxRQUFBdkQsRUFBQSxFQUFnQkEsRUFBQW9ELEVBQUFsRCxPQUF1QkYsSUFBQVAsRUFBQTJELEVBQUFwRCxJQUN2QyxJQUFBVSxFQUFBNEMsRUFJQTFDLEVBQUFSLE1BQUEsTUFFQVUsaURDcEpBMEMsRUFDQUMsWUFBQUMsRUFBQUMsR0FDQUMsS0FBQUMsY0FBQUMsU0FBQUMsY0FBQSxVQUNBSCxLQUFBQyxjQUFBRyxhQUFBLGNBRUFKLEtBQUFLLFFBQUFMLEtBQUFDLGNBQUFLLFdBQUEsV0FFQUMsSUFBQVQsSUFDQUEsRUFBQSxXQUdBUyxJQUFBUixJQUNBQSxFQUFBLEtBR0FDLEtBQUFRLFFBQUFWLEVBQUFDLEdBRUFHLFNBQUFPLEtBQUFDLFlBQUFWLEtBQUFDLGVBRUFELEtBQUFXLFVBQ0FYLEtBQUFZLE1BR0FmLFVBQ0EsT0FBQUcsS0FBQUMsY0FHQUosYUFDQSxPQUFBRyxLQUFBSyxRQUdBUixRQUFBQyxFQUFBQyxHQUNBQyxLQUFBRixRQUNBRSxLQUFBRCxTQUVBQyxLQUFBQyxjQUFBWSxNQUFBZixTQUE0Q0EsTUFDNUNFLEtBQUFDLGNBQUFZLE1BQUFkLFVBQTZDQSxNQUU3Q0MsS0FBQUssUUFBQVMsT0FBQWhCLFFBQ0FFLEtBQUFLLFFBQUFTLE9BQUFmLFNBR0FGLE1BQUFrQixFQUFBLFdBQ0FmLEtBQUFLLFFBQUFXLFVBQUFELEVBQ0FmLEtBQUFLLFFBQUFZLFNBQUEsSUFBQWpCLEtBQUFGLE1BQUFFLEtBQUFELFFBR0FGLFNBQUFxQixHQUNBbEIsS0FBQVcsT0FBQW5FLEtBQUEwRSxHQUdBckIsTUFBQWUsR0FDQVosS0FBQVksR0FBQXBFLEtBQUFvRSxHQUdBZixZQUFBcUIsR0FDQSxNQUFBQyxFQUFBbkIsS0FBQVcsT0FBQVMsUUFBQUYsR0FFQSxXQUFBQyxJQUNBbkIsS0FBQVcsT0FBQW5ELE9BQUEyRCxFQUFBLElBQ0EsR0FNQXRCLGNBQ0FHLEtBQUFXLFVBR0FkLEtBQUF3QixHQUNBckIsS0FBQXNCLFFBRUEsUUFBQWpELEtBQUEyQixLQUFBVyxPQUNBdEMsRUFBQWtELEtBQUF2QixLQUFBSyxRQUFBZ0IsR0FHQSxRQUFBaEQsS0FBQTJCLEtBQUFZLEdBQ0EsUUFBQXhFLEtBQUFpQyxFQUFBbUQsYUFDQXBGLEVBQUFtRixLQUFBdkIsS0FBQUssUUFBQWdCLFVDL0VBSSxFQUNBNUIsY0FDQUcsS0FBQTBCLFNBRUExQixLQUFBMkIsV0FBQSxFQUdBOUIsSUFBQStCLEdBQ0E1QixLQUFBMEIsTUFBQWxGLEtBQUFvRixHQUdBL0IsVUFDQSxPQUFBRyxLQUFBMEIsTUFBQXBGLE9BQ0EsWUFHQSxHQUFBMEQsS0FBQTJCLFdBQUEzQixLQUFBMEIsTUFBQXBGLE9BQUEsQ0FDQSxNQUFBc0YsRUFBQTVCLEtBQUEwQixNQUFBMUIsS0FBQTJCLFlBRUEsT0FEQTNCLEtBQUEyQixZQUFBLEVBQ0FDLEVBTUEsT0FIQTVCLEtBQUEyQixXQUFBLEVBQ0EzQixLQUFBMEIsU0FFQSxLQUdBN0IsVUFDQSxNQUFBZ0MsS0FBQTdCLEtBQUEwQixNQUFBcEYsT0FBQTBELEtBQUEyQixZQU9BLE9BTEFFLEdBQUEsSUFBQTdCLEtBQUEwQixNQUFBcEYsU0FDQTBELEtBQUEyQixXQUFBLEVBQ0EzQixLQUFBMEIsVUFHQUcsRUFHQWhDLFNBQ0EsT0FBQUcsS0FBQTBCLE1BQUFwRixPQUFBMEQsS0FBQTJCLFlDeEJBLElBQUFHLEdBZkFDLE9BQ0FDLFdBQUEsWUFDQUMsWUFBQSxhQUNBQyxZQUFBLGFBQ0FDLFdBQUEsYUFFQUMsVUFDQUMsVUFBQSxXQUNBQyxTQUFBLFdBRUFDLFdBQ0FDLGNBQUEsdUJDVkFDLEVBQ0E1QyxjQUNBRyxLQUFBMEMsU0FBQSxLQUNBMUMsS0FBQTJDLFFBQUEsS0FDQTNDLEtBQUF3QixnQkFHQTNCLFlBQUErQixHQUNBLEdBQUFFLEVBQUFGLEVBQUFnQixXQUFBZCxFQUFBQyxNQUNBLFFBQUFiLEtBQUFsQixLQUFBd0IsYUFBQSxDQUNBLE1BQUFxQixFQUFBM0IsRUFBQTRCLHNCQUEwRGxCLEVBQUFtQixRQUFBQyxXQUFBbEQsTUFBQSxFQUFBQyxPQUFBLElBRTFELElBQUFrRCxFQUFBLEtBRUEsVUFBQUosRUFBQSxDQUNBLElBQUFLLEVBQUEsRUFDQS9CLEdBQUEsRUFFQTBCLEVBQUFNLFFBQUEsRUFBdUNDLFNBQVFoSCxLQUMvQ2dILEdBQUFGLElBQ0FBLEVBQUFFLEVBQ0FqQyxFQUFBL0UsS0FJQTZHLEVBQUFKLEVBQUExQixHQUFBOUMsRUFDQXVELEVBQUF5QixPQUFBSixNQUNpQixDQUNqQixNQUFBSyxFQUFBcEQsU0FBQXFELGNBQUEsVUFDQSxTQUFBRCxFQUFBekMsTUFBQTJDLFNBQ0FGLEVBQUF6QyxNQUFBMkMsT0FBQSxRQUlBeEQsS0FBQTJDLFVBQUFNLElBQ0EsT0FBQWpELEtBQUEyQyxVQUNBM0MsS0FBQTJDLFFBQUFjLFNBQUFDLFdBQ0E5QixFQUNBK0IsS0FBQTdCLEVBQUFDLE1BQUFHLFlBQ0FtQixPQUFBckQsS0FBQTJDLFFBQ0FpQixjQUFBWCxJQUdBakQsS0FBQTJDLFFBQUFrQixZQUFBLElBR0EsT0FBQVosR0FDQUEsRUFBQVEsU0FBQUMsV0FDQTlCLEVBQ0ErQixLQUFBN0IsRUFBQUMsTUFBQUUsWUFDQW9CLE9BQUFKLEVBQ0FXLGNBQUE1RCxLQUFBMkMsVUFJQTNDLEtBQUEyQyxRQUFBTSxHQUdBckIsRUFBQStCLE9BQUE3QixFQUFBQyxNQUFBSSxZQUNBbkMsS0FBQTBDLFdBQUFPLElBQ0FqRCxLQUFBMEMsV0FDQTFDLEtBQUEwQyxTQUFBb0IsWUFBQSxHQUdBOUQsS0FBQTBDLFNBQUFPLEVBRUEsT0FBQUEsSUFDQUEsRUFBQWEsWUFBQSxJQUtBLE9BQUFiLEdBQ0FBLEVBQUFRLFNBQUFDLE9BQUE5QixHQUtBRSxFQUFBRixFQUFBZ0IsV0FBQWQsRUFBQU0sVUFBQXBDLEtBQUEwQyxXQUNBZCxFQUFBeUIsT0FBQXJELEtBQUEwQyxTQUNBMUMsS0FBQTBDLFNBQUFlLFNBQUFDLE9BQUE5QixJQUlBL0IsSUFBQWtFLEdBQ0EvRCxLQUFBd0IsYUFBQWhGLEtBQUF1SCxHQUdBbEUsT0FBQWtFLEdBQ0EsTUFBQTVDLEVBQUFuQixLQUFBd0IsYUFBQUosUUFBQTJDLElBRUE1QyxHQUNBbkIsS0FBQXdCLGFBQUFoRSxPQUFBMkQsRUFBQSxxQkM5RkE2QyxFQUNBbkUsWUFBQW9FLEVBQUFDLEVBQUFwRSxFQUFBQyxHQUNBQyxLQUFBbUUsUUFDQUYsTUFDQUMsT0FDQXBFLFFBQ0FDLFVBR0FDLEtBQUFvRSxVQUFBLElBQ0FwRSxLQUFBcUUsWUFBQSxFQUVBckUsS0FBQWUsTUFBQSxVQUdBbEIsWUFBQW9FLEVBQUFDLEdBQ0FsRSxLQUFBbUUsT0FBQUYsTUFDQWpFLEtBQUFtRSxPQUFBRCxPQUdBckUsU0FBQWtCLEVBQUEsV0FDQWYsS0FBQWUsUUFHQWxCLEtBQUFRLEVBQUFnRSxHQUNBaEUsRUFBQWlFLE9BRUF0RSxLQUFBcUUsWUFBQXJFLEtBQUFvRSxZQUNBL0QsRUFBQWtFLGNBQUF2RSxLQUFBZSxRQUNBVixFQUFBa0UsWUFBQXZFLEtBQUFlLE9BR0FWLEVBQUFtRSxZQUNBbkUsRUFBQW9FLE9BQUF6RSxLQUFBbUUsT0FBQUQsS0FBQWxFLEtBQUFtRSxPQUFBRixLQUNBNUQsRUFBQXFFLE9BQUExRSxLQUFBbUUsT0FBQUQsS0FBQWxFLEtBQUFtRSxPQUFBRixJQUFBakUsS0FBQW1FLE9BQUFwRSxRQUNBTSxFQUFBc0UsVUFHQTNFLEtBQUFxRSxlQUVBckUsS0FBQXFFLFlBQUEsRUFBQXJFLEtBQUFvRSxZQUNBcEUsS0FBQXFFLFlBQUEsR0FHQWhFLEVBQUF1RSxpQkM1Q0FDLEVBQ0FoRixTQUFBaUYsRUFBQUMsR0FDQXRJLE9BQUF1SSxLQUFBRixHQUVBLE9BQUFBLEVBQUFaLEtBQUFhLEVBQUFiLEtBQUFhLEVBQUFqRixPQUNBZ0YsRUFBQVosS0FBQVksRUFBQWhGLE1BQUFpRixFQUFBYixNQUNBWSxFQUFBYixJQUFBYyxFQUFBZCxJQUFBYyxFQUFBaEYsUUFDQStFLEVBQUEvRSxPQUFBK0UsRUFBQWIsSUFBQWMsRUFBQWQsV0NIQWdCLEVBQ0FwRixZQUFBa0UsR0FDQS9ELEtBQUFrRixzQkFDQXpJLE9BQUEwSSxFQUFBLE1BQUExSSxDQUFBdUQsS0FBQWtGLG1CQUFBbkIsRUFBQXFCLFlBRUFwRixLQUFBcUYsY0FLQXhGLGFBQUExQixFQUFBbUgsRUFBQUMsRUFBQUMsR0FDQXhGLEtBQUFxRixXQUFBbEgsSUFDQXFILGdCQUNBRCxZQUNBRCxLQUFBLElBQUFBLEVBQ0FqRSxXQUFBLEVBQ0FvRSxrQkFBQSxHQUlBNUYsZ0JBQUExQixVQUNBNkIsS0FBQXFGLFdBQUFsSCxHQUdBMEIsUUFBQVEsRUFBQTBELEVBQUExQyxHQUNBLE1BQUEyRCxFQUFBdkksT0FBQXVJLEtBQUFoRixLQUFBcUYsWUFFQSxRQUFBakosRUFBQSxFQUF1QkEsRUFBQTRJLEVBQUExSSxPQUFpQkYsSUFBQSxDQUN4QyxNQUFBc0osRUFBQTFGLEtBQUFxRixXQUFBTCxFQUFBNUksSUFFQXNKLEVBQUFGLGNBQUFuRixFQUFBMEQsRUFBQXFCLFdBQUFwRixLQUFBa0YsbUJBQUFRLEVBQUFyRSxXQUFBcUUsRUFBQUosS0FBQXZCLEdBRUEyQixFQUFBckUsY0FFQXFFLEVBQUFyRSxXQUFBcUUsRUFBQUosT0FDQUksRUFBQXJFLFdBQUEsRUFDQXFFLEVBQUFELG1CQUFBLEVBRUF6RixLQUFBa0Ysc0JBQ0FuQixFQUFBcEIsUUFDQWxHLE9BQUEwSSxFQUFBLE1BQUExSSxDQUFBdUQsS0FBQWtGLG1CQUFBbkIsRUFBQTRCLGlCQUVBbEosT0FBQTBJLEVBQUEsTUFBQTFJLENBQUF1RCxLQUFBa0YsbUJBQUFuQixFQUFBcUIsWUFHQU0sRUFBQUQsbUJBQUFDLEVBQUFILG1CQUNBdkYsS0FBQXFGLFdBQUFMLEVBQUE1SSxJQUVBMkgsRUFBQU4sU0FBQUMsUUFDQUwsT0FBQVUsRUFDQUosS0FBQTdCLEVBQUFTLFVBQUFDLGNBQ0FJLFFBQUEsWUFDQUcsU0FDQTZDLGNBQUFaLEVBQUE1SSxnQkN2REF5SixFQUNBaEcsY0FDQUcsS0FBQThCLEVBQUFDLE1BQUFDLGVBQ0FoQyxLQUFBOEIsRUFBQUMsTUFBQUksZUFDQW5DLEtBQUE4QixFQUFBTSxTQUFBQyxjQUNBckMsS0FBQThCLEVBQUFNLFNBQUFFLGFBQ0F0QyxLQUFBOEIsRUFBQVMsVUFBQUMsa0JBR0EzQyxPQUFBK0IsR0FDQSxNQUFBNkIsRUFBQXpELEtBQUE0QixFQUFBK0IsTUFNQSxHQUFBRixFQUNBLFFBQUFxQyxLQUFBckMsRUFDQXFDLEVBQUFsRSxHQUtBL0IsaUJBQUExQixFQUFBeUQsR0FDQTVCLEtBQUE3QixJQUNBNkIsS0FBQTdCLEdBQUEzQixLQUFBb0YsSUMzQkEsTUFBQW1FLEVBQUE3RixTQUFBQyxjQUFBLFVBQUFHLFdBQUEsTUFvQkEwRixFQUFBLENBQUFDLEVBQUFDLEVBQUFDLEtBQ0FKLEVBQUFLLFFBQXNCRCxPQUFjRCxJQUNwQ0gsRUFBQU0sWUFBQUosR0FBQW5HLGFDWEF3RyxFQUNBekcsWUFBQW9FLEVBQUEsRUFBQUMsRUFBQSxFQUFBcEUsRUFBQSxFQUFBQyxFQUFBLEVBQUF3RyxFQUFBLEtBQUFwSSxHQUNBNkIsS0FBQXVHLGtCQUVBdkcsS0FBQW9GLGNBRUFwRixLQUFBb0YsV0FBQW9CLFlBQUEsRUFDQXhHLEtBQUFvRixXQUFBcUIsU0FBQSxVQUNBekcsS0FBQTJDLFNBQUEsRUFFQTNDLEtBQUFvRixXQUFBckUsT0FDQTJGLGdCQUFBLGdCQUNBQyxZQUFBLFdBR0EzRyxLQUFBNEcsZ0JBQUEsS0FFQTVHLEtBQUFvRixXQUFBbkIsTUFDQWpFLEtBQUFvRixXQUFBbEIsT0FDQWxFLEtBQUFvRixXQUFBdEYsUUFDQUUsS0FBQW9GLFdBQUFyRixTQUVBQyxLQUFBb0YsV0FBQTVCLE9BQUEsT0FFQXhELEtBQUE2RyxVQUFBLElBQUFoQyxFQUNBN0UsS0FBQXFGLFdBQUEsSUFBQUosRUFBQWpGLE1BRUFBLEtBQUF5RCxTQUFBLElBQUFvQyxFQUNBN0YsS0FBQXlELFNBQUFxRCxpQkFBQWhGLEVBQUFDLE1BQUFDLFdBQUFoQyxLQUFBK0csZUFFVTlDLE1BQUFDLE9BQUFwRSxRQUFBQyxVQUEyQkMsS0FBQWdILDZCQUFBL0MsRUFBQUMsRUFBQXBFLEVBQUFDLElBRXJDQyxLQUFBMkYsbUJBRUFsSixPQUFBMEksRUFBQSxNQUFBMUksQ0FBQXVELEtBQUEyRixnQkFBQTNGLEtBQUFvRixZQUVBcEYsS0FBQWlILHNCQUFBaEQsRUFBQUMsRUFBQXBFLEVBQUFDLEdBRUFDLEtBQUFrSCxjQUFBLEVBQ0FsSCxLQUFBbUgsY0FBQSxFQUVBLE9BQUFaLEdBQ0FBLEVBQUFhLGFBQUFwSCxLQUFBN0IsR0FDQTFCLE9BQUEwSSxFQUFBLE1BQUExSSxDQUFBdUQsS0FBQXFILDBCQUFBckgsS0FBQW9GLFdBQUFrQyxzQkFFQXRILEtBQUFxSCw2QkFDQTVLLE9BQUEwSSxFQUFBLE1BQUExSSxDQUFBdUQsS0FBQXFILDBCQUFBckgsS0FBQW9GLFdBQUFrQyxxQkFJQXpILGlCQUFBMUIsRUFBQXlELEdBQ0E1QixLQUFBeUQsU0FBQXFELGlCQUFBM0ksRUFBQXlELEdBR0EvQiw2QkFBQW9FLEVBQUFDLEVBQUFwRSxFQUFBQyxHQUNBLE1BQUF3SCxFQUFBdkgsS0FBQXdILHFCQUNBLElBQUFDLEVBQUFDLEVBQ0EsTUFBQUMsRUFBQSxJQUNBQyxFQUFBQyxLQUFBRCxNQXlCQSxPQXZCQSxPQUFBTCxHQUNBRSxFQUFBaEksT0FBQXFJLFdBQ0FKLEVBQUFqSSxPQUFBc0ksZUFFY2pJLE1BQUEySCxFQUFBMUgsT0FBQTJILEdBQTJDSCxFQUFBUyx5QkFHekQsaUJBQUEvRCxHQUFBMEQsRUFBQU0sS0FBQWhFLEtBQ0FBLEVBQUEyRCxFQUFBTSxXQUFBakUsR0FBQSxJQUFBeUQsSUFHQSxpQkFBQXhELEdBQUF5RCxFQUFBTSxLQUFBL0QsS0FDQUEsRUFBQTBELEVBQUFNLFdBQUFoRSxHQUFBLElBQUF1RCxJQUdBLGlCQUFBM0gsR0FBQTZILEVBQUFNLEtBQUFuSSxLQUNBQSxFQUFBOEgsRUFBQU0sV0FBQXBJLEdBQUEsSUFBQTJILElBR0EsaUJBQUExSCxHQUFBNEgsRUFBQU0sS0FBQWxJLEtBQ0FBLEVBQUE2SCxFQUFBTSxXQUFBbkksR0FBQSxJQUFBMkgsS0FJQXpELE1BQ0FDLE9BQ0FwRSxRQUNBQyxVQUlBRixTQUFBc0ksR0FDQSxPQUFBQSxFQUFBbkksTUFHQUgsY0FDQSxNQUFBMEgsRUFBQXZILEtBQUF3SCxxQkFDQSxJQUFBQyxFQUFBaEksT0FBQXFJLFdBQ0FKLEVBQUFqSSxPQUFBc0ksWUFFQSxPQUFBUixLQUNjekgsTUFBQTJILEVBQUExSCxPQUFBMkgsR0FBMkNILEVBQUFTLHlCQUd6RCxNQUFBbEksTUFBZUEsRUFBQUMsVUFBZ0JDLEtBQUFnSSx3QkFFL0IsSUFBQUksRUFBQVAsS0FBQVEsT0FBQVgsRUFBQTNILEdBQUEsR0FDQXVJLEVBQUFULEtBQUFRLE9BQUFaLEVBQUEzSCxHQUFBLEdBRUFFLEtBQUFpSCxzQkFBQW1CLEVBQUFFLEVBQUF4SSxFQUFBQyxHQUdBRixtQkFBQTBJLEVBQUEsTUFDQXZJLEtBQUE0RyxnQkFBQTJCLEVBRUEsTUFBQXpJLE1BQWVBLEVBQUFDLFVBQWdCQyxLQUFBZ0ksd0JBRS9CaEksS0FBQTRHLGdCQUFBcEcsUUFBQVYsRUFBQUMsR0FHQUYsNkJBQUF4QixFQUFBbUssRUFBQUMsRUFBQXRILEVBQUF1SCxHQUNBLE1BQUE5SixFQUFBbkMsT0FBQTBJLEVBQUEsSUFBQTFJLENBQUE0QixFQUFBcUssR0FDQUYsRUFBQUcsT0FBQXhILElBQUFzSCxFQUFBN0osRUFHQWlCLFlBQUErSSxHQUNBLE1BQUEzSyxFQUFBMkssRUFBQXZGLE9BQ0FDLEVBQUFwRCxTQUFBcUQsY0FBQSxVQUNBRCxFQUFBekMsTUFBQTJDLFNBQUF2RixFQUFBbUgsV0FBQTVCLFNBQ0FGLEVBQUF6QyxNQUFBMkMsT0FBQXZGLEVBQUFtSCxXQUFBNUIsU0FHQSxJQUFBdkYsRUFBQTBFLFVBQ0ExRSxFQUFBMEUsU0FBQSxFQUNBbEcsT0FBQTBJLEVBQUEsTUFBQTFJLENBQUF3QixFQUFBb0gsV0FBQUgsbUJBQUFqSCxFQUFBMEgsa0JBSUE5Rix3QkFDQSxPQUFBRyxLQUFBcUYsV0FBQUgsbUJBQUFvQyxtQkFHQXpILCtCQUNBLE9BQUFHLEtBQUFxRixXQUFBSCxtQkFBQTJELDBCQUdBaEosV0FBQThDLEdBQ0EzQyxLQUFBMkMsY0FDQTNDLEtBQUEyQyxVQUVBQSxFQUNBbEcsT0FBQTBJLEVBQUEsTUFBQTFJLENBQUF1RCxLQUFBcUYsV0FBQUgsbUJBQUFsRixLQUFBMkYsaUJBRUFsSixPQUFBMEksRUFBQSxNQUFBMUksQ0FBQXVELEtBQUFxRixXQUFBSCxtQkFBQWxGLEtBQUFvRixhQUtBdkYsc0JBQUFvRSxFQUFBQyxFQUFBcEUsRUFBQUMsR0FDQSxNQUFBK0ksRUFBQTlJLEtBQUFnSSx3QkFFQSxJQUFBZSxFQUNBQyxFQUNBQyxFQUNBQyxFQUVBSixLQUNjN0UsSUFBQThFLEVBQUE3RSxLQUFBOEUsRUFBQWxKLE1BQUFtSixFQUFBbEosT0FBQW1KLEdBQXFFSixRQUduRnZJLElBQUEwRCxHQUFBNkUsR0FBQSxpQkFBQTdFLElBQ0FBLEVBQUE4RSxRQUdBeEksSUFBQTJELEdBQUE0RSxHQUFBLGlCQUFBNUUsSUFDQUEsRUFBQThFLFFBR0F6SSxJQUFBVCxHQUFBZ0osR0FBQSxpQkFBQWhKLElBQ0FBLEVBQUFtSixRQUdBMUksSUFBQVIsR0FBQStJLEdBQUEsaUJBQUEvSSxJQUNBQSxFQUFBbUosR0FHQWxKLEtBQUFvRixXQUFBbkIsTUFDQWpFLEtBQUFvRixXQUFBbEIsT0FDQWxFLEtBQUFvRixXQUFBdEYsUUFDQUUsS0FBQW9GLFdBQUFyRixTQUVBQyxLQUFBb0YsV0FBQWtDLG9CQUNBckQsTUFDQUMsT0FDQXBFLFFBQ0FDLFNBQ0FvSixNQUFBakYsRUFBQXBFLEVBQ0FzSixPQUFBbkYsRUFBQWxFLEdBR0FDLEtBQUFxRixXQUFBSCxtQkFBQW9DLHNCQUNBdEgsS0FBQTJGLGdCQUFBMkIsc0JBQ0E3SyxPQUFBMEksRUFBQSxNQUFBMUksQ0FBQXVELEtBQUFxRixXQUFBSCxtQkFBQW9DLG1CQUFBdEgsS0FBQW9GLFdBQUFrQyxvQkFDQTdLLE9BQUEwSSxFQUFBLE1BQUExSSxDQUFBdUQsS0FBQTJGLGdCQUFBMkIsbUJBQUF0SCxLQUFBb0YsV0FBQWtDLG9CQUdBekgsNkJBQUFvRSxFQUFBLEVBQUFDLEVBQUEsRUFBQXBFLEVBQUEsRUFBQUMsRUFBQSxHQUNBQyxLQUFBb0YsV0FBQXlELDJCQUNBNUUsTUFDQUMsT0FDQXBFLFFBQ0FDLFNBQ0FvSixNQUFBakYsRUFBQXBFLEVBQ0FzSixPQUFBbkYsRUFBQWxFLEdBR0FDLEtBQUFxRixXQUFBSCxtQkFBQTJELDZCQUNBN0ksS0FBQTJGLGdCQUFBa0QsNkJBQ0FwTSxPQUFBMEksRUFBQSxNQUFBMUksQ0FBQXVELEtBQUFxRixXQUFBSCxtQkFBQTJELDBCQUFBN0ksS0FBQW9GLFdBQUF5RCwyQkFDQXBNLE9BQUEwSSxFQUFBLE1BQUExSSxDQUFBdUQsS0FBQTJGLGdCQUFBa0QsMEJBQUE3SSxLQUFBb0YsV0FBQXlELDJCQUdBaEosbUJBQUFrQixFQUFBLFdBQ0FmLEtBQUFvRixXQUFBckUsTUFBQTJGLGdCQUFBM0YsRUFDQWYsS0FBQTJGLGdCQUFBNUUsTUFBQTJGLGdCQUFBM0YsRUFDQWYsS0FBQXFGLFdBQUFILG1CQUFBbkUsTUFBQTJGLGdCQUFBM0YsRUFHQWxCLGVBQUFrQixFQUFBLFdBQ0FmLEtBQUFvRixXQUFBckUsTUFBQTRGLFlBQUE1RixFQUNBZixLQUFBMkYsZ0JBQUE1RSxNQUFBNEYsWUFBQTVGLEVBQ0FmLEtBQUFxRixXQUFBSCxtQkFBQW5FLE1BQUE0RixZQUFBNUYsRUFHQWxCLG1CQUFBMEcsR0FDQXZHLEtBQUF1RyxrQkFFQSxJQUFBdEMsSUFBYUEsRUFBQUMsT0FBQXBFLFFBQUFDLFVBQTJCQyxLQUFBb0YsYUFDOUJuQixNQUFBQyxPQUFBcEUsUUFBQUMsVUFBMkJDLEtBQUFnSCw2QkFBQS9DLEVBQUFDLEVBQUFwRSxFQUFBQyxJQUNyQ0MsS0FBQWlILHNCQUFBaEQsRUFBQUMsRUFBQXBFLEVBQUFDLEdBQ0FDLEtBQUFxSCw2QkFDQTVLLE9BQUEwSSxFQUFBLE1BQUExSSxDQUFBdUQsS0FBQXFILDBCQUFBckgsS0FBQW9GLFdBQUFrQyxvQkFHQXpILFlBQUE0RyxHQVNBLEdBUkF6RyxLQUFBb0YsV0FBQXFCLFdBQ0F6RyxLQUFBMkYsZ0JBQUFjLFdBQ0F6RyxLQUFBcUYsV0FBQUgsbUJBQUF1QixXQUVBLGFBQUFBLEdBQ0F6RyxLQUFBcUosdUJBR0EsV0FBQTVDLEVBQUEsQ0FDQSxNQUFBNkMsRUFBQXRKLEtBQUF1SixnQ0FDQUMsRUFBQXhKLEtBQUF5SixnQ0FFQTNKLE1BQW1CQSxFQUFBQyxVQUFnQkMsS0FBQWdJLHdCQUVuQ3NCLEVBQUF2SixJQUNBQyxLQUFBMEosUUFBQSxJQUFBQyxFQUFBLFdBQUFMLEVBQUF0SixPQUdBd0osRUFBQTFKLElBQ0FFLEtBQUE0SixRQUFBLElBQUFELEVBQUEsYUFBQUgsRUFBQXhKLFFBS0FILHVCQUNBRyxLQUFBNkosU0FBQXhMLElBQ0EsTUFBQWtKLEVBQUFsSixFQUFBbUoscUJBRUEsSUFBQXZELElBQWlCQSxFQUFBa0YsUUFBQUMsU0FBQWxGLFFBQTJCN0YsRUFBQTJKLHdCQUM1QyxVQUFBVCxFQUFBLENBQ0EsTUFBQXVDLEVBQUF2QyxFQUFBUyx3QkFFQTlELEVBQUEsSUFDQUEsRUFBQSxHQUdBRCxFQUFBLElBQ0FBLEVBQUEsR0FHQTZGLEVBQUFoSyxNQUFBcUosSUFDQUEsRUFBQVcsRUFBQWhLLE9BR0FnSyxFQUFBL0osT0FBQXFKLElBRUFBLEVBREFuRixFQUFBNkYsRUFBQTdGLElBQ0FBLEVBRUE2RixFQUFBL0osUUFNQTFCLEVBQUEwTCw2QkFBQTlGLEVBQUFDLEVBQUEyRCxLQUFBbUMsSUFBQWIsRUFBQWpGLEdBQUEyRCxLQUFBbUMsSUFBQVosRUFBQW5GLE1BSUFwRSxxQkFDQSxPQUFBRyxLQUFBdUcsZ0JBR0ExRyxxQkFDQSxPQUFBRyxLQUFBNEcsZ0JBR0EvRyxjQUNBLE9BQUFHLEtBQUFvRixXQUFBcUIsU0FHQTVHLGFBQUFrRSxJQUlBbEUsZ0JBQUFrRSxJQUlBbEUscUJBQUFRLEVBQUFnQixHQUNBckIsS0FBQXFGLFdBQUE0RSxRQUFBNUosRUFBQUwsS0FBQXFCLEdBR0F4QixlQUFBUSxFQUFBZ0IsR0FDQSxJQUFBNEMsSUFBYUEsRUFBQUMsT0FBQXBFLFFBQUFDLFVBQTJCQyxLQUFBZ0ksd0JBQ3hDakgsRUFBQWYsS0FBQXFGLFdBQUFILG1CQUFBbkUsTUFVQSxHQVJBZixLQUFBd0csYUFDQW5HLEVBQUFrRSxZQUFBeEQsRUFBQTRGLFlBQ0F0RyxFQUFBNkosV0FBQWhHLEVBQUFELEVBQUFuRSxFQUFBQyxJQUdBTSxFQUFBVyxVQUFBRCxFQUFBMkYsZ0JBQ0FyRyxFQUFBWSxTQUFBaUQsRUFBQUQsRUFBQW5FLEVBQUFDLEdBRUEsV0FBQUMsS0FBQW9GLFdBQUFxQixVQUFBLGFBQUF6RyxLQUFBb0YsV0FBQXFCLFNBQUEsQ0FDQSxNQUFBMEQsRUFBQSxJQUFBQyxPQUNBRCxFQUFBRSxLQUFBbkcsRUFBQUQsRUFBQW5FLEVBQUFDLEdBQ0FNLEVBQUFpSyxLQUFBSCxFQUFBLFdBR0EsT0FBQW5LLEtBQUE0RyxpQkFDQTVHLEtBQUE0RyxnQkFBQXJGLEtBQUFsQixFQUFBNkQsRUFBQUQsR0FJQXBFLGNBQUFRLEVBQUFnQixHQUNBckIsS0FBQXVLLHFCQUFBbEssRUFBQWdCLEdBQ0FyQixLQUFBd0ssZUFBQW5LLEVBQUFnQixHQUdBeEIsS0FBQVEsRUFBQWdCLEdBQ0FoQixFQUFBaUUsT0FFQSxNQUFBaUQsRUFBQXZILEtBQUF3SCxxQkFRQSxHQU5BLE9BQUFELEdBQ0FsSCxFQUFBb0ssVUFBQWxELEVBQUFTLHdCQUFBOUQsS0FBQXFELEVBQUFTLHdCQUFBL0QsS0FHQWpFLEtBQUEwSyxjQUFBckssRUFBQWdCLEdBRUFyQixLQUFBMkssU0FDQSxRQUFBdE0sS0FBQTJCLEtBQUEySyxTQUNBdE0sRUFBQTBGLFVBQUF4QyxLQUFBbEIsRUFBQWdCLEdBSUFoQixFQUFBdUUsaUJBSUFnRyxVQUFBdEUsRUFDQXpHLFlBQUFvRSxFQUFBLEVBQUFDLEVBQUEsRUFBQXBFLEVBQUEsRUFBQUMsRUFBQSxFQUFBd0csRUFBQSxNQUNBc0UsTUFBQTVHLEVBQUFDLEVBQUFwRSxFQUFBQyxFQUFBd0csR0FFQXZHLEtBQUEySyxZQUdBOUssYUFBQWtFLEVBQUE1RixHQUNBNEYsRUFBQStHLG1CQUFBOUssV0FFQU8sSUFBQXBDLEdBQUEsaUJBQUFBLEVBQ0E2QixLQUFBMkssU0FBQW5PLE1BQ0F1SCxZQUNBNUYsU0FHQTZCLEtBQUEySyxTQUFBbk8sTUFDQXVILFlBQ0E1RixLQUFBMUIsT0FBQTBJLEVBQUEsU0FBQTFJLENBQUEsZ0JBS0FvRCxnQkFBQWtFLEdBQ0EsTUFBQTVDLEVBQUFuQixLQUFBMkssU0FBQUksVUFBQSxFQUFnRGhILFVBQUFpSCxLQUE0QkEsSUFBQWpILEdBRTVFLFdBQUE1QyxJQUNBbkIsS0FBQTJLLFNBQUFuTixPQUFBMkQsRUFBQSxJQUNBLEdBTUF0QixrQkFBQXNCLEdBQ0Esb0JBQUFBLEdBQ0FuQixLQUFBMkssU0FBQXJPLE9BQUE2RSxNQUFBLEVBQ0EsT0FBQW5CLEtBQUEySyxTQUFBeEosR0FBQTRDLFVBSUEsTUFBQWtILEVBQUFqTCxLQUFBMkssU0FBQU8sS0FBQXRDLEtBQUF6SyxPQUFBZ0QsR0FFQSxPQUFBOEosSUFBQWxILFVBQUEsS0FHQWxFLGVBQ0FHLEtBQUEySyxZQUdBOUssU0FBQXNJLEdBRUEsSUFEQUEsRUFBQW5JLE9BS0FBLEtBQUEySyxTQUNBLFFBQUF0TSxLQUFBMkIsS0FBQTJLLFNBQUEsQ0FDQSxNQUFBNUcsVUFBdUJBLEdBQVkxRixFQUNuQyxHQUFBMEYsRUFBQThGLFNBQ0E5RixFQUFBOEYsU0FBQTFCLE9BQ2lCLENBRWpCLEdBREFBLEVBQUFwRSxHQUVBLFNBT0FsRSxnQkFBQXNMLEdBQ0FuTCxLQUFBbUgsY0FBQWdFLEVBRUFuTCxLQUFBMkssU0FBQXhILFFBQUEsRUFBZ0NZLGdCQUNoQyxHQUFBQSxhQUFBNEYsRUFDQSxPQUdBLE1BQUExRixJQUFtQkEsR0FBTUYsRUFBQXNELDBCQUN6QnRELEVBQUFrRCxzQkFBQWhELEVBQUFrSCxHQUVBLE1BQUF2RSxFQUFBNUcsS0FBQW9MLHFCQUVBeEUsR0FDQUEsRUFBQXlFLGdCQUFBekUsRUFBQTBFLEVBQUFILEtBS0F0TCxnQkFBQTBMLEdBQ0F2TCxLQUFBa0gsY0FBQXFFLEVBRUF2TCxLQUFBMkssU0FBQXhILFFBQUEsRUFBZ0NZLGdCQUNoQyxHQUFBQSxhQUFBNEYsRUFDQSxPQUdBLE1BQUF6RixLQUFtQkEsR0FBT0gsRUFBQXNELDBCQUMxQnRELEVBQUFrRCwyQkFBQTFHLEVBQUEyRCxFQUFBcUgsR0FFQSxNQUFBM0UsRUFBQTVHLEtBQUFvTCxxQkFFQXhFLEdBQ0FBLEVBQUE0RSxnQkFBQTVFLEVBQUE2RSxFQUFBRixLQUtBMUwsK0JBQ0EsT0FBQUcsS0FBQTJLLFNBQUFyTyxPQUNBLFlBR0EsSUFBQW9QLEVBQUExTCxLQUFBMkssU0FBQSxHQUFBNUcsVUFDQSxNQUFBRyxLQUFlQSxFQUFBcEUsU0FBYzRMLEVBQUExRCx3QkFFN0IsSUFBQTJELEVBQUF6SCxFQUFBcEUsRUFFQSxRQUFBMUQsRUFBQSxFQUF1QkEsRUFBQTRELEtBQUEySyxTQUFBck8sT0FBMEJGLElBQUEsQ0FDakQsTUFBQTJILEVBQUEvRCxLQUFBMkssU0FBQXZPLEdBQUEySCxVQUNBLElBQUFHLEtBQWlCQSxFQUFBcEUsU0FBY2lFLEVBQUFpRSx3QkFFL0I5RCxFQUFBcEUsRUFBQTZMLElBQ0FBLEVBQUF6SCxFQUFBcEUsR0FJQSxPQUFBNkwsRUFHQTlMLGdDQUNBLE9BQUFHLEtBQUEySyxTQUFBck8sT0FDQSxZQUdBLElBQUFvUCxFQUFBMUwsS0FBQTJLLFNBQUEsR0FBQTVHLFVBQ0EsTUFBQUUsSUFBZUEsRUFBQWxFLFVBQWMyTCxFQUFBMUQsd0JBRTdCLElBQUEyRCxFQUFBMUgsRUFBQWxFLEVBRUEsUUFBQTNELEVBQUEsRUFBdUJBLEVBQUE0RCxLQUFBMkssU0FBQXJPLE9BQTBCRixJQUFBLENBQ2pELE1BQUEySCxFQUFBL0QsS0FBQTJLLFNBQUF2TyxHQUFBMkgsVUFDQSxJQUFBRSxJQUFpQkEsRUFBQWxFLFVBQWNnRSxFQUFBaUUsd0JBRS9CL0QsRUFBQWxFLEVBQUE0TCxJQUNBQSxFQUFBMUgsRUFBQWxFLEdBSUEsT0FBQTRMLEVBR0E5TCxrQkFBQStMLEdBQ0EsTUFBQUMsS0FDQSxJQUFBQyxFQUFBLEVBb0ZBLE9BbEZBOUwsS0FBQTZKLFNBQUF4TCxJQUNBLE1BQUE0RixJQUFtQkEsRUFBQUMsT0FBQXBFLFFBQUFDLFVBQTJCMUIsRUFBQTJKLHdCQUM5QytELEdBQ0FqTSxRQUNBQyxVQUdBLElBQUFpTSxFQUFBLEVBQ0FDLEVBQUEsRUFFQTdJLEVBQUEsRUFFQW1FLEVBQUFsSixFQUFBbUoscUJBRUEsTUFBQTBFLEtBRUEsWUFBQTNFLEdBQUEsQ0FDQSxJQUFBdEQsSUFBcUJBLEVBQUFDLFFBQVlxRCxFQUFBUyx3QkFFakNnRSxHQUFBL0gsRUFDQWdJLEdBQUEvSCxFQUVBZCxHQUFBLEVBRUEsV0FBQW1FLEVBQUE0RSxlQUFBLGFBQUE1RSxFQUFBNEUsZUFDQUQsRUFBQTFQLEtBQUErSyxHQUdBQSxJQUFBQyxxQkFTQSxHQU5Bd0UsR0FBQS9ILEVBQ0FnSSxHQUFBL0gsRUFFQTZILEVBQUE5SCxJQUFBK0gsRUFDQUQsRUFBQTdILEtBQUErSCxFQUVBLElBQUFDLEVBQUE1UCxPQUNBLFFBQUFGLEVBQUEsRUFBK0JBLEVBQUE4UCxFQUFBNVAsT0FBMkJGLElBQUEsQ0FDMUQsSUFBQTZILElBQXlCQSxFQUFBQyxPQUFBcEUsUUFBQUMsVUFBMkJtTSxFQUFBOVAsR0FBQTRMLHdCQUVwRG9FLEVBQUFuSSxFQUNBb0ksRUFBQW5JLEVBRUEzRSxFQUFBMk0sRUFBQTlQLEdBQUFvTCxxQkFFQSxZQUFBakksR0FBQSxDQUNBLElBQUEwRSxJQUE2QkEsRUFBQUMsUUFBWTNFLEVBQUF5SSx3QkFFekNvRSxHQUFBbkksRUFDQW9JLEdBQUFuSSxFQUVBM0UsSUFBQWlJLHFCQUdBLE1BQUE4RSxHQUNBckksSUFBQW1JLEVBQ0FsSSxLQUFBbUksRUFDQXZNLFFBQ0FDLFVBS0EsSUFGQTFCLEVBQUF3SSxVQUFBMEYsU0FBQUQsRUFBQVAsR0FHQSxZQUtBL0wsS0FBQTZHLFVBQUEwRixTQUFBUixFQUFBSCxLQUNBQyxFQUFBclAsTUFDQTZCLElBQ0ErRSxVQUdBQSxFQUFBMEksSUFDQUEsRUFBQTFJLE1BS0EsSUFBQXlJLEVBQUF2UCxPQUNBdVAsRUFHQSxZQUlBbEMsVUFBQWlCLEVBQ0EvSyxZQUFBMk0sRUFBQUMsRUFBQWxHLEdBR0EsSUFPQXpHLEVBUEEySCxFQUFBaEksT0FBQXFJLFdBQ0FKLEVBQUFqSSxPQUFBc0ksWUFFQXhCLEtBQ2N6RyxNQUFBMkgsRUFBQTFILE9BQUEySCxHQUEyQ25CLEVBQUF5Qix5QkFLekQsYUFBQXdFLEVBRUEzQixNQUFBLEVBQUFwRCxFQWJBLE1BWUEzSCxFQUFBNEgsRUFDQW5CLEdBR0FzRSxNQUFBbkQsRUFoQkEsR0FnQkEsRUFEQTVILEVBQUEySCxFQWZBLEdBZ0JBbEIsR0FHQXZHLEtBQUF5TSxhQUVBek0sS0FBQTBNLG1CQUFBLFdBRUEsSUFVQUMsRUFWQUMsRUFBQWpFLE9BQUFrRSxhQUFBQyxTQUFBLFlBQ0FDLEVBQUFwRSxPQUFBa0UsYUFBQUMsU0FBQSxZQUVBLGFBQUFOLElBQ0FJLEVBQUFqRSxPQUFBa0UsYUFBQUMsU0FBQSxZQUNBQyxFQUFBcEUsT0FBQWtFLGFBQUFDLFNBQUEsYUFHQTlNLEtBQUF3TSxjQUdBLE1BQUFRLEVBQUEsSUFBQUMsRUFBQSxJQWxDQSxNQWtDQUwsRUFBQTVNLE1BY0EsSUFBQWtOLEVBWEFQLEVBREEsYUFBQUgsRUFDQSxJQUFBUyxFQUFBbk4sRUFBQSxLQXJDQSxNQXFDQWlOLEVBQUEvTSxNQUVBLElBQUFpTixFQUFBLEVBQUFuTixFQUFBLEdBdkNBLE1BdUNBaU4sRUFBQS9NLE1BR0FnTixFQUFBTixtQkFBQSxXQUNBQyxFQUFBRCxtQkFBQSxXQUVBTSxFQUFBckgsZ0JBQUE1RSxNQUFBMkYsZ0JBQUEsVUFDQWlHLEVBQUFoSCxnQkFBQTVFLE1BQUEyRixnQkFBQSxVQUlBLE1BQUF5RyxFQUFBck4sRUFBQSxHQVFBLElBQUFzTixFQUVBQyxFQXFCQUMsRUE1QkFKLEVBREEsYUFBQVYsRUFDQSxJQUFBNUIsRUFyREEsR0FxREEsRUFyREEsR0FxREF1QyxFQUFBbk4sTUFFQSxJQUFBNEssRUFBQSxFQXZEQSxHQXVEQXVDLEVBdkRBLEdBdURBbk4sTUFRQXFOLEVBREEsYUFBQWIsRUFDQTlFLEVBQUErRSxFQUVBaEYsRUFBQWdGLEdBSUFXLEVBREEsYUFBQVosRUFDQSxJQUFBbEcsRUFBQSxJQUFBdkcsR0FBQThILEtBQUFELE1BQUF5RixFQUFBLEdBQUFILEdBRUEsSUFBQTVHLEVBQUEsSUFBQXVCLEtBQUFELE1BQUF5RixFQUFBLEdBQUF0TixHQUFBbU4sSUFHQVIsbUJBQUEsV0FFQTFNLEtBQUF1TixVQUFBLEVBQ0F2TixLQUFBd04sYUFBQUwsRUFBQXRGLEtBQUFELE1BQUF5RixFQUFBLEdBRUFyTixLQUFBcU4sZUFLQUMsRUFEQSxhQUFBZCxFQUNBQyxFQUFBL0UsRUFFQStFLEVBQUFoRixFQUdBLElBQUFnRyxFQUFBLEVBQ0FDLEVBQUEsR0FBQTFOLEtBQUF3TixhQUVBUixFQUFBbEcsaUJBQUFoRixFQUFBQyxNQUFBSSxXQUFBeUcsSUFDQTVJLEtBQUF1TixVQUFBLE1BQ0F2TixLQUFBdU4sV0FBQSxHQUNBRSxHQUFBQyxFQUFBSixJQUVBdE4sS0FBQXVOLFVBQUEsRUFDQUUsRUFBQSxHQUdBLGFBQUF6TixLQUFBd00sYUFDQVksRUFBQW5HLHVCQUFBakgsS0FBQXVOLFdBQ0FoSCxFQUFBOEUsZ0JBQUFvQyxLQUVBTCxFQUFBbkcsMkJBQUExRyxHQUFBUCxLQUFBdU4sV0FDQWhILEVBQUFpRixnQkFBQWlDLE1BSUFkLEVBQUE3RixpQkFBQWhGLEVBQUFDLE1BQUFJLFdBQUF5RyxJQUNBNUksS0FBQXVOLFVBQUEsSUFBQXZOLEtBQUF3TixjQUNBeE4sS0FBQXVOLFdBQUEsR0FDQUUsR0FBQUMsRUFBQUosSUFFQXROLEtBQUF1TixXQUFBdk4sS0FBQXdOLGFBQ0FDLEdBQUFILEdBR0EsYUFBQXROLEtBQUF3TSxhQUNBWSxFQUFBbkcsdUJBQUFqSCxLQUFBdU4sV0FDQWhILEVBQUE4RSxnQkFBQW9DLEtBRUFMLEVBQUFuRywyQkFBQTFHLEdBQUFQLEtBQUF1TixXQUNBaEgsRUFBQWlGLGdCQUFBaUMsYUFNQVIsVUFBQTNHLEVBQ0F6RyxZQUFBb0UsRUFBQSxFQUFBQyxFQUFBLEVBQUFwRSxFQUFBLEVBQUFDLEVBQUEsRUFBQWtHLEVBQUEsR0FBQU0sRUFBQSxNQUNBc0UsTUFBQTVHLEVBQUFDLEVBQUFwRSxFQUFBQyxFQUFBd0csR0FFQSxNQUFBb0gsRUFBQTNILEVBQUFDLEVBQUEsb0JBRUFqRyxLQUFBNE4sTUFBQSxJQUFBQyxFQUFBaEcsS0FBQUQsTUFBQTdILEVBQUEsS0FBQThILEtBQUFELE1BQUE5SCxFQUFBLEdBQUErSCxLQUFBRCxNQUFBK0YsRUFBQSxHQUFBQSxFQUFBLEtBQUExSCxHQUNBakcsS0FBQW9GLFdBQUE1QixPQUFBLFVBR0EzRCxlQUFBUSxFQUFBZ0UsR0FDQXdHLE1BQUFMLGVBQUFuSyxFQUFBZ0UsR0FFQSxNQUFBSixJQUFlQSxFQUFBQyxRQUFZbEUsS0FBQWdJLHdCQUUzQjNILEVBQUFpRSxPQUVBakUsRUFBQW9LLFVBQUF2RyxFQUFBRCxHQUVBakUsS0FBQTROLE1BQUFyTSxLQUFBbEIsRUFBQWdFLEdBRUFoRSxFQUFBdUUsaUJDNXdCQWlKLFVBQUF2SCxFQUNBekcsWUFBQW9FLEVBQUEsRUFBQUMsRUFBQSxFQUFBcEUsRUFBQSxFQUFBQyxFQUFBLEVBQUFrRyxFQUFBLEdBQUFNLEVBQUEsTUFDQXNFLE1BQUE1RyxFQUFBQyxFQUFBcEUsRUFBQUMsRUFBQXdHLEdBRUF2RyxLQUFBaUcsT0FDQWpHLEtBQUFvRixXQUFBckUsTUFBQStNLFVBQUEsVUFDQTlOLEtBQUFvRixXQUFBMkksZ0JBQ0FDLFVBQUEsT0FDQUMsYUFBQSxNQUNBOUgsU0FBQSxHQUNBRCxXQUFBLGFBR0FsRyxLQUFBa08sY0FBQSxXQUVBbE8sS0FBQW1PLFVBQUEsRUFFQW5PLEtBQUF5RCxTQUFBcUQsaUJBQUFoRixFQUFBQyxNQUFBSSxXQUFBbkMsS0FBQW9PLGlCQUNBcE8sS0FBQXlELFNBQUFxRCxpQkFBQWhGLEVBQUFNLFNBQUFDLFVBQUFyQyxLQUFBcU8sZ0JBQ0FyTyxLQUFBeUQsU0FBQXFELGlCQUFBaEYsRUFBQU0sU0FBQUUsU0FBQXRDLEtBQUFzTyxlQUVBdE8sS0FBQXVPLGVBQ0F2TyxLQUFBd08sYUFFQXhPLEtBQUF5TyxnQkFDQUMsSUFBQSxFQUNBQyxPQUFBLEVBQ0F4TixNQUFBLEdBR0FuQixLQUFBb0YsV0FBQTVCLE9BQUEsT0FFQS9HLE9BQUEwSSxFQUFBLE1BQUExSSxDQUFBdUQsS0FBQXFGLFdBQUFILG1CQUFBbEYsS0FBQW9GLFlBQ0EzSSxPQUFBMEksRUFBQSxNQUFBMUksQ0FBQXVELEtBQUEyRixnQkFBQTNGLEtBQUFvRixZQUVBcEYsS0FBQTRPLHFCQUNBQyxRQUFBLEVBQ0FILElBQUEsR0FHQTFPLEtBQUF3RCxPQUFBLElBQUFRLEVBQUEsTUFBQWhFLEtBQUFvRixXQUFBMkksZUFBQTVILFVBR0F0RyxnQkFBQStJLEdBQ0EsR0FBQUEsRUFBQXZGLE9BQUE4SyxTQUFBLENBQ0EsTUFBQTlLLEVBQUF1RixFQUFBdkYsT0FFQSxRQUFBQSxFQUFBNEMsS0FTQSxPQVJBNUMsRUFBQUcsT0FBQXNMLFlBQUEsVUFFQXpMLEVBQUFvTCxnQkFDQUMsSUFBQSxFQUNBQyxPQUFBLEVBQ0F4TixNQUFBLElBTUEsSUFBQW9MLEdBQUEsRUFHQSxNQUFBdEksSUFBbUJBLEVBQUFDLFFBQVliLEVBQUEyRSx3QkFFL0IsSUFBQStHLEVBQUE5SyxFQUNBK0ssRUFBQTlLLEVBRUFxRCxFQUFBbEUsRUFBQW1FLHFCQUVBLEtBQUFELEdBQUEsQ0FDQSxNQUFBdEQsSUFBdUJBLEVBQUFDLFFBQVlxRCxFQUFBUyx3QkFDbkMrRyxHQUFBOUssRUFDQStLLEdBQUE5SyxFQUVBcUQsSUFBQUMscUJBR0EsTUFBQXhFLEdBQ0FpQixJQUFBMkUsRUFBQTdGLFFBQUFDLFdBQUFpQixJQUNBQyxLQUFBMEUsRUFBQTdGLFFBQUFDLFdBQUFrQixLQUNBcEUsTUFBQSxFQUNBQyxPQUFBLEdBR0EsUUFBQTNELEVBQUEsRUFBMkJBLEVBQUFpSCxFQUFBNEwsY0FBQTNTLFNBQUFpUSxFQUE4Q25RLElBQUEsQ0FDekUsTUFBQThTLEVBQUE3TCxFQUFBNEwsY0FBQTdTLEdBQ0EsUUFBQWtCLEVBQUEsRUFBK0JBLEVBQUE0UixFQUFBNVMsU0FBQWlRLEVBQThCalAsSUFBQSxDQUM3RCxNQUFBMkcsSUFBMkJBLEVBQUFDLE9BQUFwRSxRQUFBQyxVQUEyQm1QLEVBQUE1UixJQUV0RGlQLEVBQUFsSixFQUFBd0QsVUFBQTBGLFVBQ0F0SSxNQUFBOEssRUFDQTdLLE9BQUE4SyxFQUNBbFAsUUFDQUMsVUFFQWlELE1BSUFLLEVBQUFHLE9BQUFzTCxZQUFBN0ssRUFBQUMsR0FDQWIsRUFBQW9MLGdCQUNBQyxJQUFBdFMsRUFDQXVTLE9BQUFyUixFQUNBNkQsTUFBQWtDLEVBQUFtTCxVQUFBcFMsR0FBQStTLFlBQUE3UixLQU1BLElBQUFpUCxFQUNBLFFBQUFuUSxFQUFBLEVBQStCQSxFQUFBaUgsRUFBQWtMLFlBQUFqUyxTQUFBaVEsRUFBNENuUSxJQUFBLENBQzNFLE1BQUE2SCxJQUEyQkEsRUFBQUMsT0FBQXBFLFFBQUFDLFVBQTJCc0QsRUFBQWtMLFlBQUFuUyxJQUV0RG1RLEVBQUFsSixFQUFBd0QsVUFBQTBGLFVBQ0F0SSxNQUFBOEssRUFDQTdLLE9BQUE4SyxFQUNBbFAsTUFBQXVELEVBQUEyRSx3QkFBQWxJLE1BQ0FDLFVBRUFpRCxNQUlBSyxFQUFBRyxPQUFBc0wsWUFBQTdLLEVBQUFuRSxHQUVBdUQsRUFBQW9MLGdCQUNBQyxJQUFBdFMsRUFDQXVTLE9BQUF0TCxFQUFBNEwsY0FBQTdTLEdBQUFFLE9BQ0E2RSxNQUFBa0MsRUFBQW1MLFVBQUFwUyxHQUFBK1MsWUFBQTlMLEVBQUE0TCxjQUFBN1MsR0FBQUUsU0FNQSxJQUFBaVEsRUFBQSxDQUNBLE1BQUF0SSxJQUF1QkEsRUFBQW5FLFNBQWF1RCxFQUFBa0wsWUFBQWxMLEVBQUFrTCxZQUFBalMsT0FBQSxHQUNwQytHLEVBQUFHLE9BQUFzTCxZQUFBN0ssRUFBQW5FLEdBRUF1RCxFQUFBb0wsZ0JBQ0FDLElBQUFyTCxFQUFBa0wsWUFBQWpTLE9BQUEsRUFDQXFTLE9BQUF0TCxFQUFBNEwsY0FBQTVMLEVBQUE0TCxjQUFBM1MsT0FBQSxHQUFBQSxPQUNBNkUsTUFBQWtDLEVBQUFtTCxVQUFBbkwsRUFBQTRMLGNBQUEzUyxPQUFBLEdBQUE2UyxZQUFBOUwsRUFBQTRMLGNBQUE1TCxFQUFBNEwsY0FBQTNTLE9BQUEsR0FBQUEsVUFNQXVELGVBQUErSSxHQUNBLEdBQUFBLEVBQUF2RixPQUFBOEssU0FBQSxDQUNBLE1BQUE5SyxFQUFBdUYsRUFBQXZGLE9BRUEsb0JBQUFBLEVBQUE2SyxlQUNBN0ssRUFBQTRDLEtBQUEzSixRQUFBK0csRUFBQTZLLGNBQUEsT0FHQSxjQUFBdEYsRUFBQTdGLFFBQUE3RCxJQUFBLE9BQ0EsaUJBQUEwSixFQUFBN0YsUUFBQTdELElBQUEsT0FDQSxhQUFBMEosRUFBQTdGLFFBQUE3RCxJQUFBLE9BRUFtRSxFQUFBNEMsS0FBQTVDLEVBQUErTCxZQUFBeEcsRUFBQTdGLFFBQUE3RCxJQUFBbUUsRUFBQW9MLGVBQUF0TixNQUFBa0MsRUFBQTRDLE1BQ0E1QyxFQUFBb0wsZUFBQXROLE9BQUEsRUFFQWtDLEVBQUF1TCxvQkFBQUMsUUFBQSxHQUlBaFAsY0FBQStJLEdBQ0EsR0FBQUEsRUFBQXZGLE9BQUE4SyxTQUFBLENBQ0EsTUFBQTlLLEVBQUF1RixFQUFBdkYsT0FDQSxJQUFBbkUsRUFBQTBKLEVBQUE3RixRQUFBN0QsSUFDQWlDLEVBQUFrQyxFQUFBb0wsZUFBQXROLE1BRUEsY0FBQWpDLEVBQUEsQ0FDQSxHQUFBaUMsR0FBQWtDLEVBQUE0QyxLQUFBM0osT0FBQSxPQUVBK0csRUFBQTRDLEtBQUE1QyxFQUFBZ00sWUFBQWxPLEVBQUFrQyxFQUFBNEMsV0FDYSxpQkFBQS9HLEVBQUEsQ0FDYixPQUFBaUMsRUFBQSxPQUVBa0MsRUFBQTRDLEtBQUE1QyxFQUFBZ00sWUFBQWxPLEVBQUEsRUFBQWtDLEVBQUE0QyxNQUNBOUUsR0FBQSxFQUdBa0MsRUFBQW9MLGVBQUF0TixRQUVBa0MsRUFBQXVMLG9CQUFBQyxRQUFBLEdBSUFoUCxZQUFBc0IsRUFBQW1PLEdBQ0EsT0FBQUEsRUFBQTNQLE1BQUEsRUFBQXdCLEdBQUFtTyxFQUFBM1AsTUFBQXdCLEVBQUEsR0FHQXRCLFlBQUFYLEVBQUFpQyxFQUFBbU8sR0FDQSxPQUFBbk8sR0FBQW1PLEVBQUFoVCxPQUNBZ1QsRUFBQXBRLEVBR0EsSUFBQWlDLEVBQ0FqQyxFQUFBb1EsRUFHQUEsRUFBQTNQLE1BQUEsRUFBQXdCLEdBQUFqQyxFQUFBb1EsRUFBQTNQLE1BQUF3QixHQUdBdEIsVUFDQSxPQUFBRyxLQUFBaUcsS0FHQXBHLFFBQUFvRyxFQUFBLElBQ0FqRyxLQUFBNE8sb0JBQUFDLFFBQUEsRUFDQTdPLEtBQUFpRyxPQUdBcEcsWUFBQXNHLEVBQUEsSUFDQW5HLEtBQUFvRixXQUFBMkksZUFBQTVILFdBR0F0RyxhQUFBa0IsRUFBQSxXQUNBZixLQUFBb0YsV0FBQXJFLE1BQUErTSxVQUFBL00sRUFHQWxCLFFBQUF1RyxHQUNBcEcsS0FBQStOLGVBQUEzSCxPQUdBdkcsd0JBQUE2TyxFQUFBQyxHQUNBLElBQUEzTyxLQUFBaVAsY0FBQTNTLE9BQ0FxUyxHQUFBM08sS0FBQWlQLGNBQUFQLEdBQUFwUyxPQUNBMEQsS0FBQXdELE9BQUFzTCxZQUFBOU8sS0FBQWlQLGNBQUFQLEdBQUFDLEVBQUEsR0FBQTFLLElBQUFqRSxLQUFBaVAsY0FBQVAsR0FBQUMsRUFBQSxHQUFBekssS0FBQWxFLEtBQUFpUCxjQUFBUCxHQUFBQyxFQUFBLEdBQUE3TyxPQUVBRSxLQUFBd0QsT0FBQXNMLFlBQUE5TyxLQUFBaVAsY0FBQVAsR0FBQUMsR0FBQTFLLElBQUFqRSxLQUFBaVAsY0FBQVAsR0FBQUMsR0FBQXpLLE1BR0FsRSxLQUFBd0QsT0FBQXNMLFlBQUEsS0FJQWpQLHFCQUFBUSxFQUFBZ0UsR0FDQWhFLEVBQUFXLFVBQUFoQixLQUFBcUYsV0FBQUgsbUJBQUFuRSxNQUFBK00sVUFDQXpOLEVBQUErRixRQUEwQnBHLEtBQUFxRixXQUFBSCxtQkFBQTZJLGVBQUE1SCxjQUFnRW5HLEtBQUFxRixXQUFBSCxtQkFBQTZJLGVBQUE3SCxhQUMxRjdGLEVBQUEyTixVQUFBaE8sS0FBQXFGLFdBQUFILG1CQUFBNkksZUFBQUMsVUFDQTNOLEVBQUE0TixhQUFBak8sS0FBQXFGLFdBQUFILG1CQUFBNkksZUFBQUUsYUFFQXBELE1BQUFOLHFCQUFBbEssRUFBQWdFLEdBR0F4RSxlQUFBUSxHQUNBLE1BQUFQLEVBQUFFLEtBQUFnSSx3QkFBQWxJLE1BQ0FxRyxFQUFBbkcsS0FBQXFGLFdBQUFILG1CQUFBNkksZUFBQTVILFNBQ0FuRyxLQUFBd08sYUFDQXhPLEtBQUF1TyxlQUVBLElBRUFnQixFQUFBLEVBQ0FDLEVBQUEsRUFDQUwsRUFBQSxFQUNBRCxFQUFBLEdBTEFsUCxLQUFBaUcsS0FBQXdKLE1BQUEsSUFNQXRNLFFBQUEsQ0FBQXVNLEVBQUF0VCxLQUdBLEdBRkFvVCxFQUFBblAsRUFBQWdHLFlBQUFxSixHQUFBNVAsTUFFQXlQLEVBQUFDLEVBQUExUCxFQUlBLE9BSEFvUCxHQUFBUSxPQUNBSCxHQUFBQyxHQUtBeFAsS0FBQXVPLFlBQUEvUixNQUNBeUgsSUFBQWpFLEtBQUF3TyxVQUFBbFMsT0FBQTZKLEVBQ0FqQyxLQUFBLEVBQ0FwRSxNQUFBeVAsRUFDQXhQLE9BQUFvRyxJQUVBbkcsS0FBQXdPLFVBQUFoUyxNQUNBMlMsY0FDQUQsU0FHQUMsR0FBQUQsRUFBQTVTLE9BRUFrVCxFQUFBblAsRUFBQWdHLFlBQUFxSixHQUFBNVAsTUFDQXlQLEVBQUFDLEVBQ0FOLEVBQUFRLElBR0EsS0FBQVIsSUFDQWxQLEtBQUF1TyxZQUFBL1IsTUFDQXlILElBQUFqRSxLQUFBd08sVUFBQWxTLE9BQUE2SixFQUNBakMsS0FBQSxFQUNBcEUsTUFBQU8sRUFBQWdHLFlBQUE2SSxHQUFBcFAsTUFDQUMsT0FBQW9HLElBR0FuRyxLQUFBd08sVUFBQWhTLE1BQ0EyUyxjQUNBRCxVQUlBbFAsS0FBQTJQLHVCQUFBdFAsR0FHQVIsdUJBQUFRLEdBQ0FMLEtBQUFpUCxpQkFFQSxNQUFBOUksRUFBQW5HLEtBQUFxRixXQUFBSCxtQkFBQTZJLGVBQUE1SCxTQUNBbkcsS0FBQXdPLFVBQUFyTCxRQUFBLEVBQWlDK0wsUUFBTzlTLEtBQ3hDLE1BQUE2UyxLQUdBLElBQUFNLEVBQUEsRUFGQUwsRUFBQU8sTUFBQSxJQUlBdE0sUUFBQXlGLElBQ0EsTUFBQTlJLEVBQUFPLEVBQUFnRyxZQUFBdUMsR0FBQTlJLE1BRUFtUCxFQUFBelMsTUFDQWtULE1BQUE5RyxFQUNBMUUsS0FBQXFMLEVBQ0F0TCxJQUFBa0MsRUFBQS9KLEVBQ0EwRCxRQUNBQyxPQUFBb0csSUFHQW9KLEdBQUF6UCxJQUdBRSxLQUFBaVAsY0FBQXpTLEtBQUF5UyxLQUlBcFAseUJBQUFzQixHQUNBLElBQUF1TixFQUFBLEVBQ0FDLEVBQUEsRUFDQSxRQUFBdlMsRUFBQSxFQUF1QkEsRUFBQTRELEtBQUF3TyxVQUFBbFMsUUFDdkIwRCxLQUFBd08sVUFBQXBTLEdBQUErUyxZQUFBaE8sRUFEa0QvRSxJQUVsRHNTLEVBQUF0UyxFQWtCQSxPQVpBLElBQUE0RCxLQUFBd08sVUFBQWxTLFFBQ0FxUyxFQUFBeE4sRUFBQW5CLEtBQUF3TyxVQUFBRSxHQUFBUyxjQUVBblAsS0FBQWlQLGNBQUFQLEdBQUFwUyxTQUNBcVMsRUFBQTNPLEtBQUFpUCxjQUFBUCxHQUFBcFMsT0FDQTZFLEVBQUFuQixLQUFBd08sVUFBQUUsR0FBQVMsWUFBQVIsSUFHQUEsRUFBQSxFQUNBeE4sRUFBQSxJQUlBdU4sTUFDQUMsU0FDQXhOLFNBSUF0QixlQUFBUSxFQUFBZ0UsR0FDQXdHLE1BQUFMLGVBQUFuSyxFQUFBZ0UsR0FDQSxJQUFBSixJQUFhQSxFQUFBQyxRQUFZbEUsS0FBQWdJLHdCQUt6QixHQUhBM0gsRUFBQWlFLE9BRUFqRSxFQUFBb0ssVUFBQXZHLEVBQUFELEdBQ0FqRSxLQUFBNE8sb0JBQUFDLE9BQUEsQ0FDQTdPLEtBQUE0UCxlQUFBdlAsRUFBQUwsS0FBQWlHLEtBQUFqRyxLQUFBNE8sb0JBQUFGLEtBRUEsTUFBQUEsSUFBbUJBLEVBQUFDLFNBQUF4TixTQUFxQm5CLEtBQUE2UCx5QkFBQTdQLEtBQUF5TyxlQUFBdE4sT0FDeENuQixLQUFBeU8sZUFBQUMsTUFDQTFPLEtBQUF5TyxlQUFBRSxTQUNBM08sS0FBQXlPLGVBQUF0TixRQUVBbkIsS0FBQThQLHdCQUFBcEIsRUFBQUMsR0FFQTNPLEtBQUE0TyxvQkFBQUMsUUFBQSxFQUdBeE8sRUFBQVcsVUFBQWhCLEtBQUFvRixXQUFBckUsTUFBQStNLFVBQ0F6TixFQUFBK0YsUUFBMEJwRyxLQUFBb0YsV0FBQTJJLGVBQUE1SCxjQUE2Q25HLEtBQUFvRixXQUFBMkksZUFBQTdILGFBRXZFbEcsS0FBQXdPLFVBQUFyTCxRQUFBLEVBQWlDK0wsUUFBTzlTLEtBQ3hDaUUsRUFBQTBQLFNBQUFiLEVBQUEsRUFBQWxQLEtBQUF1TyxZQUFBblMsR0FBQTZILE9BR0FqRSxLQUFBOEQsWUFBQTlELEtBQUFtTyxVQUNBbk8sS0FBQXdELE9BQUFqQyxLQUFBbEIsRUFBQWdFLEdBR0FoRSxFQUFBdUUsaUJDaFpBb0wsRUFDQW5RLFlBQUEwSSxFQUFBMEgsRUFBQSxFQUFBQyxFQUFBLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUEsRUFBQUMsRUFBQSxFQUFBQyxFQUFBQyxHQUNBMVEsS0FBQUMsY0FBQXNJLEVBRUF2SSxLQUFBeUwsRUFBQXdFLEVBQ0FqUSxLQUFBc0wsRUFBQTRFLE9BRUEzUCxJQUFBOFAsSUFDQXJRLEtBQUFGLE1BQUF1USxRQUdBOVAsSUFBQStQLElBQ0F0USxLQUFBRCxPQUFBdVEsUUFHQS9QLElBQUFrUSxJQUNBelEsS0FBQXlRLGVBR0FsUSxJQUFBbVEsSUFDQTFRLEtBQUEwUSxXQUdBMVEsS0FBQW1RLGVBQ0FuUSxLQUFBb1EsZ0JBRUFwUSxLQUFBMlEsUUFBQSxFQUNBM1EsS0FBQTRRLFFBQUEsRUFFQTVRLEtBQUFrSCxjQUFBLEVBQ0FsSCxLQUFBbUgsY0FBQSxFQUdBbkgsS0FBQXVRLEtBQ0F2USxLQUFBd1EsS0FHQTNRLFFBQUFDLEVBQUFDLEdBQ0FDLEtBQUFGLFFBQ0FFLEtBQUFELFNBRUFDLEtBQUE2USxvQkFHQWhSLGdCQUFBNEwsR0FDQXpMLEtBQUFrSCxjQUFBdUUsRUFHQTVMLGdCQUFBeUwsR0FDQXRMLEtBQUFtSCxjQUFBbUUsRUFHQXpMLGNBQUFvUSxFQUFBQyxHQUNBbFEsS0FBQXlMLEVBQUF3RSxFQUNBalEsS0FBQXNMLEVBQUE0RSxFQUdBclEseUJBQ0FVLElBQUFQLEtBQUFtUSxjQUNBblEsS0FBQThRLGFBQUFqSixLQUFBRCxPQUFBNUgsS0FBQW1RLGFBQUFuUSxLQUFBdVEsSUFBQXZRLEtBQUF5USxRQUVBelEsS0FBQThRLGFBQUEsSUFDQTlRLEtBQUE4USxhQUFBLElBR0E5USxLQUFBOFEsYUFBQSxPQUdBdlEsSUFBQVAsS0FBQW9RLGVBQ0FwUSxLQUFBK1EsYUFBQWxKLEtBQUFELE9BQUE1SCxLQUFBb1EsY0FBQXBRLEtBQUF3USxJQUFBeFEsS0FBQTBRLFNBRUExUSxLQUFBK1EsYUFBQSxJQUNBL1EsS0FBQStRLGFBQUEsSUFHQS9RLEtBQUErUSxhQUFBLEVBR0EvUSxLQUFBZ1IsY0FBQSxFQUNBaFIsS0FBQWlSLGNBQUEsRUFHQXBSLFVBQ0EsT0FBQUcsS0FBQUMsY0FHQUosa0JBQ0EsT0FBQUcsS0FBQThRLGFBR0FqUixrQkFDQSxPQUFBRyxLQUFBK1EsYUFHQWxSLGlCQUNBLE9BQUFHLEtBQUE4USxhQUFBOVEsS0FBQStRLGFBR0FsUix3QkFDQSxPQUFBRyxLQUFBOFEsYUFBQTlRLEtBQUFnUixjQUdBblIsd0JBQ0EsT0FBQUcsS0FBQStRLGFBQUEvUSxLQUFBaVIsY0FHQXBSLHVCQUNBLE9BQUFHLEtBQUE4USxhQUFBOVEsS0FBQWdSLGdCQUFBaFIsS0FBQStRLGFBQUEvUSxLQUFBaVIsZUFHQXBSLGVBQ0FHLEtBQUFnUixjQUFBLEVBQUFoUixLQUFBOFEsYUFDQTlRLEtBQUFpUixjQUFBLEVBQUFqUixLQUFBK1EsY0FDQS9RLEtBQUFnUixjQUFBLEVBQ0FoUixLQUFBaVIsY0FBQSxJQUVBalIsS0FBQWlSLGVBQUEsRUFDQWpSLEtBQUFnUixjQUFBLEdBR0FoUixLQUFBZ1IsZUFBQSxFQUdBaFIsS0FBQTJRLFFBQUEzUSxLQUFBdVEsR0FBQXZRLEtBQUF5USxRQUFBelEsS0FBQWdSLGNBQUEsR0FDQWhSLEtBQUE0USxRQUFBNVEsS0FBQXdRLEdBQUF4USxLQUFBMFEsU0FBQTFRLEtBQUFpUixjQUFBLEdBR0FwUixTQUFBcVIsR0FDQSxJQUFBQyxFQUFBblIsS0FBQW9SLGlCQUNBQyxFQUFBeEosS0FBQUQsTUFBQXVKLEVBQUFELEdBQUEsRUFFQUcsRUFBQUYsSUFDQUUsRUFBQUYsR0FHQSxJQUFBRyxFQUFBdFIsS0FBQXVSLGtCQUVBRixFQUFBQyxHQUNBdFIsS0FBQWdSLGNBQUFLLEVBQ0FyUixLQUFBaVIsY0FBQSxJQUVBalIsS0FBQWlSLGNBQUFwSixLQUFBMkosS0FBQUgsRUFBQUMsR0FDQXRSLEtBQUFnUixjQUFBSyxHQUFBclIsS0FBQWlSLGNBQUEsR0FBQUssR0FHQXRSLEtBQUEyUSxRQUFBM1EsS0FBQXVRLEdBQUF2USxLQUFBeVEsUUFBQXpRLEtBQUFnUixjQUFBLEdBQ0FoUixLQUFBNFEsUUFBQTVRLEtBQUF3USxHQUFBeFEsS0FBQTBRLFNBQUExUSxLQUFBaVIsY0FBQSxHQUdBcFIsVUFBQXFSLEdBQ0EsSUFBQU8sRUFBQXpSLEtBQUFtUSxhQUFBblEsS0FBQXlRLE9BQ0EzUSxFQUFBRSxLQUFBMFIsa0JBQUFELEVBRUFFLEVBQUE5SixLQUFBRCxNQUFBOUgsRUFBQW9SLEdBRUFVLEVBQUEvSixLQUFBRCxNQUFBK0osRUFBQTNSLEtBQUF5USxRQUVBelEsS0FBQTRRLFFBQUE1USxLQUFBMFEsUUFBQTdJLEtBQUFELE1BQUErSixFQUFBRixHQUNBelIsS0FBQTJRLFFBQUFnQixFQUFBQyxFQUFBNVIsS0FBQXlRLE9BR0E1USxLQUFBUSxFQUFBb0wsRUFBQUgsR0FDQSxJQUFBcEgsRUFBQWxFLEtBQUF5TCxFQUNBeEgsRUFBQWpFLEtBQUFzTCxPQUVBL0ssSUFBQWtMLFFBQUFsTCxJQUFBK0ssSUFDQXBILEVBQUF1SCxFQUNBeEgsRUFBQXFILFFBSUEvSyxJQUFBUCxLQUFBRixNQUNBTyxFQUFBd1IsVUFBQTdSLEtBQUFDLGNBQUFELEtBQUEyUSxRQUFBM1EsS0FBQTRRLFFBQUE1USxLQUFBeVEsT0FBQXpRLEtBQUEwUSxRQUFBeE0sRUFBQWxFLEtBQUFrSCxjQUFBakQsRUFBQWpFLEtBQUFtSCxjQUFBbkgsS0FBQUYsTUFBQUUsS0FBQUQsUUFFQU0sRUFBQXdSLFVBQUE3UixLQUFBQyxjQUFBaUUsRUFBQWxFLEtBQUFrSCxjQUFBakQsRUFBQWpFLEtBQUFtSCxzQkN6S0EySyxVQUFBeEwsRUFDQXpHLFlBQUFvRSxFQUFBLEVBQUFDLEVBQUEsRUFBQXBFLEVBQUEsRUFBQUMsRUFBQSxFQUFBa0csRUFBQSxHQUFBTSxFQUFBLE1BQ0FzRSxNQUFBNUcsRUFBQUMsRUFBQXBFLEVBQUFDLEVBQUF3RyxHQUVBLE1BQUFvSCxFQUFBM0gsRUFBQUMsRUFBQSxvQkFFQWpHLEtBQUE0TixNQUFBLElBQUFDLEVBQUFoRyxLQUFBRCxNQUFBN0gsRUFBQSxLQUFBOEgsS0FBQUQsTUFBQTlILEVBQUEsR0FBQStILEtBQUFELE1BQUErRixFQUFBLEdBQUFBLEVBQUEsS0FBQTFILEdBQ0FqRyxLQUFBb0YsV0FBQTVCLE9BQUEsVUFHQTNELGVBQUFRLEVBQUFnRSxHQUNBd0csTUFBQUwsZUFBQW5LLEVBQUFnRSxHQUVBLE1BQUFKLElBQWVBLEVBQUFDLFFBQVlsRSxLQUFBZ0ksd0JBRTNCM0gsRUFBQWlFLE9BRUFqRSxFQUFBb0ssVUFBQXZHLEVBQUFELEdBRUFqRSxLQUFBNE4sTUFBQXJNLEtBQUFsQixFQUFBZ0UsR0FFQWhFLEVBQUF1RSxpQkNwQkFtTixVQUFBbkgsRUFDQS9LLFlBQUFvRSxFQUFBLEVBQUFDLEVBQUEsRUFBQXBFLEVBQUEsRUFBQUMsRUFBQSxFQUFBaVMsRUFBQXpMLEVBQUEsTUFDQXNFLE1BQUE1RyxFQUFBQyxFQUFBcEUsRUFBQUMsRUFBQXdHLEdBRUEsTUFBQTBMLEVBQUFwSyxLQUFBMkosS0FBQTFSLEVBQUEsR0FDQW9TLEVBQUFySyxLQUFBMkosS0FBQXpSLEVBQUEsR0FDQW9TLEVBQUF0SyxLQUFBMkosTUFBQXhMLEVBQUFnTSxFQUFBLDBCQUNBSSxFQUFBdkssS0FBQTJKLEtBQUEsR0FBQVMsR0FFQUksRUFBQXhLLEtBQUEySixLQUFBeEwsRUFBQSx5QkFFQXNNLEVBQUEsSUFBQXpFLEVBQUFxRSxFQUFBLFFBQUFELEVBQUFHLEVBQUEsRUFBQUQsRUFBQSxHQUFBSCxHQUNBTyxFQUFBLElBQUExRSxFQUFBcUUsRUFBQSxHQUFBRCxFQUFBRyxFQUFBLEVBQUFBLEVBQUEsT0FDQUksRUFBQSxJQUFBVixFQUFBLEVBQUFJLEVBQUEsT0FBQUQsRUFBQSxpQkFFQU0sRUFBQXBFLFVBQUEsRUFDQW9FLEVBQUE3RixtQkFBQSxXQUNBNkYsRUFBQXJFLGNBQUFyRyxLQUFBRCxNQUFBd0ssRUFBQUMsRUFBQSxHQUNBQyxFQUFBNUYsbUJBQUEsV0FFQThGLEVBQUE5RixtQkFBQSxXQUVBNkYsRUFBQUUsYUFBQSxXQUNBRixFQUFBL08sT0FBQWtQLFNBQUEsV0FFQTFTLEtBQUEyUyxlQUFBLGNBQ0EzUyxLQUFBNFMsYUFBQSxZQUNBNVMsS0FBQTZTLFVBQUEsU0FFQTdTLEtBQUFvSCxhQUFBa0wsRUFBQXRTLEtBQUEyUyxnQkFDQTNTLEtBQUFvSCxhQUFBbUwsRUFBQXZTLEtBQUE0UyxjQUNBNVMsS0FBQW9ILGFBQUFvTCxFQUFBeFMsS0FBQTZTLFdBR0FoVCx1QkFBQTFCLEVBQUF5RCxHQUNBNUIsS0FBQThTLGtCQUFBOVMsS0FBQTZTLFdBQUEvTCxpQkFBQTNJLEVBQUF5RCxHQUdBL0IsdUJBQ0EsT0FBQUcsS0FBQThTLGtCQUFBOVMsS0FBQTZTLFdBR0FoVCwwQkFDQSxPQUFBRyxLQUFBOFMsa0JBQUE5UyxLQUFBMlMsZ0JBR0E5Uyx3QkFDQSxPQUFBRyxLQUFBOFMsa0JBQUE5UyxLQUFBNFMsY0FHQS9TLGVBQ0EsT0FBQUcsS0FBQThTLGtCQUFBOVMsS0FBQTRTLGNBQUEzTSxZQ2xEQThNLFVBQUFuSSxFQUNBL0ssWUFBQW9FLEVBQUEsRUFBQUMsRUFBQSxFQUFBcEUsRUFBQSxFQUFBQyxFQUFBLEVBQUFpVCxLQUFBQyxLQUFrRjFNLEVBQUEsTUFDbEZzRSxNQUFBNUcsRUFBQUMsRUFBQXBFLEVBQUFDLEVBQUF3RyxHQUVBdkcsS0FBQWdULGNBQ0FoVCxLQUFBd0osV0FBQSxFQUVBLE1BQUEwSixFQUFBRCxFQUFBQyxNQUNlL0MsYUFBQWdELEVBQUEvQyxjQUFBZ0QsR0FBcURGLEVBRXBFRyxFQUFBLElBQUFyRCxFQUFBa0QsRUFBQSxJQUFBQyxFQUFBQyxFQUFBRCxFQUFBQyxFQUFBLElBQUFELEVBQUFDLEdBQ0FwVCxLQUFBc1QsbUJBQUFELEdBRUFyVCxLQUFBZ1QsT0FBQTdQLFFBQUFvUSxJQUNBLE1BQUFDLEVBQUFELEVBQUFFLHVCQUNBM1QsTUFBbUJBLEVBQUFDLFVBQWdCeVQsRUFBQXhMLHdCQUVuQzBMLEVBQUFILEVBQUFJLFVBQ0FDLEVBQUEvTCxLQUFBMkosS0FBQXhMLEVBQUEwTixFQUFBLHFCQUVBRixFQUFBdk0sc0JBQUEsSUFBQW5ILEVBQUFDLEdBQ0EsTUFBQThULEVBQUEsSUFBQWpKLEVBQUEsRUFBQTVLLEtBQUF3SixXQUFBLEVBQUExSixFQUFBQyxFQUFBLE1BRUErVCxFQUFBLElBQUFqRyxFQUFBLElBQUErRixFQUFBLEdBQUFGLEdBRUFJLEVBQUExTyxXQUFBNUIsT0FBQSxPQUVBcVEsRUFBQXpNLGFBQUFvTSxFQUFBLFdBQ0FLLEVBQUF6TSxhQUFBME0sRUFBQSxRQUNBQSxFQUFBQyxjQUVBRCxFQUFBN00sc0JBQUFsSCxFQUFBLEdBQ0ErVCxFQUFBckIsYUFBQSxXQUVBelMsS0FBQW9ILGFBQUF5TSxFQUFBTixFQUFBSSxXQUVBM1QsS0FBQXdKLFlBQUEsRUFBQTFKLElBS0FELCtCQUFBMUIsRUFBQXlELEdBQ0E1QixLQUFBOFMsa0JBQUE5UyxLQUFBNlMsV0FDQTdTLEtBQUFnVCxPQUFBN1AsUUFBQW9RLElBQ0FBLEVBQUFFLHNCQUFBM00saUJBQUEzSSxFQUFBeUQsS0FJQS9CLDRCQUFBMlQsR0FDQSxNQUFBRCxFQUFBdlQsS0FBQWdULE9BQUE5SCxLQUFBcUksSUFDQSxNQUFBUyxFQUFBVCxFQUFBRSxzQkFFQSxPQUFBRCxJQUFBUSxJQUdBLE9BQUFULEdBQUEsS0FHQTFULGNBQ0EsV0FBQW9VLFFBQUFDLElBQ0FsVSxLQUFBbVUsK0JBQUFyUyxFQUFBQyxNQUFBSSxXQUFBeUcsSUFDQXNMLEVBQUF0TCxFQUFBdkYsT0FBQW1FLDBDQUFBNE0sNEJBQUF4TCxFQUFBdkYsb0JDL0RBZ1IsVUFBQXpKLEVBQ0EvSyxZQUFBb0UsRUFBQSxFQUFBQyxFQUFBLEVBQUFwRSxFQUFBLEVBQUFDLEVBQUEsRUFBQXVVLEVBQUFDLEVBQUFDLEVBQUFqTyxFQUFBLE1BQ0FzRSxNQUFBNUcsRUFBQUMsRUFBQXBFLEVBQUFDLEVBQUF3RyxHQUVBdkcsS0FBQXNVLFdBQ0F0VSxLQUFBdVUsV0FDQXZVLEtBQUF5VSxhQUFBRCxFQUVBeFUsS0FBQTBVLFlBQUE1VSxFQUFBLElBQUF5VSxFQUFBRCxHQUVBLE1BQUFLLEVBQUEsSUFBQXJPLEVBQUEsSUFBQXRHLEtBQUEwVSxZQUFBRixFQUFBRixHQUFBdlUsRUFBQSxHQUNBNFUsRUFBQWpJLG1CQUFBLFdBQ0ExTSxLQUFBME0sbUJBQUEsV0FFQTFNLEtBQUE0VSxnQkFBQSxNQUVBLE1BQUFDLEtBQTZCTCxLQUFnQkQsSUFFN0M1RyxFQUFBOUYsS0FBQTJKLEtBQUF4TCxFQUFBNk8sRUFBQSxtQkFFQWpILEVBQUEsSUFBQUMsRUFBQSxJQUFBRixFQUFBLEdBQUFrSCxHQUVBN1UsS0FBQThVLGtCQUFBLFFBRUE5VSxLQUFBb0gsYUFBQXVOLEVBQUEzVSxLQUFBNFUsaUJBQ0E1VSxLQUFBb0gsYUFBQXdHLEVBQUE1TixLQUFBOFUsbUJBRUFsSCxFQUFBbUcsY0FHQWxVLG1CQUNBLE9BQUFHLEtBQUE4UyxrQkFBQTlTLEtBQUE4VSxtQkFHQWpWLGtCQUNBLE9BQUFHLEtBQUE4UyxrQkFBQTlTLEtBQUE0VSxpQkFHQS9VLFlBQUFrQixFQUFBLFdBQ0FmLEtBQUE4UyxrQkFBQTlTLEtBQUE0VSxpQkFBQWxJLG1CQUFBM0wsR0FHQWxCLFNBQUFqQixHQUNBb0IsS0FBQXlVLGFBQUE3VixFQUNBLE1BQUFtVyxFQUFBL1UsS0FBQThTLGtCQUFBOVMsS0FBQTRVLGtCQUNBM1EsSUFBZUEsRUFBQUMsT0FBQW5FLFVBQW9CZ1YsRUFBQS9NLHdCQUVuQytNLEVBQUE5TixzQkFBQWhELEVBQUFDLEVBQUEyRCxLQUFBRCxNQUFBaEosRUFBQW9CLEtBQUEwVSxZQUFBM1UsR0FFQSxNQUFBOFUsS0FBNkJqVyxLQUFTb0IsS0FBQXVVLFdBQ3RDM0csRUFBQTVOLEtBQUE4UyxrQkFBQTlTLEtBQUE4VSxtQkFDQWxILEVBQUFvSCxRQUFBSCxHQUVBLE1BQWU5VSxPQUFBa1YsR0FBc0JySCxFQUFBNUYsd0JBRXJDMkYsRUFBQTlGLEtBQUEySixLQUFBeEwsRUFBQTZPLEVBQUEsbUJBRUFqSCxFQUFBM0csc0JBQUEsSUFBQTBHLEVBQUFzSCxHQUNBckgsRUFBQW1HLHFCQzFEQW1CLFVBQUF0SyxFQUNBL0ssWUFBQW9FLEVBQUEsRUFBQUMsRUFBQSxFQUFBcEUsRUFBQSxFQUFBQyxFQUFBLEVBQUFrVCxLQUFxRTFNLEVBQUEsTUFDckVzRSxNQUFBNUcsRUFBQUMsRUFBQXBFLEVBQUFDLEVBQUF3RyxHQUVBdkcsS0FBQW1WLG1CQUFBLFFBQ0FuVixLQUFBb1Ysb0JBQUEsU0FFQSxNQUFBbEMsRUFBQUQsRUFBQUMsS0FDQW1DLEVBQUFwQyxFQUFBL08sS0FDQWlGLEVBQUE4SixFQUFBOUosT0FFZWdILGFBQUFnRCxFQUFBL0MsY0FBQWdELEdBQXFERixHQUNyRC9DLGFBQUFtRixFQUFBbEYsY0FBQW1GLEdBQXFERixHQUNyRGxGLGFBQUFxRixFQUFBcEYsY0FBQXFGLEdBQXVEdE0sRUFFdEV1TSxFQUFBLElBQUExRixFQUFBa0QsRUFBQSxJQUFBQyxFQUFBQyxFQUFBRCxFQUFBQyxFQUFBLElBQUFELEVBQUFDLEdBQ0F1QyxFQUFBLElBQUEzRixFQUFBcUYsRUFBQSxJQUFBQyxFQUFBQyxFQUFBRCxFQUFBQyxFQUFBLElBQUFELEVBQUFDLEdBQ0FLLEVBQUEsSUFBQTVGLEVBQUE3RyxFQUFBLElBQUFxTSxFQUFBQyxFQUFBRCxFQUFBQyxFQUFBLElBQUFELEVBQUFDLEdBRUEsSUFBQWpNLEVBQUEsRUFFQSxLQUFBQSxFQUFBMUosR0FBQSxDQUNBLE1BQUFpRSxFQUFBLElBQUF1QyxFQUFBLEVBQUFrRCxFQUFBMkosRUFBQUMsR0FFQXJQLEVBQUF1UCxtQkFBQW9DLEdBQ0ExVixLQUFBb0gsYUFBQXJELEdBRUF5RixHQUFBMkosRUFHQSxNQUFBMEMsRUFBQSxJQUFBdlAsRUFBQSxJQUFBZ1AsRUFBQUMsR0FFQU0sRUFBQXZDLG1CQUFBcUMsR0FDQTNWLEtBQUFvSCxhQUFBeU8sR0FFQSxNQUFBQyxFQUFBLElBQUF4UCxFQUFBLEVBQUF4RyxFQUFBMFYsSUFBQUMsR0FFQUssRUFBQXhDLG1CQUFBc0MsR0FDQTVWLEtBQUFvSCxhQUFBME8sR0FHQWpXLHNCQUNBLE9BQUFHLEtBQUE4UyxrQkFBQTlTLEtBQUFvVixxQkFHQXZWLHFCQUNBLE9BQUFHLEtBQUE4UyxrQkFBQTlTLEtBQUFtVixvQkFHQXRWLG1CQUFBa1csR0FDQSxNQUFBQyxFQUFBaFcsS0FBQThTLGtCQUFBOVMsS0FBQW1WLG9CQUVBYSxHQUNBaFcsS0FBQWlXLGdCQUFBRCxHQUdBaFcsS0FBQW9ILGFBQUEyTyxFQUFBL1YsS0FBQW1WLG9CQUdBdFYsb0JBQUFxVyxHQUNBLE1BQUFDLEVBQUFuVyxLQUFBOFMsa0JBQUE5UyxLQUFBb1YscUJBRUFlLEdBQ0FuVyxLQUFBaVcsZ0JBQUFFLEdBR0FuVyxLQUFBb0gsYUFBQThPLEVBQUFsVyxLQUFBb1YscUJBR0F2VixhQUFBMUIsRUFBQVMsR0FDQSxNQUFBb1gsRUFBQWhXLEtBQUE4UyxrQkFBQTlTLEtBQUFtVixvQkFDQWEsRUFBQWxELGtCQUFBa0QsRUFBQUksY0FBQUMsU0FBQXpYLEdBRUEsTUFBQWdQLEVBQUFvSSxFQUFBbEQsa0JBQUFrRCxFQUFBTSxjQUNBMUksRUFBQW9ILFFBQUE3VyxHQUVBLE1BQUE4RixJQUFlQSxFQUFBQyxPQUFBbkUsVUFBb0I2TixFQUFBNUYsd0JBQ25DdU8sRUFBQTFPLEtBQUEySixLQUFBeEwsRUFBQTdILEVBQUF5UCxFQUFBeEksV0FBQTJJLGVBQUE3SCxXQUFBMEgsRUFBQXhJLFdBQUEySSxlQUFBNUgsV0FFQXlILEVBQUEzRyxzQkFBQWhELEVBQUFDLEVBQUFxUyxFQUFBeFcsR0FHQUYsY0FBQTFCLEVBQUFTLEdBQ0EsTUFBQXVYLEVBQUFuVyxLQUFBOFMsa0JBQUE5UyxLQUFBb1YscUJBQ0FlLEVBQUFyRCxrQkFBQXFELEVBQUFDLGNBQUFDLFNBQUF6WCxHQUVBLE1BQUFnUCxFQUFBdUksRUFBQXJELGtCQUFBcUQsRUFBQUcsY0FDQTFJLEVBQUFvSCxRQUFBN1csR0FFQSxNQUFBOEYsSUFBZUEsRUFBQUMsT0FBQW5FLFVBQW9CNk4sRUFBQTVGLHdCQUNuQ3VPLEVBQUExTyxLQUFBMkosS0FBQXhMLEVBQUE3SCxFQUFBeVAsRUFBQXhJLFdBQUEySSxlQUFBN0gsV0FBQTBILEVBQUF4SSxXQUFBMkksZUFBQTVILFdBRUF5SCxFQUFBM0csc0JBQUFoRCxFQUFBQyxFQUFBcVMsRUFBQXhXLFVDMUZBeVcsVUFBQTVMLEVBQ0EvSyxZQUFBb0UsRUFBQSxFQUFBQyxFQUFBLEVBQUFwRSxFQUFBLEVBQUFDLEVBQUEsRUFBQTBXLEVBQUEsR0FBQUMsRUFBQUMsRUFBQUMsRUFBQTNELEtBQWtIMU0sRUFBQSxNQUNsSHNFLE1BQUE1RyxFQUFBQyxFQUFBcEUsRUFBQUMsRUFBQXdHLEdBRUEsTUFBQWdRLEVBQUExTyxLQUFBMkosS0FBQXhMLEtBQThEeVEsS0FBYyxtQkFFNUVJLEVBQUEsSUFBQWhKLEVBQUEsTUFBQTBJLEVBQUEsUUFBa0VFLE1BRWxFSyxFQUFBLElBQUF6QyxFQUFBLE1BQUF2VSxFQUFBLE1BQUE0VyxFQUFBQyxFQUFBQyxHQUVBNVcsS0FBQXNXLGFBQUEsWUFDQXRXLEtBQUFvVyxhQUFBLFdBRUFTLEVBQUFwRSxhQUFBLFdBRUEsTUFBZXRDLGFBQUE0RyxFQUFBM0csY0FBQTRHLEdBQW1EL0QsRUFBQUMsS0FFbEVHLEVBQUEsSUFBQXJELEVBQUFpRCxFQUFBQyxLQUFBLElBQUE2RCxFQUFBQyxFQUFBRCxFQUFBQyxFQUFBLElBQUFELEVBQUFDLEdBRUFoWCxLQUFBb0gsYUFBQXlQLEVBQUE3VyxLQUFBc1csY0FDQXRXLEtBQUFvSCxhQUFBMFAsRUFBQTlXLEtBQUFvVyxjQUVBcFcsS0FBQXNULG1CQUFBRCxHQUdBeFQsZUFDQSxPQUFBRyxLQUFBOFMsa0JBQUE5UyxLQUFBb1cscUJDL0JBYSxVQUFBck0sRUFDQS9LLFlBQUFvRSxFQUFBLEVBQUFDLEVBQUEsRUFBQXBFLEVBQUEsRUFBQUMsRUFBQSxFQUFBbVgsRUFBQSxFQUFBQyxFQUFBLEVBQUFDLEVBQUEsRUFBQUMsRUFBQSxFQUFBOVEsRUFBQSxNQUNBc0UsTUFBQTVHLEVBQUFDLEVBQUFwRSxFQUFBQyxFQUFBd0csR0FFQXZHLEtBQUFtWCxjQUNBblgsS0FBQWtYLFdBRUEsSUFBQUksRUFBQSxFQUNBLFFBQUFsYixFQUFBLEVBQXVCQSxFQUFBOGEsRUFBYzlhLElBQUEsQ0FDckMsSUFBQW1iLEVBQUEsRUFDQSxRQUFBamEsRUFBQSxFQUEyQkEsRUFBQTZaLEVBQWlCN1osSUFBQSxDQUM1QyxNQUFBa2EsRUFBQSxJQUFBNU0sRUFBQTBNLEVBQUFDLEVBQUFILEVBQUFDLEdBQ0FyWCxLQUFBb0gsYUFBQW9RLEVBQUE3TyxPQUFBdk0sRUFBQSthLEVBQUE3WixJQUVBa2EsRUFBQTlLLG1CQUFBLG9CQUVBNkssR0FBQUgsRUFHQUUsR0FBQUQsR0FJQXhYLGtCQUFBNk8sRUFBQSxFQUFBQyxFQUFBLEdBQ0EsTUFBQTFELEVBQUFqTCxLQUFBOFMsa0JBQUFuSyxPQUFBK0YsRUFBQTFPLEtBQUFtWCxZQUFBeEksSUFFQSxPQUFBMUQsR0FBQSxNQzVCQSxNQUFBd00sRUFBQUMsR0FDQSxJQUFBekQsUUFBQUMsSUFDQSxNQUFBeUQsRUFBQSxJQUFBQyxlQUNBRCxFQUFBRSxLQUFBLE9BQUFILEdBQUEsR0FFQUMsRUFBQUcsbUJBQUEsTUFDQUgsRUFBQUksWUFBQUosRUFBQUssTUFDQTlELEVBQUF5RCxFQUFBTSxrQkFBQSxxQkFHQU4sRUFBQU8sU0FJQUMsRUFBQSxDQUFBVCxFQUFBVSxFQUFBQyxJQUNBLElBQUFwRSxRQUFBQyxJQUNBLE1BQUFvRSxFQUFBLElBQUFWLGVBQ0FVLEVBQUFULEtBQUEsTUFBQUgsR0FBQSxHQUNBWSxFQUFBQyxhQUFBLGNBRUEsSUFBQUMsR0FBQSxFQUVBRixFQUFBRyxPQUFBLENBQUE3UCxJQUNBLE1BQUE4UCxFQUFBLElBQUFDLE1BQUFMLEVBQUFNLFdBQ0ExRSxFQUFBelUsT0FBQW9aLElBQUFDLGdCQUFBSixNQUdBSixFQUFBRixXQUFBLEdBQWdDVyxhQUNoQ0EsSUFBQVAsSUFDQUEsRUFBQU8sRUFFQVgsRUFBQVcsRUFBQVYsTUFJQUMsRUFBQUosU0FJQWMsRUFBQUMsR0FDQSxJQUFBaEYsUUFBQUMsSUFDQStFLEVBQUFSLE9BQUEsQ0FBQXJjLElBQ0E4WCxFQUFBOVgsRUFBQThjLHNCQ3hDQUMsRUFDQXRaLGNBQ0FHLEtBQUFvWixVQUFBLEVBQ0FwWixLQUFBcVosa0JBQUEsRUFFQXJaLEtBQUFzWixZQUNBdFosS0FBQXVaLGdCQUVBdlosS0FBQXdaLFlBQ0F4WixLQUFBeVosZUFHQTVaLE9BQUE2WixFQUFBQyxHQUNBLE1BQUFDLEVBQUFGLEVBQUFHLE1BQ0FDLEVBQUFKLEVBQUFuUixNQUVBd1IsRUFBQUosRUFBQUUsTUFDQUcsRUFBQUwsRUFBQXBSLE1BQ0EsSUFBQXBILEdBQUEsRUFFQTJZLE1BQ0EzWSxFQUFBbkIsS0FBQXNaLFNBQUF2TyxVQUFBLEVBQThDNU0sS0FBQThiLEtBQWdCQSxJQUFBRCxJQUk5RGhhLEtBQUFzWixTQUFBblksR0FBQStZLFNBQUFsYSxLQUFBc1osU0FBQW5ZLEdBQUErWSxRQUFBSixHQUVBOVosS0FBQXNaLFNBQUE5YyxNQUNBMGQsU0FBQUosR0FDQTNiLEtBQUE2YixLQUtBSixNQUNBelksRUFBQW5CLEtBQUF3WixTQUFBek8sVUFBQSxFQUE4QzVNLEtBQUE4YixLQUFnQkEsSUFBQUYsSUFHOUQvWixLQUFBd1osU0FBQXJZLEdBQUErWSxTQUFBbGEsS0FBQXdaLFNBQUFyWSxHQUFBK1ksUUFBQU4sR0FFQTVaLEtBQUF3WixTQUFBaGQsTUFDQTBkLFNBQUFOLEdBQ0F6YixLQUFBNGIsS0FNQWxhLDJCQUNBLE1BQUFzYSxLQUVBLElBQUFDLEVBQUEsRUFFQXBhLEtBQUFzWixTQUFBblcsUUFBQSxFQUFnQytXLFdBQ2hDQSxFQUFBL1csUUFBQXVVLElBQ0F5QyxFQUFBM2QsS0FBQWliLEVBQUFDLElBQ0EwQyxHQUFBLE1BSUFwYSxLQUFBd1osU0FBQXJXLFFBQUEsRUFBZ0MrVyxXQUNoQ0EsRUFBQS9XLFFBQUF1VSxJQUNBeUMsRUFBQTNkLEtBQUFpYixFQUFBQyxRQUlBLE1BQUEyQyxRQUFBcEcsUUFBQXFHLElBQUFILEdBTUEsT0FKQW5hLEtBQUFvWixVQUFBaUIsRUFBQUUsT0FBQSxDQUFBQyxFQUFBQyxJQUFBRCxFQUFBMU4sU0FBQTJOLEVBQUEsT0FDQXphLEtBQUEwYSxXQUFBTCxFQUFBMWEsTUFBQSxFQUFBeWEsR0FDQXBhLEtBQUEyYSxVQUFBTixFQUFBMWEsTUFBQXlhLEdBRUFwYSxLQUFBb1osVUFHQXZaLFdBQUErYSxHQUNBLE1BQUFULEtBQ0FVLEtBRUF6QyxFQUFBLENBQUF4WixFQUFBeEMsS0FDQXllLEVBQUF6ZSxHQUFBd0MsRUFFQSxJQUFBeWEsRUFBQSxFQUNBLE1BQUFyVSxFQUFBdkksT0FBQXVJLEtBQUE2VixHQUNBLFFBQUF6ZSxFQUFBLEVBQTJCQSxFQUFBNEksRUFBQTFJLE9BQWlCRixJQUM1Q2lkLEdBQUF3QixFQUFBN1YsRUFBQTVJLElBR0E0RCxLQUFBcVosb0JBQ0EsTUFBQXlCLEVBQUFqVCxLQUFBUSxNQUFBckksS0FBQXFaLGtCQUFBclosS0FBQW9aLFVBQUEsS0FFQTJCLFFBQUFDLElBQUFGLEdBRUFGLEdBQ0FBLEVBQUFFLElBSUEsSUFBQVYsRUFBQSxFQUVBYSxFQUFBLEVBQ0FqYixLQUFBc1osU0FBQW5XLFFBQUEsRUFBZ0MrVyxXQUNoQ0EsRUFBQS9XLFFBQUF1VSxJQUNBeUMsRUFBQTNkLEtBQUEyYixFQUFBVCxFQUFBVSxFQUFBNkMsSUFDQUEsR0FBQSxFQUNBYixHQUFBLE1BSUFwYSxLQUFBd1osU0FBQXJXLFFBQUEsRUFBZ0MrVyxXQUNoQ0EsRUFBQS9XLFFBQUF1VSxJQUNBeUMsRUFBQTNkLEtBQUEyYixFQUFBVCxFQUFBVSxFQUFBNkMsSUFDQUEsR0FBQSxNQUlBLE1BQUFDLFFBQUFqSCxRQUFBcUcsSUFBQUgsR0FFQWdCLEVBQUFELEVBQUF2YixNQUFBLEVBQUF5YSxHQUFBZ0IsSUFBQTFDLElBQ0EsTUFBQTJDLEVBQUEsSUFBQUMsTUFHQSxPQUZBRCxFQUFBRSxJQUFBN0MsRUFFQU0sRUFBQXFDLEtBR0FHLEVBQUFOLEVBQUF2YixNQUFBeWEsR0FBQWdCLElBQUExQyxJQUNBLE1BQUFtQixFQUFBLElBQUE0QixNQUdBLE9BRkE1QixFQUFBMEIsSUFBQTdDLEVBRUFtQixJQUdBNkIsTUFBQVAsR0FDQSxJQUFBUSxRQUFBMUgsUUFBQXFHLElBQUFvQixHQUNBQyxXQUFBSCxHQUVBLE1BQUFJLEdBQ0EzSSxVQUNBNEcsVUFHQSxJQUFBZ0MsRUFBQSxFQUNBLFFBQUF6ZixFQUFBLEVBQXVCQSxFQUFBNEQsS0FBQXNaLFNBQUFoZCxPQUEwQkYsSUFBQSxDQUNqRCxNQUFBRSxFQUFBMEQsS0FBQXNaLFNBQUFsZCxHQUFBOGQsS0FBQTVkLE9BQ0E2QixFQUFBNkIsS0FBQXNaLFNBQUFsZCxHQUFBK0IsS0FFQXlkLEVBQUEzSSxPQUFBelcsTUFDQXlXLE9BQUEwSSxFQUFBaGMsTUFBQWtjLElBQUF2ZixHQUNBNkIsU0FHQTBkLEdBQUF2ZixFQUdBLFFBQUFGLEVBQUEsRUFBdUJBLEVBQUE0RCxLQUFBd1osU0FBQWxkLE9BQTBCRixJQUFBLENBQ2pELE1BQUFFLEVBQUEwRCxLQUFBd1osU0FBQXBkLEdBQUE4ZCxLQUFBNWQsT0FDQTZCLEVBQUE2QixLQUFBd1osU0FBQXBkLEdBQUErQixLQUVBeWQsRUFBQS9CLE1BQUFyZCxNQUNBcWQsTUFBQThCLEVBQUFoYyxNQUFBa2MsSUFBQXZmLEdBQ0E2QixTQUdBMGQsR0FBQXZmLEVBT0EsT0FKQTBELEtBQUFzWixZQUNBdFosS0FBQXdaLFlBQ0F4WixLQUFBK1ksV0FBdUIvWSxLQUFBdVosZ0JBQUFxQyxHQUV2QkEsRUFHQS9iLGdCQUFBMUIsR0FDQSxNQUFBZ0QsRUFBQW5CLEtBQUErWSxPQUFBOUYsT0FBQWxJLFVBQUEsRUFBcUQ1TSxLQUFBMmQsS0FBbUJBLElBQUEzZCxHQUN4RSxPQUFBZ0QsRUFBQW5CLEtBQUErWSxPQUFBOUYsT0FBQTlSLEdBQUE4UixPQUFBLEtBR0FwVCxlQUFBMUIsR0FDQSxNQUFBZ0QsRUFBQW5CLEtBQUErWSxPQUFBYyxNQUFBOU8sVUFBQSxFQUFvRDVNLEtBQUE0YixLQUFrQkEsSUFBQTViLEdBQ3RFLE9BQUFnRCxFQUFBbkIsS0FBQStZLE9BQUFjLE1BQUExWSxHQUFBMFksTUFBQSxZQ3RMQWtDLEVBQ0FsYyxjQUNBRyxLQUFBZ0YsUUFDQWhGLEtBQUFnYyxXQUVBLFFBQUE1ZixFQUFBLEVBQXVCQSxFQUFBNmYsYUFBQTNmLE9BQXlCRixJQUFBLENBQ2hELE1BQUE4QyxFQUFBK2MsYUFBQS9jLElBQUE5QyxHQUVBOEMsRUFBQWdkLE1BQUEsbUJBQ0FsYyxLQUFBZ0YsS0FBQXhJLEtBQUEwQyxHQUlBYyxLQUFBbWMsZUFHQXRjLFdBQUExQixFQUFBaWUsR0FDQXBjLEtBQUFnYyxRQUFBeGYsTUFDQTJCLE9BQ0FpZSxrQkFHQXBjLEtBQUFnYyxRQUFBSyxLQUFBLENBQUF0ZSxFQUFBVSxJQUFBVixFQUFBdUgsS0FBQTdHLEVBQUE2RyxNQUVBLFFBQUFsSixFQUFBLEVBQXVCQSxFQUFBNEQsS0FBQWdjLFFBQUExZixRQUFBRixFQUFBLEdBQW1DQSxJQUFBLENBQzFELE1BQUErQixLQUFtQkEsRUFBQWllLGlCQUFzQnBjLEtBQUFnYyxRQUFBNWYsR0FFekNrZ0IsVUFBbUNuZSxtQkFBc0JpZSxLQUN6REgsYUFBQU0sUUFBQSxrQkFBQW5nQixFQUFBa2dCLEdBR0F0YyxLQUFBZ2MsUUFBQTFmLE9BQUEsS0FDQTBELEtBQUFnYyxRQUFBaGMsS0FBQWdjLFFBQUFyYyxNQUFBLE9BSUFFLGVBQ0EsUUFBQXpELEVBQUEsRUFBdUJBLEVBQUE0RCxLQUFBZ0YsS0FBQTFJLE9BQXNCRixJQUFBLENBQzdDLE1BQUFrZ0IsRUFBQUwsYUFBQU8sUUFBQXhjLEtBQUFnRixLQUFBNUksSUFBQXFULE1BQUEsS0FLQWdOLEdBQ0F0ZSxLQUpBbWUsRUFBQSxHQUFBN00sTUFBQSxRQUtBMk0sY0FKQUUsRUFBQSxHQUFBN00sTUFBQSxTQU9BelAsS0FBQWdjLFFBQUF4ZixLQUFBaWdCLElBSUE1YyxtQkFFQSxPQURBRyxLQUFBZ2MsUUFBQUssS0FBQSxDQUFBdGUsRUFBQVUsTUFBQTJkLGNBQUFyZSxFQUFBcWUsZUFDQXBjLEtBQUFnYyxTQ3JDQSxJQUFBN1IsR0FoQkF1UyxPQUNBQyxZQUFBLGdDQUNBQyxZQUFBLGlDQUNBQyxnQkFBQSxvQ0FDQUMsaUJBQUEscUNBQ0FDLFdBQUEsK0JBQ0FDLGtCQUFBLGlCQUNBQyxVQUFBLGlCQUNBQyxNQUFBLHVCQUNBQyxHQUFBLHFCQUVBQyxPQUNBRixNQUFBLDhCQ1RBRyxVQUFBelMsRUFDQS9LLFlBQUFvRSxFQUFBQyxFQUFBb1osRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQW5YLEVBQUEsTUFDQSxNQUFlNEosYUFBQXdOLEVBQUF2TixjQUFBd04sR0FBbUVOLEdBQ25Fbk4sYUFBQTBOLEVBQUF6TixjQUFBME4sR0FBbUVMLEdBQ25FdE4sYUFBQTROLEVBQUEzTixjQUFBNE4sR0FBbUVULEdBQ25FcE4sYUFBQThOLEVBQUE3TixjQUFBOE4sR0FBcUVWLEdBQ3JFck4sYUFBQWdPLEVBQUEvTixjQUFBZ08sR0FBaUVWLEVBRWhGNWQsRUFBQWllLEVBQUFGLEVBQUFJLEVBQ0FsZSxFQUFBNmQsRUFBQUUsRUFBQU0sRUFBQSxHQUVBdlQsTUFBQTVHLEVBQUFDLEVBQUFwRSxFQUFBQyxFQUFBd0csR0FFQSxNQUFBOFgsRUFBQSxJQUFBL1gsRUFBQXZHLEVBQUFxZSxFQUFBTixFQUFBaGUsRUFBQSxFQUFBK2QsRUFBQSxFQUFBQSxFQUFBQyxHQUNBTyxFQUFBL0ssbUJBQUEsSUFBQXRELEVBQUF5TixFQUFBLElBQUFJLEVBQUFDLEVBQUFELEVBQUFDLEVBQUEsSUFBQUQsRUFBQUMsSUFFQSxNQUFBUSxFQUFBLElBQUFoWSxFQUFBdkcsRUFBQXFlLEVBQUFOLEVBQUFGLEVBQUEsR0FBQTlkLEVBQUEsRUFBQTZkLEVBQUEsS0FBQUEsRUFBQUMsR0FDQVUsRUFBQWhMLG1CQUFBLElBQUF0RCxFQUFBc04sRUFBQSxJQUFBSyxFQUFBQyxFQUFBRCxFQUFBQyxFQUFBLElBQUFELEVBQUFDLElBRUEsTUFBQVcsRUFBQSxJQUFBalksRUFBQXZHLEVBQUFxZSxFQUFBdGUsRUFBQSxFQUFBcWUsRUFBQSxLQUFBQSxFQUFBQyxHQUNBRyxFQUFBakwsbUJBQUEsSUFBQXRELEVBQUEwTixFQUFBLElBQUFTLEVBQUFDLEVBQUFELEVBQUFDLEVBQUEsSUFBQUQsRUFBQUMsSUFFQSxNQUFBSSxFQUFBLElBQUFsWSxFQUFBdkcsRUFBQXFlLEVBQUFOLEVBQUEsR0FBQWhlLEVBQUEsS0FBQWllLEVBQUFDLEdBQ0FRLEVBQUFsTCxtQkFBQSxJQUFBdEQsRUFBQXVOLEVBQUEsSUFBQVEsRUFBQUMsRUFBQUQsRUFBQUMsRUFBQSxJQUFBRCxFQUFBQyxJQUVBLE1BQUFTLEVBQUEsSUFBQW5ZLEVBQUF2RyxFQUFBcWUsRUFBQU4sRUFBQSxHQUFBaGUsRUFBQSxLQUFBbWUsRUFBQUMsR0FDQU8sRUFBQW5MLG1CQUFBLElBQUF0RCxFQUFBd04sRUFBQSxJQUFBUyxFQUFBQyxFQUFBRCxFQUFBQyxFQUFBLElBQUFELEVBQUFDLElBRUFsZSxLQUFBb0gsYUFBQWlYLEVBQUEsUUFDQXJlLEtBQUFvSCxhQUFBa1gsRUFBQSxRQUNBdGUsS0FBQW9ILGFBQUFtWCxFQUFBLE9BQ0F2ZSxLQUFBb0gsYUFBQW9YLEVBQUEsV0FDQXhlLEtBQUFvSCxhQUFBcVgsRUFBQSxtQkNwQ0FDLEVBQ0E3ZSxZQUFBMUIsRUFBQXdZLEVBQUFDLEVBQUFwRCxFQUFBLE1BQ0F4VCxLQUFBN0IsT0FDQTZCLEtBQUEyZSxVQUFBL0gsRUFDQTVXLEtBQUEyVyxRQUNBM1csS0FBQXdULG1CQUNBeFQsS0FBQWdULFVBRUFoVCxLQUFBNGUscUJBR0EvZSxzQkFDQSxPQUFBRyxLQUFBd1QsaUJBR0EzVCxhQUFBZ2YsRUFBQXRMLEVBQUF6UyxHQUNBeVMsU0FDQUEsRUFBQXVMLE9BQUE5ZSxLQUFBNmUsRUFBQS9kLEdBQ0ErZCxFQUFBRSxXQUFBeEwsRUFBQXlMLFNBRUFILEVBQUFFLFdBQUEsR0FJQWxmLFdBQUFtZixHQUdBLE9BRkFoZixLQUFBMmUsV0FBQUssRUFFQWhmLEtBQUEyZSxVQUFBLEdBQ0EzZSxLQUFBMmUsVUFBQSxHQUVBLElBR0EzZSxLQUFBNGUsa0JBQUF6YixRQUFBOGIsSUFDQUEsRUFBQWpmLEtBQUEyZSxjQUdBLEdBR0E5ZSxTQUFBMFQsR0FDQXZULEtBQUFnVCxPQUFBeFcsS0FBQStXLEdBR0ExVCxZQUNBLE9BQUFHLEtBQUFnVCxPQUdBblQsVUFDQSxPQUFBRyxLQUFBN0IsS0FHQTBCLGVBQ0EsT0FBQUcsS0FBQTJlLFVBR0E5ZSxXQUNBLE9BQUFHLEtBQUEyVyxNQUdBOVcsVUFDQSxPQUFBRyxLQUFBMmUsVUFBQSxFQUdBOWUsb0JBQUFvZixHQUNBamYsS0FBQTRlLGtCQUFBcGlCLEtBQUF5aUIsSUM5REEsTUFBQUMsR0FDQSxVQUNBLFVBQ0EsWUFHQUMsR0FDQSxNQUNBLE9BQ0EsVUFHQUMsR0FDQSxNQUNBLE9BQ0EsY0FHQUMsRUFDQXhmLFlBQUF5ZixFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBMWYsS0FBQXNmLGdCQUNBdGYsS0FBQXVmLG1CQUNBdmYsS0FBQXdmLG9CQUNBeGYsS0FBQXlmLGdCQUNBemYsS0FBQTBmLGVBR0E3ZixjQUFBb0UsRUFBQSxFQUFBQyxFQUFBLEdBQ0EsTUFBQXliLEVBQUE5WCxLQUFBK1gsT0FDQXZYLEVBQUFSLEtBQUFRLE1BRUF3WCxFQUFBeFgsRUFBQXNYLEtBQUEzZixLQUFBc2YsU0FBQWhqQixPQUFBLElBQ0F3akIsRUFBQXpYLEVBQUFzWCxLQUFBM2YsS0FBQXVmLFlBQUFqakIsT0FBQSxJQUNBeWpCLEVBQUExWCxFQUFBc1gsS0FBQTNmLEtBQUF3ZixhQUFBbGpCLE9BQUEsSUFDQTBqQixFQUFBM1gsRUFBQXNYLEtBQUEzZixLQUFBeWYsU0FBQW5qQixPQUFBLElBQ0EyakIsRUFBQTVYLEVBQUFzWCxLQUFBM2YsS0FBQTBmLFFBQUFwakIsT0FBQSxJQUVBNGpCLEVBQUEsSUFBQTdDLEVBQUFwWixFQUFBQyxFQUFBbEUsS0FBQXNmLFNBQUFPLEdBQUE3ZixLQUFBdWYsWUFBQU8sR0FBQTlmLEtBQUF3ZixhQUFBTyxHQUFBL2YsS0FBQXlmLFNBQUFPLEdBQUFoZ0IsS0FBQTBmLFFBQUFPLEtBQ2VuZ0IsTUFBQXFnQixFQUFBcGdCLE9BQUFxZ0IsR0FBOENGLEVBQUFsWSx3QkFDN0RrWSxFQUFBalosc0JBQUFZLEtBQUFELE9BQUFuSSxPQUFBc0ksWUFBQSxPQUFBcVksRUFBQSxHQUFBdlksS0FBQUQsTUFBQW5JLE9BQUFxSSxXQUFBLE9BQUFxWSxFQUFBQyxHQUVBLE1BQUFDLEVBQUFuQixFQUFBN1csRUFBQXNYLEtBQUFULEVBQUE1aUIsT0FBQSxLQUNBZ2tCLEVBQUFuQixFQUFBOVcsRUFBQXNYLEtBQUFSLEVBQUE3aUIsT0FBQSxLQUNBaWtCLEVBQUFuQixFQUFBL1csRUFBQXNYLEtBQUFQLEVBQUE5aUIsT0FBQSxLQUlBLE9BRkEsSUFBQW9pQixLQUF5QzJCLEtBQWFDLEtBQWNDLElBQVUsUUFBQUwsVUN4QzlFTSxVQUFBNVYsRUFDQS9LLFlBQUFvRSxFQUFBLEVBQUFDLEVBQUEsRUFBQXBFLEVBQUEsRUFBQUMsRUFBQSxFQUFBdVMsRUFBQSxHQUFBVyxLQUF3RjFNLEVBQUEsTUFDeEZzRSxNQUFBNUcsRUFBQUMsRUFBQXBFLEVBQUFDLEVBQUF3RyxHQUVBLE1BQUEwTCxFQUFBcEssS0FBQTJKLEtBQUExUixFQUFBLEdBQ0FvUyxFQUFBckssS0FBQTJKLEtBQUF6UixFQUFBLEdBQ0FvUyxFQUFBdEssS0FBQTJKLE1BQUF4TCxFQUFBc00sRUFBQSwwQkFFQW1PLEVBQUEsSUFBQTVTLEVBQUEsR0FBQW9FLEVBQUFFLEVBQUEsRUFBQUEsRUFBQSxHQUFBRyxHQUNBRSxFQUFBLElBQUFWLEVBQUEsRUFBQUksRUFBQSxPQUFBRCxFQUFBLGlCQUVBd08sRUFBQS9ULG1CQUFBLFdBRUE4RixFQUFBOUYsbUJBQUEsV0FFQTFNLEtBQUEyUyxlQUFBLGNBQ0EzUyxLQUFBNlMsVUFBQSxTQUVBN1MsS0FBQW9ILGFBQUFxWixFQUFBemdCLEtBQUEyUyxnQkFDQTNTLEtBQUFvSCxhQUFBb0wsRUFBQXhTLEtBQUE2UyxXQUVBNE4sRUFBQS9ULG1CQUFBLG9CQUNBK1QsRUFBQWhPLGFBQUEsV0FFQSxNQUFBaU8sRUFBQXpOLEVBQUF5TixrQkFDZXZRLGFBQUF3USxFQUFBdlEsY0FBQXdRLEdBQXVERixFQUV0RUcsRUFBQTVOLEVBQUE0TixlQUNlMVEsYUFBQTJRLEVBQUExUSxjQUFBMlEsR0FBNkRGLEVBRTVFN2dCLEtBQUFzVCxtQkFBQSxJQUFBdEQsRUFBQTBRLEVBQUEsSUFBQUMsRUFBQUMsRUFBQUQsRUFBQUMsRUFBQSxJQUFBRCxFQUFBQyxJQUVBcE8sRUFBQXZMLHNCQUFBMlosRUFBQSxHQUFBRyxFQUFBSixFQUFBLEdBQUFHLEVBQUEsRUFBQUEsRUFBQSxFQUFBQyxHQUNBdk8sRUFBQWMsbUJBQUEsSUFBQXRELEVBQUE2USxFQUFBLElBQUFDLEVBQUFDLEVBQUFELEVBQUFDLEVBQUEsSUFBQUQsRUFBQSxFQUFBQyxJQUdBbGhCLHVCQUFBMUIsRUFBQXlELEdBQ0E1QixLQUFBOFMsa0JBQUE5UyxLQUFBNlMsV0FBQS9MLGlCQUFBM0ksRUFBQXlELEdBR0EvQixnQkFDQSxTQUdBQSxZQUNBLFdBQUFvVSxRQUFBQyxJQUNBbFUsS0FBQWdoQix1QkFBQWxmLEVBQUFDLE1BQUFJLFdBQUEsS0FDQStSLEVBQUFsVSxLQUFBaWhCLHNCQ2pEQSxNQUFBQyxJQUVBQyxpQkFBQSxJQUNBQyxRQUFBLENBQUFDLEVBQUFDLElBQ0FELEVBQUFDLElBSUFILGlCQUFBLElBQ0FDLFFBQUEsQ0FBQUMsRUFBQUMsSUFDQUQsRUFBQUMsSUFJQUgsaUJBQUEsSUFDQUMsUUFBQSxDQUFBQyxFQUFBQyxJQUNBRCxFQUFBQyxJQ3lYQSxJQUFBQyxJQTdZQUMsS0FBQSxNQUNBL1csV0FBQSw4Q0FHQStXLEtBQUEsU0FDQS9XLFdBQUEsdUNBR0ErVyxLQUFBLFNBQ0EvVyxXQUFBLHVCQUdBK1csS0FBQSxTQUNBL1csV0FBQSxxQkFHQStXLEtBQUEsTUFDQS9XLFdBQUEsa0NBR0ErVyxLQUFBLE9BQ0EvVyxXQUFBLFVBR0ErVyxLQUFBLFFBQ0EvVyxXQUFBLDZDQUdBK1csS0FBQSxRQUNBL1csV0FBQSwwQkFHQStXLEtBQUEsUUFDQS9XLFdBQUEsb0RBR0ErVyxLQUFBLE9BQ0EvVyxXQUFBLCtDQUdBK1csS0FBQSxPQUNBL1csV0FBQSw0Q0FHQStXLEtBQUEsUUFDQS9XLFdBQUEsNERBR0ErVyxLQUFBLFNBQ0EvVyxXQUFBLDBFQUdBK1csS0FBQSxVQUNBL1csV0FBQSxrREFHQStXLEtBQUEsWUFDQS9XLFdBQUEsK0NBR0ErVyxLQUFBLFVBQ0EvVyxXQUFBLHFDQUdBK1csS0FBQSxVQUNBL1csV0FBQSx1QkFHQStXLEtBQUEsU0FDQS9XLFdBQUEsZ0NBR0ErVyxLQUFBLFNBQ0EvVyxXQUFBLCtDQUdBK1csS0FBQSxXQUNBL1csV0FBQSxhQUdBK1csS0FBQSxZQUNBL1csV0FBQSw2QkFHQStXLEtBQUEsVUFDQS9XLFdBQUEsMkJBR0ErVyxLQUFBLE1BQ0EvVyxXQUFBLFVBR0ErVyxLQUFBLFlBQ0EvVyxXQUFBLDBCQUdBK1csS0FBQSxRQUNBL1csV0FBQSxhQUdBK1csS0FBQSxPQUNBL1csV0FBQSxrQ0FHQStXLEtBQUEsU0FDQS9XLFdBQUEsd0JBR0ErVyxLQUFBLE9BQ0EvVyxXQUFBLHFEQUdBK1csS0FBQSxVQUNBL1csV0FBQSx5QkFHQStXLEtBQUEsTUFDQS9XLFdBQUEsdURBR0ErVyxLQUFBLFNBQ0EvVyxXQUFBLGNBR0ErVyxLQUFBLFNBQ0EvVyxXQUFBLGlEQUdBK1csS0FBQSxTQUNBL1csV0FBQSw0RUFHQStXLEtBQUEsU0FDQS9XLFdBQUEsZ0NBR0ErVyxLQUFBLFNBQ0EvVyxXQUFBLHdEQUdBK1csS0FBQSxTQUNBL1csV0FBQSwyQkFHQStXLEtBQUEsT0FDQS9XLFdBQUEsNERBR0ErVyxLQUFBLE9BQ0EvVyxXQUFBLHlCQUdBK1csS0FBQSxPQUNBL1csV0FBQSxtQ0FHQStXLEtBQUEsVUFDQS9XLFdBQUEseUJBR0ErVyxLQUFBLE9BQ0EvVyxXQUFBLG1CQUdBK1csS0FBQSxVQUNBL1csV0FBQSxjQUdBK1csS0FBQSxhQUNBL1csV0FBQSxpQkFHQStXLEtBQUEsU0FDQS9XLFdBQUEsWUFHQStXLEtBQUEsT0FDQS9XLFdBQUEsYUFHQStXLEtBQUEsT0FDQS9XLFdBQUEscUJBR0ErVyxLQUFBLE9BQ0EvVyxXQUFBLG1DQUdBK1csS0FBQSxVQUNBL1csV0FBQSwrQkFHQStXLEtBQUEsU0FDQS9XLFdBQUEsMENBR0ErVyxLQUFBLE9BQ0EvVyxXQUFBLHlEQUdBK1csS0FBQSxZQUNBL1csV0FBQSxrQ0FHQStXLEtBQUEsUUFDQS9XLFdBQUEsV0FHQStXLEtBQUEsUUFDQS9XLFdBQUEseUNBR0ErVyxLQUFBLFNBQ0EvVyxXQUFBLFdBR0ErVyxLQUFBLE9BQ0EvVyxXQUFBLCtDQUdBK1csS0FBQSxPQUNBL1csV0FBQSwwQkFHQStXLEtBQUEsVUFDQS9XLFdBQUEsOENBR0ErVyxLQUFBLFdBQ0EvVyxXQUFBLGlDQUdBK1csS0FBQSxPQUNBL1csV0FBQSxnQ0FHQStXLEtBQUEsUUFDQS9XLFdBQUEsbUNBR0ErVyxLQUFBLE9BQ0EvVyxXQUFBLG1EQUdBK1csS0FBQSxTQUNBL1csV0FBQSxpQkFHQStXLEtBQUEsT0FDQS9XLFdBQUEsNkJBR0ErVyxLQUFBLFlBQ0EvVyxXQUFBLDhCQUdBK1csS0FBQSxVQUNBL1csV0FBQSw4Q0FHQStXLEtBQUEsT0FDQS9XLFdBQUEsZ0NBR0ErVyxLQUFBLFFBQ0EvVyxXQUFBLHVFQUdBK1csS0FBQSxRQUNBL1csV0FBQSw2QkFHQStXLEtBQUEsU0FDQS9XLFdBQUEsa0NBR0ErVyxLQUFBLFFBQ0EvVyxXQUFBLGdFQUdBK1csS0FBQSxNQUNBL1csV0FBQSxrQkFHQStXLEtBQUEsT0FDQS9XLFdBQUEsc0NBR0ErVyxLQUFBLFFBQ0EvVyxXQUFBLCtDQUdBK1csS0FBQSxRQUNBL1csV0FBQSwwQ0FHQStXLEtBQUEsUUFDQS9XLFdBQUEsb0JBR0ErVyxLQUFBLE9BQ0EvVyxXQUFBLHFCQUdBK1csS0FBQSxRQUNBL1csV0FBQSwrQ0FHQStXLEtBQUEsUUFDQS9XLFdBQUEsNEJBR0ErVyxLQUFBLFFBQ0EvVyxXQUFBLHFEQUdBK1csS0FBQSxRQUNBL1csV0FBQSxnREFHQStXLEtBQUEsUUFDQS9XLFdBQUEsc0JBR0ErVyxLQUFBLFVBQ0EvVyxXQUFBLHVGQUdBK1csS0FBQSxVQUNBL1csV0FBQSw2QkFHQStXLEtBQUEsU0FDQS9XLFdBQUEsMEVBR0ErVyxLQUFBLFFBQ0EvVyxXQUFBLHlEQUdBK1csS0FBQSxTQUNBL1csV0FBQSxVQUdBK1csS0FBQSxXQUNBL1csV0FBQSwwQ0FHQStXLEtBQUEsVUFDQS9XLFdBQUEsZ0JBR0ErVyxLQUFBLE9BQ0EvVyxXQUFBLHFCQUdBK1csS0FBQSxXQUNBL1csV0FBQSwyQ0FHQStXLEtBQUEsUUFDQS9XLFdBQUEsOENBR0ErVyxLQUFBLE9BQ0EvVyxXQUFBLHlFQUdBK1csS0FBQSxPQUNBL1csV0FBQSxxRUFHQStXLEtBQUEsT0FDQS9XLFdBQUEscUJBR0ErVyxLQUFBLFNBQ0EvVyxXQUFBLGlGQUdBK1csS0FBQSxTQUNBL1csV0FBQSxtQkFHQStXLEtBQUEsT0FDQS9XLFdBQUEsa0NBR0ErVyxLQUFBLFlBQ0EvVyxXQUFBLDRCQUdBK1csS0FBQSxRQUNBL1csV0FBQSwrQkNsWUEsTUFBQWdYLEVBQUFoaUIsT0FBQWdpQixtQkFBQWhpQixPQUFBaWlCLHdCQ0xBLE1BQUFDLGlCSHVCQW5CLEVBQ0EzZ0IsWUFBQW9FLEVBQUEsRUFBQUMsRUFBQSxFQUFBcEUsRUFBQSxFQUFBQyxFQUFBLEVBQUFrVCxLQUFxRTFNLEVBQUEsTUFDckVzRSxNQUFBNUcsRUFBQUMsRUFBQXBFLEVBQUFDLEVBQUEsMkJBQUFrVCxFQUFBMU0sR0FFQSxNQUFBcWIsRUFBQVYsRUFBQXJaLEtBQUFRLE1BQUFSLEtBQUErWCxVQUFBc0IsRUFBQTVrQixPQUFBLEtBQ0EwRCxLQUFBNGhCLFlBRUEsTUFBQUMsRUFBQTVPLEVBQUE0TyxnQkFDZTFSLGFBQUEyUixFQUFBMVIsY0FBQTJSLEdBQStERixFQUU5RSxJQUFBUixFQUFBLEVBQ0FDLEVBQUEsRUFJQSxHQUZBRCxFQUFBeFosS0FBQVEsTUFBQSxJQUFBUixLQUFBK1gsVUFFQSxNQUFBZ0MsRUFBQVQsaUJBQUEsQ0FDQSxNQUFBYSxFQUFBbmEsS0FBQTJKLEtBQUEsSUFBQTZQLEdBQ0FDLEVBQUF6WixLQUFBRCxNQUFBQyxLQUFBK1gsU0FBQW9DLFFBRUFWLEVBQUF6WixLQUFBUSxNQUFBLElBQUFSLEtBQUErWCxVQUdBNWYsS0FBQXFoQixRQUNBcmhCLEtBQUFzaEIsU0FFQSxNQUFBek0sS0FBNkJ3TSxLQUFTTyxFQUFBVCxvQkFBOEJHLE1BRXBFclAsRUFBQXBLLEtBQUEySixLQUFBMVIsRUFBQSxHQUNBb1MsRUFBQXJLLEtBQUEySixLQUFBelIsRUFBQSxHQUNBa2lCLEVBQUFwYSxLQUFBMkosTUFBQXhMLEVBQUE2TyxFQUFBLDBCQUNBcU4sRUFBQXJhLEtBQUEySixNQUFBeEwsRUFBQSxpQ0FDQW1jLEVBQUFELEVBQUFELEVBQUEsRUFFQUcsRUFBQSxJQUFBdlUsRUFBQXFFLEVBQUEsR0FBQUQsRUFBQWtRLEVBQUEsRUFBQUYsRUFBQSxHQUFBcE4sR0FDQXdOLEVBQUEsSUFBQXhVLEVBQUFxRSxFQUFBLEdBQUFELEVBQUFrUSxFQUFBLEVBQUFGLEVBQUEsSUFBQUMsRUFBQUgsRUFBQSxJQUVBSyxFQUFBMVYsbUJBQUEsb0JBQ0EwVixFQUFBM1AsYUFBQSxXQUVBNFAsRUFBQWxVLFVBQUEsRUFDQWtVLEVBQUEzVixtQkFBQSxvQkFDQTJWLEVBQUEvTyxtQkFBQSxJQUFBdEQsRUFBQTZSLEVBQUEsSUFBQUMsRUFBQUMsRUFBQUQsRUFBQUMsRUFBQSxJQUFBRCxFQUFBQyxJQUNBTSxFQUFBblUsY0FBQSxFQUNBbVUsRUFBQTVQLGFBQUEsV0FDQTRQLEVBQUE3ZSxPQUFBa1AsU0FBQSxXQUVBMVMsS0FBQXNpQixjQUFBLGFBQ0F0aUIsS0FBQXVpQixVQUFBLFNBRUF2aUIsS0FBQW9ILGFBQUFnYixFQUFBcGlCLEtBQUFzaUIsZUFDQXRpQixLQUFBb0gsYUFBQWliLEVBQUFyaUIsS0FBQXVpQixXQUdBMWlCLGdCQUVBLE9BREFxSSxXQUFBbEksS0FBQThTLGtCQUFBOVMsS0FBQXVpQixXQUFBQyxhQUNBeGlCLEtBQUE0aEIsVUFBQVIsUUFBQXBoQixLQUFBcWhCLE1BQUFyaEIsS0FBQXNoQix3QkkzRUFkLEVBQ0EzZ0IsWUFBQW9FLEVBQUEsRUFBQUMsRUFBQSxFQUFBcEUsRUFBQSxFQUFBQyxFQUFBLEVBQUFrVCxLQUFxRTFNLEVBQUEsTUFDckVzRSxNQUFBNUcsRUFBQUMsRUFBQXBFLEVBQUFDLEVBQUEsb0JBQUFrVCxFQUFBMU0sR0FFQXZHLEtBQUF5aUIsUUFBQWxCLEVBQUExWixLQUFBUSxNQUFBUixLQUFBK1gsVUFBQTJCLEVBQUFqbEIsT0FBQSxLQUVBLE1BQUF1bEIsRUFBQTVPLEVBQUE0TyxnQkFDZTFSLGFBQUEyUixFQUFBMVIsY0FBQTJSLEdBQStERixFQUU5RWhOLEtBQTZCN1UsS0FBQXlpQixRQUFBakIsU0FFN0J0UCxFQUFBckssS0FBQTJKLEtBQUF6UixFQUFBLEdBQ0FraUIsRUFBQXBhLEtBQUEySixNQUFBeEwsRUFBQTZPLEVBQUEsMEJBQ0F1TixFQUFBLElBQUF2VSxFQUFBcUUsRUFBQTZQLEVBQUEsTUFBQUUsRUFBQUYsRUFBQWxOLEdBQ0F3TixFQUFBLElBQUF4VSxFQUFBcUUsRUFBQSxLQUFBNFAsRUFBQUMsRUFBQSxJQUVBTSxFQUFBbFUsVUFBQSxFQUNBa1UsRUFBQTNWLG1CQUFBLFdBRUEsTUFBQTJGLEVBQUF4SyxLQUFBMkosS0FBQXhMLEVBQUEseUJBRUFxYyxFQUFBblUsY0FBQXJHLEtBQUFELE1BQUFrYSxFQUFBelAsR0FBQSxFQUNBZ1EsRUFBQS9PLG1CQUFBLElBQUF0RCxFQUFBNlIsRUFBQSxJQUFBQyxFQUFBQyxFQUFBRCxFQUFBQyxFQUFBLElBQUFELEVBQUFDLElBQ0FNLEVBQUE1UCxhQUFBLFdBQ0E0UCxFQUFBN2UsT0FBQWtQLFNBQUEsV0FDQTBQLEVBQUExVixtQkFBQSxvQkFDQTBWLEVBQUEzUCxhQUFBLFdBRUF6UyxLQUFBMlMsZUFBQSxjQUNBM1MsS0FBQXNpQixjQUFBLGFBQ0F0aUIsS0FBQXVpQixVQUFBLFNBQ0F2aUIsS0FBQTZTLFVBQUEsU0FFQTdTLEtBQUFvSCxhQUFBZ2IsRUFBQXBpQixLQUFBc2lCLGVBQ0F0aUIsS0FBQW9ILGFBQUFpYixFQUFBcmlCLEtBQUF1aUIsV0FDQUYsRUFBQXRPLGNBRUFxTyxFQUFBbmIsMkJBQUExRyxFQUFBOGhCLEVBQUFyYSx3QkFBQTlELE1BR0FyRSxnQkFDQSxNQUFBd2lCLEVBQUFyaUIsS0FBQThTLGtCQUFBOVMsS0FBQXVpQixXQUFBQyxVQUFBRSxPQUFBQyxjQUNBbFksRUFBQXpLLEtBQUF5aUIsUUFBQWhZLFVBRUEsSUFBQW1ZLEdBQUEsRUFFQSxRQUFBeG1CLEVBQUEsRUFBdUJBLEVBQUFxTyxFQUFBbk8sT0FBc0JGLElBRzdDLEdBRkF3bUIsRUFBQVAsSUFBQTVYLEVBQUFyTyxHQUdBLE9BQUF3bUIsRUFJQSxPQUFBQSxrQkZsREFwQyxFQUNBM2dCLFlBQUFvRSxFQUFBLEVBQUFDLEVBQUEsRUFBQXBFLEVBQUEsRUFBQUMsRUFBQSxFQUFBa1QsS0FBcUUxTSxFQUFBLE1BQ3JFc0UsTUFBQTVHLEVBQUFDLEVBQUFwRSxFQUFBQyxFQUFBLHFCQUFBa1QsRUFBQTFNLEdBRUEsTUFBQXNiLEVBQUE1TyxFQUFBNE8sZ0JBQ2UxUixhQUFBMlIsRUFBQTFSLGNBQUEyUixHQUErREYsRUFHOUVnQixFQUFBNVAsRUFBQTRQLGtCQUNlMVMsYUFBQTJTLEVBQUExUyxjQUFBMlMsR0FBbUVGLEVBRWxGN2lCLEtBQUF3aEIsS0FBQUQsRUFBQTFaLEtBQUFRLE1BQUFSLEtBQUErWCxVQUFBMkIsRUFBQWpsQixPQUFBLEtBQUFrbEIsS0FFQSxNQUFBM00sS0FBNkI3VSxLQUFBd2hCLFNBRTdCd0IsRUFBQSxJQUFBdkIsRUFDQXVCLEVBQUFDLEtBQUEsUUFDQUQsRUFBQUUsZ0JBQUEsRUFDQUYsRUFBQUcsZ0JBQUEsRUFFQW5qQixLQUFBZ2pCLGNBRUEsTUFBQTlRLEVBQUFySyxLQUFBMkosS0FBQXpSLEVBQUEsR0FDQWtpQixFQUFBcGEsS0FBQTJKLE1BQUF4TCxFQUFBNk8sRUFBQSwwQkFFQXVOLEVBQUEsSUFBQXZVLEVBQUFxRSxFQUFBNlAsRUFBQSxNQUFBRSxFQUFBRixFQUFBbE4sR0FDQXdOLEVBQUEsSUFBQXhVLEVBQUFxRSxFQUFBLEtBQUE0UCxFQUFBQyxFQUFBLElBQ0FxQixFQUFBLElBQUF0UixFQUFBSSxFQUFBLEdBQUFwUyxFQUFBLE1BQUFnakIsRUFBQSxFQUFBQyxFQUFBLElBQ0FLLEVBQUE5UCxtQkFBQSxJQUFBdEQsRUFBQTZTLEVBQUEsSUFBQUMsRUFBQUMsRUFBQUQsRUFBQUMsRUFBQSxJQUFBRCxFQUFBLEVBQUFDLElBRUFWLEVBQUEvTyxtQkFBQSxJQUFBdEQsRUFBQTZSLEVBQUEsSUFBQUMsRUFBQUMsRUFBQUQsRUFBQUMsRUFBQSxJQUFBRCxFQUFBQyxJQUNBTSxFQUFBNVAsYUFBQSxXQUNBMlAsRUFBQTFWLG1CQUFBLG9CQUNBMFYsRUFBQTNQLGFBQUEsV0FFQSxNQUFBSixFQUFBeEssS0FBQTJKLEtBQUF4TCxFQUFBLHlCQUVBcWMsRUFBQW5VLGNBQUFyRyxLQUFBRCxPQUFBOUgsRUFBQSxJQUFBdVMsR0FFQStRLEVBQUExVyxtQkFBQSxXQUVBMU0sS0FBQXNpQixjQUFBLGFBQ0F0aUIsS0FBQXVpQixVQUFBLFNBQ0F2aUIsS0FBQXFqQixlQUFBLGNBRUFyakIsS0FBQW9ILGFBQUFnYixFQUFBcGlCLEtBQUFzaUIsZUFDQXRpQixLQUFBb0gsYUFBQWliLEVBQUFyaUIsS0FBQXVpQixXQUNBdmlCLEtBQUFvSCxhQUFBZ2MsRUFBQXBqQixLQUFBcWpCLGdCQUNBaEIsRUFBQXRPLGNBQ0FxUCxFQUFBclAsY0FFQXFPLEVBQUFuYiwyQkFBQTFHLEVBQUE4aEIsRUFBQXJhLHdCQUFBOUQsTUFDQWtmLEVBQUFuYywyQkFBQTFHLEVBQUE4aEIsRUFBQXJhLHdCQUFBbUIsTUFBQSxHQUVBLElBQUFtYSxHQUFBLEVBRUFGLEVBQUF0YyxpQkFBQWhGLEVBQUFDLE1BQUFJLFdBQUF5RyxJQUNBMGEsR0FLQU4sRUFBQU8sT0FDQUQsR0FBQSxFQUNBRixFQUFBaFkscUJBQUFvWSxTQUFBLEtBTkFSLEVBQUFTLFFBQ0FILEdBQUEsRUFDQUYsRUFBQWhZLHFCQUFBb1ksU0FBQSxPQVFBUixFQUFBVSxTQUFBLENBQUE5aEIsSUFDQUEsRUFBQStoQixRQUFBcm5CLE9BQUEsR0FDQStsQixFQUFBck4sUUFBQXBULEVBQUEraEIsUUFBQSxNQUFBQyxjQUlBWixFQUFBYSxZQUFBLE1BQ0FiLEVBQUFPLE9BQ0FELEdBQUEsRUFDQUYsRUFBQWhZLHFCQUFBb1ksU0FBQSxLQUdBUixFQUFBYyxRQUFBLENBQUFsaUIsSUFDQW1aLFFBQUFDLElBQUEsa0NBQUFwWixFQUFBbWlCLE9BQ0FYLEVBQUFoWSxxQkFBQW9ZLFNBQUEsS0FJQTNqQixnQkFFQSxPQURBRyxLQUFBOFMsa0JBQUE5UyxLQUFBdWlCLFdBQUFDLFVBQUFHLGdCQUNBM2lCLEtBQUF3aEIsY0N6RkF3QyxFQUNBbmtCLFlBQUFva0IsR0FDQWprQixLQUFBaWtCLFdBR0Fwa0IsV0FBQW9FLEVBQUFDLEVBQUFwRSxFQUFBQyxHQUNBLE1BQUFta0IsR0FDQXJDLGVBQUE3aEIsS0FBQWlrQixTQUFBLEdBQ0F2RCxpQkFBQTFnQixLQUFBaWtCLFNBQUEsR0FDQXBELGNBQUE3Z0IsS0FBQWlrQixTQUFBLEdBQ0FwQixpQkFBQTdpQixLQUFBaWtCLFNBQUEsSUFNQSxPQUZBLElBQUFFLEVBREF4QyxFQUFBOVosS0FBQVEsTUFBQVIsS0FBQStYLFVBQUErQixFQUFBcmxCLE9BQUEsTUFDQTJILEVBQUFDLEVBQUFwRSxFQUFBQyxFQUFBbWtCLFVFeEJBRSxFQUNBdmtCLFlBQUExQixFQUFBNmdCLEVBQUFoTCxHQUNBaFUsS0FBQTdCLE9BQ0E2QixLQUFBZ2YsU0FFQWhmLEtBQUF3VCxpQkFBQVEsRUFHQW5VLHNCQUNBLE9BQUFHLEtBQUF3VCxpQkFHQTNULFVBQ0EsT0FBQUcsS0FBQTdCLEtBR0EwQixZQUNBLE9BQUFHLEtBQUFnZixjQ2RBcUYsVUFBQUQsRUFDQXZrQixZQUFBMUIsRUFBQTZnQixFQUFBaEwsRUFBQXNRLEVBQUF6SyxHQUNBaFAsTUFBQTFNLEVBQUE2Z0IsRUFBQWhMLEdBQ0FoVSxLQUFBc2tCLG1CQUVBdGtCLEtBQUE2WixRQUdBaGEsc0JBQ0EsT0FBQUcsS0FBQXdULGlCQUdBM1QsVUFDQSxPQUFBRyxLQUFBN0IsS0FHQTBCLFlBQ0EsT0FBQUcsS0FBQWdmLE9BR0FuZixhQUFBZ2YsRUFBQTdJLEVBQUFsVixHQUNBLE1BQWVvRCxLQUFBcWdCLEVBQUF6a0IsTUFBQTBrQixHQUE2QzNGLEVBQUFwTCxzQkFBQXpMLHlCQUM1RC9ELElBQWVBLEVBQUFDLE9BQUFuRSxVQUFvQmlXLEVBQUF2QyxzQkFBQXpMLHdCQUVuQyxJQUFBeWMsRUFBQXZnQixFQUFBcWdCLEVBQUExYyxLQUFBRCxNQUFBNGMsRUFBQSxHQUVBeGtCLEtBQUFza0IsaUJBQUEsR0FBQWpmLFdBQUFxZixhQUFBLGNBQUFya0IsRUFBQXNrQixFQUFBdmYsRUFBQS9ELEVBQUF1SCxLQUNBQSxFQUFBaEMsZ0JBQUE0YyxTQUFBbmlCLEdBQ0F1SCxFQUFBM0IsMkJBQUExRyxFQUFBZ2tCLEVBQUFFLEVBQUFwakIsS0FHQSxNQUFBdWpCLEVBQUEsSUFBQTNRLFFBQUFDLElBQ0FsVSxLQUFBc2tCLGlCQUFBLEdBQUF4ZCxpQkFBQWhGLEVBQUFTLFVBQUFDLGNBQUFvRyxJQUNBOUgsRUFBQStqQixZQUFBN2tCLEtBQUFza0IsaUJBQUEsSUFDQXBRLFFBSUFsVSxLQUFBc2tCLGlCQUFBLEdBQUFyZCxzQkFBQWhELEVBQUE0RCxLQUFBRCxNQUFBN0gsRUFBQSxHQUFBd2tCLEdBRUF6akIsRUFBQWdrQixTQUFBOWtCLEtBQUFza0IsaUJBQUEsSUFFQXRrQixLQUFBNlosTUFBQWtMLGFBRUFILEVBRUE1a0IsS0FBQXNrQixpQkFBQSxHQUFBamYsV0FBQXFmLGFBQUEsY0FBQXJrQixFQUFBc2tCLEVBQUF2ZixFQUFBL0QsRUFBQXVILEtBQ0FBLEVBQUFoQyxnQkFBQTRjLFNBQUFuaUIsS0FHQSxNQUFBMmpCLEVBQUEsSUFBQS9RLFFBQUFDLElBQ0FsVSxLQUFBc2tCLGlCQUFBLEdBQUF4ZCxpQkFBQWhGLEVBQUFTLFVBQUFDLGNBQUFvRyxJQUNBOUgsRUFBQStqQixZQUFBN2tCLEtBQUFza0IsaUJBQUEsSUFDQXBRLFFBSUFsVSxLQUFBc2tCLGlCQUFBLEdBQUFyZCxzQkFBQWhELEVBQUE0RCxLQUFBRCxNQUFBN0gsRUFBQSxHQUFBbUUsRUFBQTJELEtBQUFELE1BQUE0YyxFQUFBLElBRUExakIsRUFBQWdrQixTQUFBOWtCLEtBQUFza0IsaUJBQUEsVUFFQVUsU0M3REFDLFVBQUFiLEVBQ0F2a0IsWUFBQTFCLEVBQUE2Z0IsRUFBQWhMLEVBQUFzUSxFQUFBekssR0FDQWhQLE1BQUExTSxFQUFBNmdCLEVBQUFoTCxHQUNBaFUsS0FBQXNrQixtQkFFQXRrQixLQUFBNlosUUFHQWhhLHNCQUNBLE9BQUFHLEtBQUF3VCxpQkFHQTNULFVBQ0EsT0FBQUcsS0FBQTdCLEtBR0EwQixZQUNBLE9BQUFHLEtBQUFnZixPQUdBbmYsYUFBQWdmLEVBQUE3SSxFQUFBbFYsR0FDQSxNQUFBbUQsSUFBZUEsRUFBQUMsT0FBQXBFLFNBQW1Ca1csRUFBQXZDLHNCQUFBekwsd0JBRWxDaEksS0FBQXNrQixpQkFBQSxHQUFBamYsV0FBQXFmLGFBQUEsY0FBQXJrQixFQUFBc2tCLEVBQUF2ZixFQUFBL0QsRUFBQXVILEtBQ0FBLEVBQUFoQyxnQkFBQTRjLFNBQUFuaUIsS0FHQSxNQUFBMmpCLEVBQUEsSUFBQS9RLFFBQUFDLElBQ0FsVSxLQUFBc2tCLGlCQUFBLEdBQUF4ZCxpQkFBQWhGLEVBQUFTLFVBQUFDLGNBQUFvRyxJQUNBOUgsRUFBQStqQixZQUFBN2tCLEtBQUFza0IsaUJBQUEsSUFDQXBRLFFBSUFsVSxLQUFBc2tCLGlCQUFBLEdBQUFyZCxzQkFBQWhELEVBQUE0RCxLQUFBRCxNQUFBMUQsRUFBQXBFLEVBQUEsSUFFQUUsS0FBQTZaLE1BQUFrTCxPQUNBamtCLEVBQUFna0IsU0FBQTlrQixLQUFBc2tCLGlCQUFBLFVBRUFVLFNDdkNBRSxVQUFBNWUsRUFDQXpHLFlBQUFvRSxFQUFBQyxFQUFBaWhCLEVBQUFDLEVBQUE3ZSxFQUFBLE1BQ0EsTUFBQTRKLGFBQWVBLEVBQUFDLGlCQUE4QmdWLEVBQzdDQyxFQUFBbFYsRUFBQWdWLEVBQ0FHLEVBQUFsVixFQUFBK1UsRUFFQXRhLE1BQUE1RyxFQUFBQyxFQUFBbWhCLEVBQUFDLEVBQUEvZSxHQUVBNmUsYUFBQTlKLE9BQ0F0YixLQUFBc1QsbUJBQUEsSUFBQXRELEVBQUFvVixFQUFBLElBQUFqVixFQUFBQyxFQUFBaVYsRUFBQUMsRUFBQSxJQUFBblYsRUFBQUMsSUFHQXBRLEtBQUFvRixXQUFBNUIsT0FBQSxpQkNSQStoQixFQUNBMWxCLGNBQ0FHLEtBQUEyYixVQUdBOWIsZUFBQW9ULEVBQUE0RyxFQUFBMWIsR0FDQTZCLEtBQUEyYixPQUFBeGQsSUFDQThVLFNBQ0E0RyxTQUlBaGEsaUJBQUFtZixFQUFBd0csR0FBQSxHQUNBLElBQUF4bEIsS0FBQTJiLE9BQUE4SixXQUNBLFlBR0EsTUFBQXhTLEVBQUFqVCxLQUFBMmIsT0FBQThKLFdBQUF4UyxPQUNBNEcsRUFBQTdaLEtBQUEyYixPQUFBOEosV0FBQTVMLE1BRUF3QixFQUFBcEksRUFBQSxHQUNBLElBQUF5UyxFQUFBelMsRUFBQSxHQUNBLE1BQUEwUyxFQUFBMVMsRUFBQSxHQUVBdVMsSUFDQUUsRUFBQXpTLEVBQUEsSUFHQSxJQUFBOUMsYUFBYUEsRUFBQUMsaUJBQThCc1YsRUFFM0MsTUFBQUUsRUFBQSxJQUFBNVYsRUFBQTBWLEVBQUEsSUFBQXZWLEVBQUFDLEVBQUFELEVBQUEsR0FBQUMsRUFBQSxJQUFBRCxFQUFBLEdBQUFDLEdBRUF5VixFQUFBLElBQUF2ZixFQUFBLElBQUE2SixFQUFBLEdBQUFDLEdBQ0F5VixFQUFBdlMsbUJBQUFzUyxLQUVVelYsZUFBQUMsaUJBQTZCdVYsR0FFdkMsTUFBQUcsRUFBQSxJQUFBOVYsRUFBQTJWLEVBQUEsSUFBQXhWLEVBQUFDLEVBQUFELEVBQUEsR0FBQUMsRUFBQSxJQUFBRCxFQUFBLEdBQUFDLEdBRUEyVixFQUFBLElBQUF6ZixFQUFBLElBQUE2SixFQUFBLEdBQUFDLEdBQ0EyVixFQUFBelMsbUJBQUF3UyxHQUVBLE1BQUF0UyxFQUFBLElBQUEwUixFQUFBLFFBQUE3SixHQUVBLFdBQUFnSixFQUFBLG1CQUFBckYsRUFBQXhMLEdBQUFxUyxFQUFBRSxHQUFBbE0sR0FHQWhhLHFCQUFBbWYsR0FDQSxJQUFBaGYsS0FBQTJiLE9BQUFxSyxVQUNBLFlBR0EsTUFBQS9TLEVBQUFqVCxLQUFBMmIsT0FBQXFLLFVBQUEvUyxPQUNBNEcsRUFBQTdaLEtBQUEyYixPQUFBcUssVUFBQW5NLE1BRUF3QixFQUFBcEksRUFBQSxHQUNBMFMsRUFBQTFTLEVBQUEsR0FFQSxJQUFBOUMsYUFBYUEsRUFBQUMsaUJBQThCdVYsRUFFM0MsTUFBQUcsRUFBQSxJQUFBOVYsRUFBQTJWLEVBQUEsSUFBQXhWLEVBQUFDLEVBQUFELEVBQUEsR0FBQUMsRUFBQSxJQUFBRCxFQUFBLEdBQUFDLEdBRUEyVixFQUFBLElBQUF6ZixFQUFBLElBQUE2SixFQUFBLEdBQUFDLEdBQ0EyVixFQUFBelMsbUJBQUF3UyxHQUVBLE1BQUF0UyxFQUFBLElBQUEwUixFQUFBLFFBQUE3SixHQUNBLFdBQUE0SixFQUFBLFFBQUFqRyxFQUFBeEwsR0FBQXVTLEdBQUFsTSxVQ3JFQW9NLFVBQUEzZixFQUNBekcsWUFBQW9FLEVBQUFDLEVBQUFnaUIsRUFBQTNmLEVBQUEsTUFDQSxNQUFBNEosYUFBZUEsRUFBQUMsaUJBQThCOFYsRUFFN0NyYixNQUFBNUcsRUFBQUMsRUFBQWlNLEVBQUFDLEVBQUE3SixHQUVBdkcsS0FBQXNULG1CQUFBLElBQUF0RCxFQUFBa1csRUFBQSxJQUFBL1YsRUFBQUMsRUFBQUQsRUFBQUMsRUFBQSxJQUFBRCxFQUFBQyxLQ1JBM1EsT0FBQWdaLE9BQUEsTUFDQSxVQ3dCQTVZLGNBQ0FHLEtBQUFtbUIsa0JBQUEsYUFDQW5tQixLQUFBb21CLGdCQUFBLFdBQ0FwbUIsS0FBQXFtQixZQUFBLFFBQ0FybUIsS0FBQXNtQixZQUFBLFNBQ0F0bUIsS0FBQXVtQixlQUFBLFdBQ0F2bUIsS0FBQXdtQixnQkFBQSxZQUNBeG1CLEtBQUF5bUIsV0FBQSxPQUNBem1CLEtBQUEwbUIsYUFBQSxTQUNBMW1CLEtBQUEybUIsVUFBQSxLQUVBM21CLEtBQUE0bUIsY0FBQSxTQUVBNW1CLEtBQUE2bUIsYUFBQSxZQUVBN21CLEtBQUE4bUIsaUJBQUEsRUFFQTltQixLQUFBK21CLFlBQUEsSUFBQTVOLEVBQ0FuWixLQUFBZ25CLGVBQUEsSUFBQWpMLEVBRUEvYixLQUFBYyxPQUFBLElBQUFsQixFQUNBSSxLQUFBaW5CLFdBQUEsSUFBQXhsQixFQUNBekIsS0FBQVksR0FBQSxJQUFBNkIsRUFDQXpDLEtBQUF3QixhQUVBeEIsS0FBQWtuQixXQUFBLElBQUE1Z0IsRUFBQSxtQkFFQXRHLEtBQUFtbkIsT0FFQW5uQixLQUFBb25CLEtBQUFwbkIsS0FBQW9uQixLQUFBam9CLEtBQUFhLE1BQ0FBLEtBQUFvbkIsS0FBQSxHQUdBdm5CLGFBQ0EsTUFBQXduQixRQUFBcm5CLEtBQUFzbkIsb0JBQ0FDLEVBQUFGLEVBQUFHLHdCQUVBeG5CLEtBQUF5bkIsa0JBRUEsTUFBQVYsRUFBQS9tQixLQUFBK21CLFlBRUEzTixRQUFBMk4sRUFBQVcscUJBRUEzTSxRQUFBQyxjQUE4QjVCLFdBRTlCMk4sRUFBQVksS0FBQUMsR0FBQUwsRUFBQWxSLFNBQUF1UixJQUVBN00sUUFBQUMsSUFBQSxVQUVBaGIsS0FBQWMsT0FBQStqQixZQUFBd0MsR0FFQSxNQUFBSCxFQUFBSCxFQUFBYyxnQkFBQTduQixLQUFBbW1CLG1CQUFBLElBRUFybUIsTUFBZUEsRUFBQUMsVUFBZ0JDLEtBQUFrbkIsV0FBQWxmLHdCQUUvQmhJLEtBQUFrbkIsV0FBQTVULG1CQUFBLElBQUF0RCxFQUFBa1gsRUFBQSxJQUFBQSxFQUFBL1csYUFBQStXLEVBQUE5VyxjQUFBdFEsRUFBQUMsRUFBQSxJQUFBbW5CLEVBQUEvVyxhQUFBK1csRUFBQTlXLGdCQUVBcFEsS0FBQWMsT0FBQWdrQixTQUFBOWtCLEtBQUFrbkIsWUFFQWxuQixLQUFBOG5CLDRCQUVBLE1BQUFDLEVBQUFoQixFQUFBYyxnQkFBQTduQixLQUFBcW1CLGFBQ0EyQixFQUFBakIsRUFBQWMsZ0JBQUE3bkIsS0FBQXNtQixhQUNBMkIsRUFBQWxCLEVBQUFjLGdCQUFBN25CLEtBQUF1bUIsZ0JBQ0EyQixFQUFBbkIsRUFBQWMsZ0JBQUE3bkIsS0FBQXdtQixpQkFDQTJCLEVBQUFwQixFQUFBYyxnQkFBQTduQixLQUFBeW1CLFlBRUF6bUIsS0FBQW9vQixZQUFBLElBQUFwRSxFQUFBaGtCLEtBQUErbUIsWUFBQWMsZ0JBQUE3bkIsS0FBQTJtQixZQUNBM21CLEtBQUFxb0IsYUFBQSxJQUFBOUMsRUFDQXZsQixLQUFBc29CLGVBQUEsSUFBQWpKLEVBQUEwSSxFQUFBRSxFQUFBQyxFQUFBRixFQUFBRyxHQUVBbm9CLEtBQUFxb0IsYUFBQUUsZUFBQXhCLEVBQUFjLGdCQUFBN25CLEtBQUEwbUIsY0FBQS9tQixNQUFBLEtBQUFvbkIsRUFBQXlCLGVBQUF4b0IsS0FBQTRtQixlQUFBLGlCQUNBNW1CLEtBQUFxb0IsYUFBQUUsZUFBQXhCLEVBQUFjLGdCQUFBN25CLEtBQUEwbUIsY0FBQS9tQixNQUFBLEtBQUFvbkIsRUFBQXlCLGVBQUF4b0IsS0FBQTRtQixlQUFBLGdCQUVBNW1CLEtBQUF5b0IsVUFHQTVvQixRQUFBMUIsRUFBQSxJQUNBLE1BQUE0b0IsRUFBQS9tQixLQUFBK21CLFlBRUEvbUIsS0FBQXdCLGFBQUEsSUFBQW9KLEVBQUEsSUFBQW5MLE9BQUFxSSxXQUFBckksT0FBQXNJLGFBRUEsTUFBQTJnQixFQUFBM0IsRUFBQWMsZ0JBQUE3bkIsS0FBQTJtQixXQUFBaG5CLE1BQUEsS0FFQWdwQixHQUNBelYsS0FBQXdWLEVBQUEsR0FDQXhrQixLQUFBd2tCLEVBQUEsR0FDQXZmLE1BQUF1ZixFQUFBLElBR0FFLEVBQUEsSUFBQTFULEVBQUF6VixPQUFBc0ksWUFBQSxNQUFBdEksT0FBQXFJLFdBQUEsSUFBQTZnQixHQUNBQyxFQUFBbGMsbUJBQUEsV0FFQSxNQUFBbWMsRUFBQTlCLEVBQUFjLGdCQUFBN25CLEtBQUEybUIsV0FBQSxHQUVBelEsRUFBQSxJQUFBTSxFQUFBLEdBQUEzTyxLQUFBMkosS0FBQS9SLE9BQUFxSSxXQUFBLCtCQUFxSW9MLEtBQUEyVixJQUNySUMsRUFBQSxJQUFBdFMsRUFBQSxHQUFBM08sS0FBQTJKLEtBQUEvUixPQUFBcUksV0FBQSwyQkFBZ0lvTCxLQUFBMlYsSUFDaElELEVBQUFHLG9CQUFBN1MsR0FDQTBTLEVBQUFJLG1CQUFBRixHQUNBNVMsRUFBQXhKLG1CQUFBLFdBQ0FvYyxFQUFBcGMsbUJBQUEsV0FFQTFNLEtBQUFZLEdBQUFxb0IsSUFBQWpwQixLQUFBd0IsY0FFQSxNQUFBMG5CLEVBQUFscEIsS0FBQW1wQixjQUFBaHJCLEdBRUErcUIsRUFBQWxJLHVCQUFBbGYsRUFBQUMsTUFBQUksV0FBQXlHLElBQ0EsTUFBQXpLLEVBQUF5SyxFQUFBdkYsT0FBQW1FLHFCQUFBNGhCLGVBQ0FwcEIsS0FBQXdCLGFBQUF5VSxnQkFBQWlULEdBQ0FscEIsS0FBQWMsT0FBQXVvQixVQUFBeG9CLE1BQUEyQyxPQUFBLE9BRUF4RCxLQUFBd0IsYUFBQTRGLGFBQUF3aEIsRUFBQTVvQixLQUFBNm1CLGNBRUE3bUIsS0FBQXNwQixVQUFBbnJCLEtBR0E2QixLQUFBd0IsYUFBQTRGLGFBQUE4aEIsR0FFQWxwQixLQUFBYyxPQUFBeW9CLE1BQUF2cEIsS0FBQVksSUFHQWYsa0JBQ0EsTUFBQWtuQixFQUFBL21CLEtBQUErbUIsWUEwR0EsT0F4R0FBLEVBQUF5QyxRQUNBamhCLFVBQ21CNEIsRUFBQXVTLE1BQUFTLG9CQUNBaFQsRUFBQXVTLE1BQUFTLHNCQUNBaFQsRUFBQXVTLE1BQUFTLG9CQUNBaFQsRUFBQXVTLE1BQUFTLHFCQUNBaFQsRUFBQXVTLE1BQUFTLHdCQUNBaFQsRUFBQXVTLE1BQUFTLG1CQUNBaFQsRUFBQXVTLE1BQUFTLHVCQUNBaFQsRUFBQXVTLE1BQUFTLHdCQUNBaFQsRUFBQXVTLE1BQUFTLGdDQUNBaFQsRUFBQXVTLE1BQUFTLHFCQUNBaFQsRUFBQXVTLE1BQUFTLGtCQUNBaFQsRUFBQXVTLE1BQUFTLHlCQUduQjVVLE1BQUF2SSxLQUFBMm1CLFlBR0FJLEVBQUF5QyxRQUNBamhCLFVBQXVCNEIsRUFBQXVTLE1BQUFNLG1DQUV2QnpVLE1BQUF2SSxLQUFBbW1CLG9CQUdBWSxFQUFBeUMsUUFDQWpoQixVQUF1QjRCLEVBQUF1UyxNQUFBTyw0QkFFdkIxVSxNQUFBdkksS0FBQW9tQixrQkFHQVcsRUFBQXlDLFFBQ0FqaEIsVUFDbUI0QixFQUFBdVMsTUFBQUMsNEJBQ0F4UyxFQUFBdVMsTUFBQUMsNEJBQ0F4UyxFQUFBdVMsTUFBQUMsNEJBQ0F4UyxFQUFBdVMsTUFBQUMsNEJBR25CcFUsTUFBQXZJLEtBQUFxbUIsY0FHQVUsRUFBQXlDLFFBQ0FqaEIsVUFDbUI0QixFQUFBdVMsTUFBQUUsNEJBQ0F6UyxFQUFBdVMsTUFBQUUsNEJBQ0F6UyxFQUFBdVMsTUFBQUUsNEJBQ0F6UyxFQUFBdVMsTUFBQUUsNEJBR25CclUsTUFBQXZJLEtBQUFzbUIsY0FHQVMsRUFBQXlDLFFBQ0FqaEIsVUFDbUI0QixFQUFBdVMsTUFBQUcsK0JBQ0ExUyxFQUFBdVMsTUFBQUcsK0JBQ0ExUyxFQUFBdVMsTUFBQUcsK0JBQ0ExUyxFQUFBdVMsTUFBQUcsK0JBR25CdFUsTUFBQXZJLEtBQUF1bUIsaUJBR0FRLEVBQUF5QyxRQUNBamhCLFVBQ21CNEIsRUFBQXVTLE1BQUFJLGdDQUNBM1MsRUFBQXVTLE1BQUFJLGdDQUNBM1MsRUFBQXVTLE1BQUFJLGdDQUNBM1MsRUFBQXVTLE1BQUFJLGdDQUduQnZVLE1BQUF2SSxLQUFBd21CLGtCQUdBTyxFQUFBeUMsUUFDQWpoQixVQUNtQjRCLEVBQUF1UyxNQUFBSywwQkFDQTVTLEVBQUF1UyxNQUFBSywwQkFDQTVTLEVBQUF1UyxNQUFBSywwQkFDQTVTLEVBQUF1UyxNQUFBSywwQkFHbkJ4VSxNQUFBdkksS0FBQXltQixhQUdBTSxFQUFBeUMsUUFDQWpoQixVQUNtQjRCLEVBQUF1UyxNQUFBUSxxQ0FDQS9TLEVBQUF1UyxNQUFBUSxvREFDQS9TLEVBQUF1UyxNQUFBUSwyREFDQS9TLEVBQUF1UyxNQUFBUSxrREFDQS9TLEVBQUF1UyxNQUFBUSwyQkFDQS9TLEVBQUF1UyxNQUFBUSw2QkFFbkJyRCxVQUNtQjFQLEVBQUFpVCxNQUFBRixtQ0FDQS9TLEVBQUFpVCxNQUFBRiwyQkFHbkIzVSxNQUFBdkksS0FBQTBtQixhQUNBN00sTUFBQTdaLEtBQUE0bUIsZ0JBR0FHLEVBR0FsbkIsZ0JBQUExQixHQUNBLE1BQUE0b0IsRUFBQS9tQixLQUFBK21CLFlBQ0F1QixFQUFBdG9CLEtBQUFzb0IsZUFDQUYsRUFBQXBvQixLQUFBb29CLFlBQ0FDLEVBQUFyb0IsS0FBQXFvQixhQUNBN21CLEVBQUF4QixLQUFBd0IsYUFFQWlvQixFQUFBMUMsRUFBQWMsZ0JBQUE3bkIsS0FBQTJtQixXQUFBLEdBQ0ErQyxFQUFBM0MsRUFBQWMsZ0JBQUE3bkIsS0FBQW9tQixpQkFBQSxHQUVBdUQsRUFBQSxJQUFBMUQsRUFBQSxXQUFBeUQsSUFFZTVwQixNQUFBOHBCLEVBQUE3cEIsT0FBQThwQixHQUEyQ0YsRUFBQTNoQix3QkFFMUQyaEIsRUFBQTFpQixzQkFBQVksS0FBQUQsT0FBQW5JLE9BQUFzSSxZQUFBLE9BQUE4aEIsRUFBQSxHQUFBaGlCLEtBQUFELE1BQUFuSSxPQUFBcUksV0FBQSxFQUFBOGhCLEVBQUEsS0FBQUEsRUFBQUMsR0FFQSxJQUFBQyxFQUFBeEIsRUFBQXlCLGNBQUEsWUFDQS9wQixLQUFBZ3FCLFNBQUFGLEdBQ0FBLEVBQUFHLFNBQUE1QixFQUFBNkIsaUJBQUEsT0FDQUosRUFBQUcsU0FBQTVCLEVBQUE4QixxQkFBQSxJQUVBLElBQUFDLEVBQUEsRUFFQSxNQUFBalUsRUFBQSxJQUFBdUksRUFBQXZnQixFQUFBLFFBQUF3ckIsR0FPQSxJQUxBeFQsRUFBQThULFNBQUE1QixFQUFBNkIsaUJBQUEsS0FDQS9ULEVBQUE4VCxTQUFBNUIsRUFBQThCLHFCQUFBLEtBRUFucUIsS0FBQXFxQixVQUFBbFUsR0FFQUEsRUFBQW1VLFdBQUEsQ0FDQVIsRUFBQVEsWUFDQVIsRUFBQXhCLEVBQUF5QixjQUFBLFlBQ0EvcEIsS0FBQWdxQixTQUFBRixHQUVBQSxFQUFBRyxTQUFBNUIsRUFBQTZCLGlCQUFBLE9BQ0FKLEVBQUFHLFNBQUE1QixFQUFBOEIscUJBQUEsSUFFQUMsR0FBQSxHQUdBLE1BQUFHLEVBQUEsSUFBQXhYLEVBQUFsTCxLQUFBMkosS0FBQS9SLE9BQUFzSSxZQUFBLFNBQUFGLEtBQUFELE1BQUFuSSxPQUFBcUksV0FBQSxlQUFBcU8sRUFBQXFVLGFBQWlQdFgsS0FBQXVXLElBQ2pQYyxFQUFBN2QsbUJBQUEsV0FDQTZkLEVBQUFFLFlBQUEsVUFFQWpwQixFQUFBNEYsYUFBQW1qQixHQUVBLE1BQUFoWCxRQUFBZ1gsRUFBQUcsY0FFQSxVQUFBblgsRUFBQSxDQUNBd0gsUUFBQUMsSUFBQSx5QkFDQSxNQUdBeFosRUFBQXlVLGdCQUFBc1UsR0FFQSxNQUFBSSxFQUFBdkMsRUFBQXdDLFdBQUEvaUIsS0FBQTJKLEtBQUEvUixPQUFBc0ksWUFBQSxVQUFBRixLQUFBMkosTUFBQS9SLE9BQUFxSSxXQUFBLGlCQUNBNmlCLEVBQUFqZSxtQkFBQSxXQUVBbEwsRUFBQTRGLGFBQUF1akIsR0FFQSxNQUFBRSxRQUFBRixFQUFBRyxZQVFBLEdBTkF0cEIsRUFBQXlVLGdCQUFBMFUsR0FFQUUsU0FDQTFVLEVBQUEySSxPQUFBZ0wsRUFBQXZXLEVBQUF2VCxLQUFBYyxRQUdBZ3BCLEVBQUFRLFVBQUEsQ0FDQSxNQUFBdFgsRUFBQThXLEVBQUFVLFlBQ0FycEIsRUFBQTBHLEtBQUFRLE1BQUFSLEtBQUErWCxVQUFBNU0sRUFBQTFXLE9BQUEsVUFFQXd0QixFQUFBaEwsT0FBQTNJLEVBQUFuRCxFQUFBN1IsR0FBQW5CLEtBQUFjLFNBSUFkLEtBQUErcUIsZ0JBQUE1VSxFQUFBaVUsR0FHQXZxQiwwQkFDQSxNQUFBbXJCLEVBQUEsSUFBQTFQLE1BQ0EwUCxFQUFBelAsT0FBdUNwUixFQUFBdVMsTUFBQVMsdUJBQ3ZDbkUsRUFBQWdTLEdBRUEsTUFBZTdhLGFBQUE4YSxFQUFBN2EsY0FBQThhLEdBQXVGRixFQUN0R0csRUFBQSxJQUFBbmIsRUFBQWdiLEVBQUEsSUFBQUMsRUFBQUMsRUFBQUQsRUFBQUMsRUFBQSxJQUFBRCxFQUFBQyxHQUVBN0QsRUFBQSxJQUFBemMsRUFBQSxJQUFBbkwsT0FBQXFJLFdBQUFySSxPQUFBc0ksYUFDQXFqQixFQUFBLElBQUF4Z0IsRUFBQSxJQUFBcWdCLEVBQUFDLEVBQUE3RCxHQUNBK0QsRUFBQXJYLGNBQ0FxWCxFQUFBOVgsbUJBQUE2WCxHQUVBOUQsRUFBQTNhLG1CQUFBLFdBRUEsTUFBQTZhLEVBQUEsSUFBQWxULEVBQUEsb0JBYUEsT0FaQStXLEVBQUFoa0IsYUFBQW1nQixHQUNBQSxFQUFBeFQsY0FFQXdULEVBQUE3YSxtQkFBQSxvQkFDQTZhLEVBQUE4RCxtQkFBQTVZLGFBQUEsV0FFQXpTLEtBQUFjLE9BQUFna0IsU0FBQXVDLEdBRUFBLEVBQUFHLHNCQUFBLEtBQ0FELEdBR0FGLEVBR0F4bkIsY0FBQTFCLEVBQUEsSUFDQSxNQUFBMGpCLEVBQUE3aEIsS0FBQSttQixZQUFBYyxnQkFBQTduQixLQUFBMm1CLFdBQUEsSUFDZXhXLGFBQUEyUixFQUFBMVIsY0FBQTJSLEdBQStERixFQUU5RW5CLEVBQUExZ0IsS0FBQSttQixZQUFBYyxnQkFBQTduQixLQUFBMm1CLFdBQUEsSUFDZXhXLGFBQUF3USxFQUFBdlEsY0FBQXdRLEdBQXVERixFQUV0RUcsRUFBQTdnQixLQUFBK21CLFlBQUFjLGdCQUFBN25CLEtBQUEybUIsV0FBQSxJQUNleFcsYUFBQTJRLEVBQUExUSxjQUFBMlEsR0FBNkRGLEVBRTVFcUksRUFBQSxJQUFBblgsRUFBQSxJQUFBNE8sRUFBQUMsRUFBQSxxQkFDQXNJLEVBQUF4YyxtQkFBQSxXQUNBd2MsRUFBQW5WLGNBQ0FtVixFQUFBNVYsbUJBQUEsSUFBQXRELEVBQUEwUSxFQUFBLElBQUFDLEVBQUFDLEVBQUFELEVBQUFDLEVBQUEsSUFBQUQsRUFBQUMsSUFFQXNJLEVBQUFvQyx3QkFBQXJrQiwyQkFBQTFHLFNBQUF1aEIsRUFBQUMsR0FDQW1ILEVBQUFvQyx3QkFBQWhZLG1CQUFBLElBQUF0RCxFQUFBNlIsRUFBQSxJQUFBQyxFQUFBQyxFQUFBRCxFQUFBQyxFQUFBLElBQUFELEVBQUFDLElBRUEsTUFBQTFQLEVBQUF4SyxLQUFBMkosS0FBQXhMLEVBQUEseUJBV0EsT0FUQWtqQixFQUFBb0Msd0JBQUFwZCxjQUFBckcsS0FBQUQsTUFBQWthLEVBQUF6UCxHQUFBLEVBQ0E2VyxFQUFBcUMsMEJBQUE3ZSxtQkFBQSxvQkFDQXdjLEVBQUFxQywwQkFBQTlZLGFBQUEsV0FFQXlXLEVBQUFzQyx1QkFBQXZrQixzQkFBQTJaLEVBQUEsR0FBQUcsRUFBQUosRUFBQSxHQUFBRyxFQUFBLEVBQUFBLEVBQUEsRUFBQUMsR0FDQW1JLEVBQUFzQyx1QkFBQWxZLG1CQUFBLElBQUF0RCxFQUFBNlEsRUFBQSxJQUFBQyxFQUFBQyxFQUFBRCxFQUFBQyxFQUFBLElBQUFELEVBQUEsRUFBQUMsSUFFQW1JLEVBQUFvQyx3QkFBQXRXLFFBQUE3VyxHQUVBK3FCLEVBR0FycEIsZ0JBQUFzVyxFQUFBc1YsR0FDQSxNQUFBQyxFQUFBMXJCLEtBQUErbUIsWUFBQWMsZ0JBQUE3bkIsS0FBQTJtQixXQUFBLElBQ0FnRixFQUFBM3JCLEtBQUErbUIsWUFBQWMsZ0JBQUE3bkIsS0FBQTJtQixXQUFBLEtBRWV4VyxhQUFBeWIsRUFBQXhiLGNBQUF5YixHQUF1REgsRUFDdEVJLEVBQUEsSUFBQTliLEVBQUEwYixFQUFBLElBQUFFLEVBQUFDLEVBQUFELEVBQUFDLEVBQUEsSUFBQUQsRUFBQUMsSUFFZTFiLGFBQUE0YixFQUFBM2IsY0FBQTRiLEdBQXFFTCxFQUNwRk0sRUFBQSxJQUFBamMsRUFBQTJiLEVBQUEsSUFBQUksRUFBQUMsRUFBQUQsRUFBQUMsRUFBQSxJQUFBRCxFQUFBQyxHQUVBaHNCLEtBQUFnbkIsZUFBQWtGLFdBQUEvVixFQUFBeEMsVUFBQThYLEdBRUEsTUFBQXpQLEVBQUFoYyxLQUFBZ25CLGVBQUFtRixtQkFFQUMsRUFBQSxJQUFBblYsRUFBQSxJQUFBMlUsRUFBQSxJQUFBNVAsRUFBQTFmLE9BQUEsWUFDQTBELEtBQUF3QixhQUFBNEYsYUFBQWdsQixHQUNBQSxFQUFBclksY0FDQXFZLEVBQUE5WSxtQkFBQXdZLEdBQ0FNLEVBQUFoaEIscUJBQUE1SyxRQUFBb3JCLEVBQUFDLEdBRUEsTUFBQVEsRUFBQSxJQUFBeGUsRUFBQSxJQUFBaEcsS0FBQTJKLEtBQUF4TCxFQUFBLG1DQUNBc21CLEVBQUEsSUFBQXplLEVBQUEsSUFBQWhHLEtBQUEySixLQUFBeEwsRUFBQSx5REFFQXFtQixFQUFBNVosYUFBQSxXQUNBNlosRUFBQTdaLGFBQUEsV0FFQTZaLEVBQUFDLFlBQUEsSUFFQUgsRUFBQUksa0JBQUEsS0FBQXBsQixhQUFBaWxCLEdBQ0FBLEVBQUF0WSxjQUVBcVksRUFBQUksa0JBQUEsS0FBQXBsQixhQUFBa2xCLEdBQ0FBLEVBQUF2WSxjQUVBaUksRUFBQTdZLFFBQUEsQ0FBQW1aLEVBQUFsZ0IsS0FDQSxNQUFBK0IsS0FBbUJBLEVBQUFpZSxpQkFBc0JFLE9BRXpDL2IsSUFBQXBDLElBQ0FBLEVBQUEsSUFHQSxNQUFBMFksRUFBQSxJQUFBaEosRUFBQSxJQUFBaEcsS0FBQTJKLEtBQUF4TCxFQUFBN0gsRUFBQSxvQkFBQUEsR0FDQXN1QixFQUFBLElBQUE1ZSxFQUFBLElBQUFoRyxLQUFBMkosS0FBQXhMLEVBQUFvVyxFQUFBLG9CQUFBelQsT0FBQXlULElBRUF2RixFQUFBcEUsYUFBQSxXQUNBZ2EsRUFBQWhhLGFBQUEsV0FFQTJaLEVBQUFJLGtCQUFBLEVBQUFwd0IsRUFBQSxHQUFBZ0wsYUFBQXlQLEdBQ0FBLEVBQUE5QyxjQUVBcVksRUFBQUksa0JBQUEsRUFBQXB3QixFQUFBLEdBQUFnTCxhQUFBcWxCLEdBQ0FBLEVBQUExWSxnQkFHQXFZLEVBQUEzQixZQUFBLFVBRUEsTUFBZXhtQixJQUFBeW9CLEVBQUF2akIsTUFBQXdqQixHQUFtQ1AsRUFBQXBrQix3QkFFbEQ0a0IsRUFBQSxJQUFBOWEsRUFBQTRhLEVBQUFDLEVBQUEsRUFBQVosRUFBQUMsRUFBQSxJQWtCQSxPQWpCQVksRUFBQXRaLG1CQUFBMlksR0FFQVcsRUFBQTlsQixpQkFBQWhGLEVBQUFDLE1BQUFJLFdBQUF5RyxJQUNBNUksS0FBQXdCLGFBQUFxckIsZUFFQSxNQUFBMXVCLEVBQUE2QixLQUFBbVcsT0FBQXhDLFVBRUEzVCxLQUFBcXFCLFVBQUEsTUFDQXJxQixLQUFBZ3FCLFNBQUEsTUFFQWhxQixLQUFBYyxPQUFBdW9CLFVBQUF4b0IsTUFBQTJDLE9BQUEsT0FFQXhELEtBQUF5b0IsUUFBQXRxQixLQUdBNkIsS0FBQXdCLGFBQUE0RixhQUFBd2xCLEVBQUEsV0FFQVIsRUFHQXZzQixVQUFBc1csR0FPQSxHQU5BblcsS0FBQW1XLFFBQ0FuVyxLQUFBYyxPQUFBK2pCLFlBQUE3a0IsS0FBQW1XLE9BQUExQyx1QkFHQXpULEtBQUFtVyxTQUVBLE9BQUFBLEVBQ0EsT0FHQW5XLEtBQUF3QixhQUFBc1Isa0JBQUE5UyxLQUFBNm1CLGNBQ0FpRyxpQkFBbUMzVyxFQUFBeEMsYUFBaUJ3QyxFQUFBNFcsZ0JBRXBELE1BQUFDLEVBQUE3VyxFQUFBMUMsc0JBRUEsT0FBQXVaLEdBQ0FodEIsS0FBQWMsT0FBQWdrQixTQUFBa0ksR0FHQSxNQUFBbFcsRUFBQTlXLEtBQUF3QixhQUFBc1Isa0JBQUE5UyxLQUFBNm1CLGNBQUFvRyxzQkFBQUMsZUFFQS9XLEVBQUFnWCxvQkFBQXJXLEVBQUFULFNBQUFsWCxLQUFBMlgsSUFHQWpYLFNBQUFtVyxHQUtBLEdBSkFoVyxLQUFBZ1csT0FDQWhXLEtBQUFjLE9BQUErakIsWUFBQTdrQixLQUFBZ1csTUFBQXZDLHVCQUdBLE9BQUF1QyxFQUNBLE9BR0FoVyxLQUFBZ1csUUFFQWhXLEtBQUF3QixhQUFBc1Isa0JBQUE5UyxLQUFBNm1CLGNBQ0F1RyxnQkFBa0NwWCxFQUFBckMsYUFBZ0JxQyxFQUFBK1csZ0JBRWxELE1BQUFNLEVBQUFyWCxFQUFBdkMsc0JBRUEsT0FBQTRaLEdBQ0FydEIsS0FBQWMsT0FBQWdrQixTQUFBdUksR0FHQSxNQUFBdlcsRUFBQTlXLEtBQUF3QixhQUFBc1Isa0JBQUE5UyxLQUFBNm1CLGNBQUF5RyxxQkFBQUosZUFFQWxYLEVBQUFtWCxvQkFBQXJXLEVBQUFULFNBQUFsWCxLQUFBMlgsSUFHQWpYLDRCQUNBRyxLQUFBYyxPQUFBdW9CLFVBQUF2aUIsaUJBQUEsWUFBQThCLElBQ0E1SSxLQUFBaW5CLFdBQUFnQyxLQUNBdGxCLEtBQUE3QixFQUFBQyxNQUFBSSxXQUNBUyxRQUFBLFFBQ0FHLFNBQ0FDLFlBQ0FpQixJQUFBMkUsRUFBQWdJLFFBQ0ExTSxLQUFBMEUsRUFBQStILGNBTUEzUSxLQUFBYyxPQUFBdW9CLFVBQUF2aUIsaUJBQUEsVUFBQThCLElBQ0E1SSxLQUFBaW5CLFdBQUFnQyxLQUNBdGxCLEtBQUE3QixFQUFBTSxTQUFBRSxTQUNBTSxRQUFBLFdBQ0FHLFNBQ0E3RCxJQUFBMEosRUFBQTFKLFNBS0FjLEtBQUFjLE9BQUF1b0IsVUFBQXZpQixpQkFBQSxXQUFBOEIsSUFDQTVJLEtBQUFpbkIsV0FBQWdDLEtBQ0F0bEIsS0FBQTdCLEVBQUFNLFNBQUFDLFVBQ0FPLFFBQUEsV0FDQUcsU0FDQTdELElBQUEwSixFQUFBMUosU0FLQWMsS0FBQWMsT0FBQXVvQixVQUFBdmlCLGlCQUFBLFlBQUE4QixJQUNBNUksS0FBQWluQixXQUFBZ0MsS0FDQXRsQixLQUFBN0IsRUFBQUMsTUFBQUMsV0FDQVksUUFBQSxRQUNBRyxTQUNBQyxZQUNBaUIsSUFBQTJFLEVBQUFnSSxRQUNBMU0sS0FBQTBFLEVBQUErSCxjQU9BOVEsS0FBQXlGLEdBQ0Fpb0Isc0JBQUF2dEIsS0FBQW9uQixXQUVBN21CLElBQUErRSxTQUNBL0UsSUFBQVAsS0FBQXd0QixXQUNBeHRCLEtBQUF3dEIsU0FBQWxvQixHQUdBdEYsS0FBQXl0QixTQUVBenRCLEtBQUEwdEIsT0FBQXBvQixFQUFBdEYsS0FBQXd0QixVQUVBeHRCLEtBQUF3dEIsU0FBQWxvQixHQUlBekYsU0FDQSxLQUFBRyxLQUFBaW5CLFdBQUFwbEIsV0FBQSxDQUNBLE1BQUFELEVBQUE1QixLQUFBaW5CLFdBQUEwRyxVQUVBM3RCLEtBQUFZLEdBQUFndEIsWUFBQWhzQixJQUlBL0IsT0FBQWd1QixHQUNBN3RCLEtBQUFjLE9BQUFTLEtBQUFzc0IiLCJmaWxlIjoibWFpbi45NDljMjY0MTJmZDAyNGExZjk2OC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuIFx0XHR2YXIgZXhlY3V0ZU1vZHVsZXMgPSBkYXRhWzJdO1xuIFx0XHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcbiBcdFx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG4gXHRcdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDAsIHJlc29sdmVzID0gW107XG4gXHRcdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuIFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuIFx0XHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuIFx0XHRcdH1cbiBcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuIFx0XHR9XG4gXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYocGFyZW50SnNvbnBGdW5jdGlvbikgcGFyZW50SnNvbnBGdW5jdGlvbihkYXRhKTtcbiBcdFx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG4gXHRcdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuIFx0XHR9XG5cbiBcdFx0Ly8gYWRkIGVudHJ5IG1vZHVsZXMgZnJvbSBsb2FkZWQgY2h1bmsgdG8gZGVmZXJyZWQgbGlzdFxuIFx0XHRkZWZlcnJlZE1vZHVsZXMucHVzaC5hcHBseShkZWZlcnJlZE1vZHVsZXMsIGV4ZWN1dGVNb2R1bGVzIHx8IFtdKTtcblxuIFx0XHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIGFsbCBjaHVua3MgcmVhZHlcbiBcdFx0cmV0dXJuIGNoZWNrRGVmZXJyZWRNb2R1bGVzKCk7XG4gXHR9O1xuIFx0ZnVuY3Rpb24gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKSB7XG4gXHRcdHZhciByZXN1bHQ7XG4gXHRcdGZvcih2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZE1vZHVsZXMubGVuZ3RoOyBpKyspIHtcbiBcdFx0XHR2YXIgZGVmZXJyZWRNb2R1bGUgPSBkZWZlcnJlZE1vZHVsZXNbaV07XG4gXHRcdFx0dmFyIGZ1bGZpbGxlZCA9IHRydWU7XG4gXHRcdFx0Zm9yKHZhciBqID0gMTsgaiA8IGRlZmVycmVkTW9kdWxlLmxlbmd0aDsgaisrKSB7XG4gXHRcdFx0XHR2YXIgZGVwSWQgPSBkZWZlcnJlZE1vZHVsZVtqXTtcbiBcdFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tkZXBJZF0gIT09IDApIGZ1bGZpbGxlZCA9IGZhbHNlO1xuIFx0XHRcdH1cbiBcdFx0XHRpZihmdWxmaWxsZWQpIHtcbiBcdFx0XHRcdGRlZmVycmVkTW9kdWxlcy5zcGxpY2UoaS0tLCAxKTtcbiBcdFx0XHRcdHJlc3VsdCA9IF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gZGVmZXJyZWRNb2R1bGVbMF0pO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRyZXR1cm4gcmVzdWx0O1xuIFx0fVxuXG4gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBvYmplY3QgdG8gc3RvcmUgbG9hZGVkIGFuZCBsb2FkaW5nIGNodW5rc1xuIFx0Ly8gdW5kZWZpbmVkID0gY2h1bmsgbm90IGxvYWRlZCwgbnVsbCA9IGNodW5rIHByZWxvYWRlZC9wcmVmZXRjaGVkXG4gXHQvLyBQcm9taXNlID0gY2h1bmsgbG9hZGluZywgMCA9IGNodW5rIGxvYWRlZFxuIFx0dmFyIGluc3RhbGxlZENodW5rcyA9IHtcbiBcdFx0MTogMFxuIFx0fTtcblxuIFx0dmFyIGRlZmVycmVkTW9kdWxlcyA9IFtdO1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSB8fCBbXTtcbiBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4gXHRqc29ucEFycmF5LnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjaztcbiBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IG9sZEpzb25wRnVuY3Rpb247XG5cblxuIFx0Ly8gYWRkIGVudHJ5IG1vZHVsZSB0byBkZWZlcnJlZCBsaXN0XG4gXHRkZWZlcnJlZE1vZHVsZXMucHVzaChbMSwwXSk7XG4gXHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIHJlYWR5XG4gXHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbnZhcyB7XG4gICAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLmh0bWxDb21wb25lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgdGhpcy5odG1sQ29tcG9uZW50LnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAwKTtcblxuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmh0bWxDb21wb25lbnQuZ2V0Q29udGV4dCgnMmQnKTtcblxuICAgICAgICBpZiAod2lkdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgd2lkdGggPSAxMzY2O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhlaWdodCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBoZWlnaHQgPSA2MzU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFNpemUod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmh0bWxDb21wb25lbnQpO1xuXG4gICAgICAgIHRoaXMuc2NlbmVzID0gW107XG4gICAgICAgIHRoaXMudWkgPSBbXTtcbiAgICB9XG5cbiAgICBnZXRIdG1sKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5odG1sQ29tcG9uZW50O1xuICAgIH1cblxuICAgIGdldENvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQ7XG4gICAgfVxuXG4gICAgc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5odG1sQ29tcG9uZW50LnN0eWxlLndpZHRoID0gYCR7d2lkdGh9cHhgO1xuICAgICAgICB0aGlzLmh0bWxDb21wb25lbnQuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcblxuICAgICAgICB0aGlzLmNvbnRleHQuY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuY29udGV4dC5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIH1cblxuICAgIGNsZWFyKGNvbG9yID0gJyMwMDAwMDAnKSB7XG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBhZGRTY2VuZShzY2VuZSkge1xuICAgICAgICB0aGlzLnNjZW5lcy5wdXNoKHNjZW5lKTtcbiAgICB9XG5cbiAgICBhZGRVSSh1aSkge1xuICAgICAgICB0aGlzLnVpLnB1c2godWkpO1xuICAgIH1cblxuICAgIHJlbW92ZVNjZW5lKHNjZW5lKSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5zY2VuZXMuaW5kZXhPZihzY2VuZSk7XG5cbiAgICAgICAgaWYgKCh+aW5kZXgpICE9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnNjZW5lcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmVzZXRTY2VuZXMoKSB7XG4gICAgICAgIHRoaXMuc2NlbmVzID0gW107XG4gICAgfVxuXG4gICAgZHJhdyhlbGFwc2VUaW1lKSB7XG4gICAgICAgIHRoaXMuY2xlYXIoKTtcblxuICAgICAgICBmb3IgKGxldCBvIG9mIHRoaXMuc2NlbmVzKSB7XG4gICAgICAgICAgICBvLmRyYXcodGhpcy5jb250ZXh0LCBlbGFwc2VUaW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IG8gb2YgdGhpcy51aSkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSBvZiBvLnVpQ29tcG9uZW50cykge1xuICAgICAgICAgICAgICAgIGkuZHJhdyh0aGlzLmNvbnRleHQsIGVsYXBzZVRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZlbnRRdWV1ZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucXVldWUgPSBbXTtcblxuICAgICAgICB0aGlzLnF1ZXVlSW5kZXggPSAwO1xuICAgIH1cblxuICAgIGFkZChldmVudCkge1xuICAgICAgICB0aGlzLnF1ZXVlLnB1c2goZXZlbnQpO1xuICAgIH1cblxuICAgIGdldE5leHQoKSB7XG4gICAgICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5xdWV1ZUluZGV4IDwgdGhpcy5xdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5xdWV1ZVt0aGlzLnF1ZXVlSW5kZXhdO1xuICAgICAgICAgICAgdGhpcy5xdWV1ZUluZGV4ICs9IDE7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnF1ZXVlSW5kZXggPSAwO1xuICAgICAgICB0aGlzLnF1ZXVlID0gW107XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaGFzTmV4dCgpIHtcbiAgICAgICAgY29uc3QgaGFzTmV4dCA9ICEhKHRoaXMucXVldWUubGVuZ3RoIC0gdGhpcy5xdWV1ZUluZGV4KTtcblxuICAgICAgICBpZiAoIWhhc05leHQgJiYgdGhpcy5xdWV1ZS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIHRoaXMucXVldWVJbmRleCA9IDA7XG4gICAgICAgICAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaGFzTmV4dDtcbiAgICB9XG5cbiAgICByZW1haW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnF1ZXVlLmxlbmd0aCAtIHRoaXMucXVldWVJbmRleDtcbiAgICB9XG59XG4iLCJjb25zdCBldmVudHMgPSB7XG4gICAgTU9VU0U6IHtcbiAgICAgICAgTU9VU0VfTU9WRTogJ21vdXNlbW92ZScsXG4gICAgICAgIE1PVVNFX0VOVEVSOiAnbW91c2VlbnRlcicsXG4gICAgICAgIE1PVVNFX0xFQVZFOiAnbW91c2VsZWF2ZScsXG4gICAgICAgIE1PVVNFX0RPV046ICdtb3VzZWRvd24nLFxuICAgIH0sXG4gICAgS0VZQk9BUkQ6IHtcbiAgICAgICAgS0VZX1BSRVNTOiAna2V5cHJlc3MnLFxuICAgICAgICBLRVlfRE9XTjogJ2tleWRvd24nXG4gICAgfSxcbiAgICBBTklNQVRJT046IHtcbiAgICAgICAgQU5JTUFUSU9OX0VORDogJ2FuaW1hdGlvbmVuZCcsXG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZXZlbnRzO1xuIiwiaW1wb3J0IGV2ZW50cyBmcm9tICcuLi9ldmVudC9ldmVudHMvZXZlbnRzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkID0gbnVsbDtcbiAgICAgICAgdGhpcy5ob3ZlcmVkID0gbnVsbDtcbiAgICAgICAgdGhpcy51aUNvbXBvbmVudHMgPSBbXTtcbiAgICB9XG5cbiAgICBoYW5kbGVFdmVudChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnRzW2V2ZW50LnN1YnR5cGVdID09PSBldmVudHMuTU9VU0UpIHtcbiAgICAgICAgICAgIGZvciAobGV0IHNjZW5lIG9mIHRoaXMudWlDb21wb25lbnRzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZWxlbWVudHMgPSBzY2VuZS5jaGVja0ZvckNvbGxpc2lvbih7IC4uLmV2ZW50LnBheWxvYWQubW91c2VDb29yZCwgd2lkdGg6IDEsIGhlaWdodDogMSB9KTsgXG5cbiAgICAgICAgICAgICAgICBsZXQgZWxlbWVudCA9IG51bGw7XG4gICAgXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBtb3N0RGVwdGggPSAwO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSAtMTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50cy5mb3JFYWNoKCh7IGRlcHRoIH0sIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXB0aCA+PSBtb3N0RGVwdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3N0RGVwdGggPSBkZXB0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50c1tpbmRleF0ubztcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0ID0gZWxlbWVudDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYW52YXNIVE1MID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignY2FudmFzJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW52YXNIVE1MLnN0eWxlLmN1cnNvciAhPT0gJ2F1dG8nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNIVE1MLnN0eWxlLmN1cnNvciA9ICdhdXRvJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ob3ZlcmVkICE9PSBlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhvdmVyZWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaG92ZXJlZC5oYW5kbGVycy5oYW5kbGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGV2ZW50cy5NT1VTRS5NT1VTRV9MRUFWRSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IHRoaXMuaG92ZXJlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3ZlcmVkLnNldEhvdmVyZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbGVtZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmhhbmRsZXJzLmhhbmRsZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZXZlbnRzLk1PVVNFLk1PVVNFX0VOVEVSLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiB0aGlzLmhvdmVyZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgIFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhvdmVyZWQgPSBlbGVtZW50O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSBldmVudHMuTU9VU0UuTU9VU0VfRE9XTikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZCAhPT0gZWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkLmlzU2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBlbGVtZW50O1xuICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmlzU2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaGFuZGxlcnMuaGFuZGxlKGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXZlbnRzW2V2ZW50LnN1YnR5cGVdID09PSBldmVudHMuS0VZQk9BUkQgJiYgdGhpcy5zZWxlY3RlZCkge1xuICAgICAgICAgICAgZXZlbnQudGFyZ2V0ID0gdGhpcy5zZWxlY3RlZDtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuaGFuZGxlcnMuaGFuZGxlKGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkZChjb21wb25lbnQpIHtcbiAgICAgICAgdGhpcy51aUNvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xuICAgIH1cblxuICAgIHJlbW92ZShjb21wb25lbnQpIHtcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnVpQ29tcG9uZW50cy5pbmRleE9mKGNvbXBvbmVudCk7XG5cbiAgICAgICAgaWYgKH5pbmRleCkge1xuICAgICAgICAgICAgdGhpcy51aUNvbXBvbmVudHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1cnNvciB7XG4gICAgY29uc3RydWN0b3IodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMubWV0cmljID0ge1xuICAgICAgICAgICAgdG9wLFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5ibGlua1RpbWUgPSA1MDA7XG4gICAgICAgIHRoaXMuZWxhcHNlZFRpbWUgPSAwO1xuXG4gICAgICAgIHRoaXMuY29sb3IgPSAnIzAwMDAwMCc7XG4gICAgfVxuXG4gICAgc2V0UG9zaXRpb24odG9wLCBsZWZ0KSB7XG4gICAgICAgIHRoaXMubWV0cmljLnRvcCA9IHRvcDtcbiAgICAgICAgdGhpcy5tZXRyaWMubGVmdCA9IGxlZnQ7XG4gICAgfVxuXG4gICAgc2V0Q29sb3IoY29sb3IgPSAnIzAwMDAwMCcpIHtcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xuICAgIH1cblxuICAgIGRyYXcoY29udGV4dCwgZWxhcHNlZFRpbWUpIHtcbiAgICAgICAgY29udGV4dC5zYXZlKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuZWxhcHNlZFRpbWUgPCB0aGlzLmJsaW5rVGltZSkge1xuICAgICAgICAgICAgaWYgKGNvbnRleHQuc3Ryb2tlU3R5bGUgIT09IHRoaXMuY29sb3IpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gdGhpcy5jb2xvcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHRoaXMubWV0cmljLmxlZnQsIHRoaXMubWV0cmljLnRvcCk7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyh0aGlzLm1ldHJpYy5sZWZ0LCB0aGlzLm1ldHJpYy50b3AgKyB0aGlzLm1ldHJpYy5oZWlnaHQpO1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZWxhcHNlZFRpbWUgKz0gZWxhcHNlZFRpbWU7XG5cbiAgICAgICAgaWYgKHRoaXMuZWxhcHNlZFRpbWUgPiB0aGlzLmJsaW5rVGltZSAqIDIpIHtcbiAgICAgICAgICAgIHRoaXMuZWxhcHNlZFRpbWUgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfVxufSIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbGxpc2lvbiB7XG4gICAgaXNJbnNpZGUoZmlyc3RNZXRyaWMsIHNlY29uZE1ldHJpYykge1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMoZmlyc3RNZXRyaWMpO1xuXG4gICAgICAgIGlmIChmaXJzdE1ldHJpYy5sZWZ0IDwgc2Vjb25kTWV0cmljLmxlZnQgKyBzZWNvbmRNZXRyaWMud2lkdGggJiZcbiAgICAgICAgICAgIGZpcnN0TWV0cmljLmxlZnQgKyBmaXJzdE1ldHJpYy53aWR0aCA+IHNlY29uZE1ldHJpYy5sZWZ0ICYmXG4gICAgICAgICAgICBmaXJzdE1ldHJpYy50b3AgPCBzZWNvbmRNZXRyaWMudG9wICsgc2Vjb25kTWV0cmljLmhlaWdodCAmJlxuICAgICAgICAgICAgZmlyc3RNZXRyaWMuaGVpZ2h0ICsgZmlyc3RNZXRyaWMudG9wID4gc2Vjb25kTWV0cmljLnRvcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbn1cbiIsImltcG9ydCBldmVudHMgZnJvbSAnLi4vZXZlbnQvZXZlbnRzL2V2ZW50cyc7XG5cbmltcG9ydCB7IG1lcmdlIH0gZnJvbSAnbG9kYXNoJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQW5pbWF0YWJsZSB7XG4gICAgY29uc3RydWN0b3IoY29tcG9uZW50KSB7XG4gICAgICAgIHRoaXMuYW5pbWF0ZWRQcm9wZXJ0aWVzID0ge307XG4gICAgICAgIG1lcmdlKHRoaXMuYW5pbWF0ZWRQcm9wZXJ0aWVzLCBjb21wb25lbnQucHJvcGVydGllcyk7XG5cbiAgICAgICAgdGhpcy5hbmltYXRpb25zID0ge1xuXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc2V0QW5pbWF0aW9uKG5hbWUsIHRpbWUsIHRpbWVDb3VudCwgYW5pbWF0aW9uRnVuYykge1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnNbbmFtZV0gPSB7XG4gICAgICAgICAgICBhbmltYXRpb25GdW5jLFxuICAgICAgICAgICAgdGltZUNvdW50LFxuICAgICAgICAgICAgdGltZTogdGltZSAqIDEwMDAsXG4gICAgICAgICAgICBlbGFwc2VUaW1lOiAwLFxuICAgICAgICAgICAgYW5pbWF0aW9uVGltZVBhc3Q6IDBcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBkZWxldGVBbmltYXRpb24obmFtZSkge1xuICAgICAgICBkZWxldGUgdGhpcy5hbmltYXRpb25zW25hbWVdO1xuICAgIH1cblxuICAgIGFuaW1hdGUoY29udGV4dCwgY29tcG9uZW50LCBlbGFwc2VUaW1lKSB7XG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLmFuaW1hdGlvbnMpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgYSA9IHRoaXMuYW5pbWF0aW9uc1trZXlzW2ldXTtcblxuICAgICAgICAgICAgYS5hbmltYXRpb25GdW5jKGNvbnRleHQsIGNvbXBvbmVudC5wcm9wZXJ0aWVzLCB0aGlzLmFuaW1hdGVkUHJvcGVydGllcywgYS5lbGFwc2VUaW1lIC8gYS50aW1lLCBjb21wb25lbnQpO1xuXG4gICAgICAgICAgICBhLmVsYXBzZVRpbWUgKz0gZWxhcHNlVGltZTtcblxuICAgICAgICAgICAgaWYgKGEuZWxhcHNlVGltZSA+IGEudGltZSkge1xuICAgICAgICAgICAgICAgIGEuZWxhcHNlVGltZSA9IDA7XG4gICAgICAgICAgICAgICAgYS5hbmltYXRpb25UaW1lUGFzdCArPSAxO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRlZFByb3BlcnRpZXMgPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50LmhvdmVyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2UodGhpcy5hbmltYXRlZFByb3BlcnRpZXMsIGNvbXBvbmVudC5ob3ZlclByb3BlcnRpZXMpOyAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2UodGhpcy5hbmltYXRlZFByb3BlcnRpZXMsIGNvbXBvbmVudC5wcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoYS5hbmltYXRpb25UaW1lUGFzdCA+PSBhLnRpbWVDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5hbmltYXRpb25zW2tleXNbaV1dO1xuXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5oYW5kbGVycy5oYW5kbGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBjb21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBldmVudHMuQU5JTUFUSU9OLkFOSU1BVElPTl9FTkQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0eXBlOiAnQU5JTUFUSU9OJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25OYW1lOiBrZXlzW2ldXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gXG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgZXZlbnRzIGZyb20gJy4uL2V2ZW50cy9ldmVudHMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudHNIYW5kbGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpc1tldmVudHMuTU9VU0UuTU9VU0VfTU9WRV0gPSBbXTtcbiAgICAgICAgdGhpc1tldmVudHMuTU9VU0UuTU9VU0VfRE9XTl0gPSBbXTtcbiAgICAgICAgdGhpc1tldmVudHMuS0VZQk9BUkQuS0VZX1BSRVNTXSA9IFtdO1xuICAgICAgICB0aGlzW2V2ZW50cy5LRVlCT0FSRC5LRVlfRE9XTl0gPSBbXTtcbiAgICAgICAgdGhpc1tldmVudHMuQU5JTUFUSU9OLkFOSU1BVElPTl9FTkRdID0gW107XG4gICAgfVxuXG4gICAgaGFuZGxlKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGhhbmRsZXJzID0gdGhpc1tldmVudC50eXBlXTtcblxuICAgICAgICAvLyBpZiAoZXZlbnQudHlwZSAhPT0gZXZlbnRzLk1PVVNFLk1PVVNFX01PVkUgJiYgZXZlbnQudHlwZSAhPT0gZXZlbnRzLktFWUJPQVJELktFWV9QUkVTUykge1xuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coZXZlbnQpO1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgaWYgKGhhbmRsZXJzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBoYW5kbGVyIG9mIGhhbmRsZXJzKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlcihldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRFdmVudExpc3RlbmVyKG5hbWUsIGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzW25hbWVdKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdLnB1c2goZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiY29uc3QgY29udGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpLmdldENvbnRleHQoJzJkJyk7XG5cbmV4cG9ydCBjb25zdCBnZXRUZXh0V2lkdGhXaXRoRG9tID0gKHRleHQsIGZvbnRGYW1pbHksIGZvbnRTaXplKSA9PiB7XG4gICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcblxuICAgIHNwYW4uaW5uZXJUZXh0ID0gdGV4dDtcbiAgICBzcGFuLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICBzcGFuLnN0eWxlLndoaXRlU3BhY2UgPSAnbm93cmFwJztcbiAgICBzcGFuLnN0eWxlLmZvbnRGYW1pbHkgPSBmb250RmFtaWx5O1xuICAgIHNwYW4uc3R5bGUuZm9udFNpemUgPSBmb250U2l6ZTtcblxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc3Bhbik7XG5cbiAgICBjb25zdCB0ZXh0V2lkdGggPSBzcGFuLm9mZnNldFdpZHRoO1xuXG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzcGFuKTtcblxuICAgIHJldHVybiB0ZXh0V2lkdGg7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyA9ICh0ZXh0LCBmb250RmFtaWx5LCBmb250U2l6ZSkgPT4ge1xuICAgIGNvbnRleHQuZm9udCA9IGAke2ZvbnRTaXplfXB4ICR7Zm9udEZhbWlseX1gO1xuICAgIHJldHVybiBjb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpLndpZHRoO1xufTtcbiIsImltcG9ydCB7IG1lcmdlLCB1bmlxdWVJZCwgZ2V0IH0gZnJvbSAnbG9kYXNoJztcblxuaW1wb3J0IENvbGxpc2lvbiBmcm9tICcuLi8uLi9Db2xsaXNpb24vQ29sbGlzaW9uJztcbmltcG9ydCBBbmltYXRhYmxlIGZyb20gJy4uLy4uL0FuaW1hdGlvbi9BbmltYXRhYmxlJztcbmltcG9ydCBFdmVudHNIYW5kbGVyIGZyb20gJy4uLy4uL2V2ZW50L0V2ZW50c0hhbmRsZXIvRXZlbnRzSGFuZGxlcic7XG5pbXBvcnQgZXZlbnRzIGZyb20gJy4uLy4uL2V2ZW50L2V2ZW50cy9ldmVudHMnO1xuaW1wb3J0IExhYmVsIGZyb20gJy4vTGFiZWwnO1xuXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuL0NvbXBvbmVudCc7XG5pbXBvcnQgeyBnZXRUZXh0V2lkdGhXaXRoQ2FudmFzIH0gZnJvbSAnLi4vLi4vdXRpbHMvdGV4dFdpZHRoJztcblxuZXhwb3J0IGNsYXNzIENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IodG9wID0gMCwgbGVmdCA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgcGFyZW50Q29tcG9uZW50ID0gbnVsbCwgbmFtZSkge1xuICAgICAgICB0aGlzLnBhcmVudENvbXBvbmVudCA9IHBhcmVudENvbXBvbmVudDtcblxuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSB7fTtcblxuICAgICAgICB0aGlzLnByb3BlcnRpZXMuZHJhd0JvcmRlciA9IGZhbHNlO1xuICAgICAgICB0aGlzLnByb3BlcnRpZXMub3ZlcmZsb3cgPSAndmlzaWJsZSc7XG4gICAgICAgIHRoaXMuaG92ZXJlZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMucHJvcGVydGllcy5jb2xvciA9IHtcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwwLDAsMCknLFxuICAgICAgICAgICAgYm9yZGVyQ29sb3I6ICcjMDAwMDAwJyxcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzLnRvcCA9IHRvcDtcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzLmxlZnQgPSBsZWZ0O1xuICAgICAgICB0aGlzLnByb3BlcnRpZXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzLmhlaWdodCA9IGhlaWdodDtcblxuICAgICAgICB0aGlzLnByb3BlcnRpZXMuY3Vyc29yID0gJ2F1dG8nO1xuXG4gICAgICAgIHRoaXMuY29sbGlzaW9uID0gbmV3IENvbGxpc2lvbigpO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSBuZXcgQW5pbWF0YWJsZSh0aGlzKTtcblxuICAgICAgICB0aGlzLmhhbmRsZXJzID0gbmV3IEV2ZW50c0hhbmRsZXIoKTtcbiAgICAgICAgdGhpcy5oYW5kbGVycy5hZGRFdmVudExpc3RlbmVyKGV2ZW50cy5NT1VTRS5NT1VTRV9NT1ZFLCB0aGlzLmhhbmRsZUhvdmVyKTtcbiAgICAgICAgXG4gICAgICAgICh7IHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5jb252ZXJ0RnJvbVBlcmNlbnRhZ2VUb1BpeGVsKHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCkpO1xuXG4gICAgICAgIHRoaXMuaG92ZXJQcm9wZXJ0aWVzID0ge307XG5cbiAgICAgICAgbWVyZ2UodGhpcy5ob3ZlclByb3BlcnRpZXMsIHRoaXMucHJvcGVydGllcyk7XG5cbiAgICAgICAgdGhpcy5zZXRCb3VuZGluZ0NsaWVudFJlY3QodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICB0aGlzLnNjcm9sbFhPZmZzZXQgPSAwO1xuICAgICAgICB0aGlzLnNjcm9sbFlPZmZzZXQgPSAwO1xuXG4gICAgICAgIGlmIChwYXJlbnRDb21wb25lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudC5hZGRDb21wb25lbnQodGhpcywgbmFtZSk7XG4gICAgICAgICAgICBtZXJnZSh0aGlzLmluaXRpYWxCb3VuZGluZ0NsaWVudFJlY3QsIHRoaXMucHJvcGVydGllcy5ib3VuZGluZ0NsaWVudFJlY3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsQm91bmRpbmdDbGllbnRSZWN0ID0ge307XG4gICAgICAgICAgICBtZXJnZSh0aGlzLmluaXRpYWxCb3VuZGluZ0NsaWVudFJlY3QsIHRoaXMucHJvcGVydGllcy5ib3VuZGluZ0NsaWVudFJlY3QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudCkge1xuICAgICAgICB0aGlzLmhhbmRsZXJzLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgZXZlbnQpXG4gICAgfVxuXG4gICAgY29udmVydEZyb21QZXJjZW50YWdlVG9QaXhlbCh0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnRDb21wb25lbnQoKTtcbiAgICAgICAgbGV0IHBhcmVudFdpZHRoLCBwYXJlbnRIZWlnaHQ7XG4gICAgICAgIGNvbnN0IHJlZyA9IC8lLztcbiAgICAgICAgY29uc3QgZmxvb3IgPSBNYXRoLmZsb29yO1xuXG4gICAgICAgIGlmIChwYXJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHBhcmVudFdpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgICAgICBwYXJlbnRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAoeyB3aWR0aDogcGFyZW50V2lkdGgsIGhlaWdodDogcGFyZW50SGVpZ2h0IH0gPSBwYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiB0b3AgPT09ICdzdHJpbmcnICYmIHJlZy50ZXN0KHRvcCkpIHtcbiAgICAgICAgICAgIHRvcCA9IGZsb29yKHBhcnNlRmxvYXQodG9wKSAvIDEwMCAqIHBhcmVudEhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHlwZW9mIGxlZnQgPT09ICdzdHJpbmcnICYmIHJlZy50ZXN0KGxlZnQpKSB7XG4gICAgICAgICAgICBsZWZ0ID0gZmxvb3IocGFyc2VGbG9hdChsZWZ0KSAvIDEwMCAqIHBhcmVudFdpZHRoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2Ygd2lkdGggPT09ICdzdHJpbmcnICYmIHJlZy50ZXN0KHdpZHRoKSkge1xuICAgICAgICAgICAgd2lkdGggPSBmbG9vcihwYXJzZUZsb2F0KHdpZHRoKSAvIDEwMCAqIHBhcmVudFdpZHRoKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHR5cGVvZiBoZWlnaHQgPT09ICdzdHJpbmcnICYmIHJlZy50ZXN0KGhlaWdodCkpIHtcbiAgICAgICAgICAgIGhlaWdodCA9IGZsb29yKHBhcnNlRmxvYXQoaGVpZ2h0KSAvIDEwMCAqIHBhcmVudEhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9wLFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgdHJhdmVyc2UoY2FsbGJhY2spIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHRoaXMpO1xuICAgIH1cblxuICAgIGFsaWduQ2VudGVyKCkge1xuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmdldFBhcmVudENvbXBvbmVudCgpO1xuICAgICAgICBsZXQgcGFyZW50V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgbGV0IHBhcmVudEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcblxuICAgICAgICBpZiAocGFyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAoeyB3aWR0aDogcGFyZW50V2lkdGgsIGhlaWdodDogcGFyZW50SGVpZ2h0IH0gPSBwYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIGxldCBjZW50cmVkVG9wID0gTWF0aC5yb3VuZCgocGFyZW50SGVpZ2h0IC0gaGVpZ2h0KSAvIDIpO1xuICAgICAgICBsZXQgY2VudHJlZExlZnQgPSBNYXRoLnJvdW5kKChwYXJlbnRXaWR0aCAtIHdpZHRoKSAvIDIpO1xuXG4gICAgICAgIHRoaXMuc2V0Qm91bmRpbmdDbGllbnRSZWN0KGNlbnRyZWRUb3AsIGNlbnRyZWRMZWZ0LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9XG5cbiAgICBzZXRCYWNrZ3JvdW5kSW1hZ2UoaW1hZ2UgPSBudWxsKSB7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZEltYWdlID0gaW1hZ2U7XG5cbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZEltYWdlLnNldFNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgfVxuXG4gICAgY2FsY3VsYXRlVG90YWxXaWR0aENvbXBvbmVudChvLCBzdW1QYXRoLCBzdW0gLCBpbmRleCwgcHJvcCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGdldChvLCBwcm9wKTtcbiAgICAgICAgc3VtUGF0aFtTdHJpbmcoaW5kZXgpXSA9IHN1bSArIHZhbHVlO1xuICAgIH0gXG5cbiAgICBoYW5kbGVIb3ZlcihlKSB7XG4gICAgICAgIGNvbnN0IGMgPSBlLnRhcmdldDtcbiAgICAgICAgY29uc3QgY2FudmFzSFRNTCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2NhbnZhcycpO1xuICAgICAgICBpZiAoY2FudmFzSFRNTC5zdHlsZS5jdXJzb3IgIT09IGMucHJvcGVydGllcy5jdXJzb3IpIHtcbiAgICAgICAgICAgIGNhbnZhc0hUTUwuc3R5bGUuY3Vyc29yID0gYy5wcm9wZXJ0aWVzLmN1cnNvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjLmhvdmVyZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgIGMuaG92ZXJlZCA9IHRydWU7XG4gICAgICAgICAgICBtZXJnZShjLmFuaW1hdGlvbnMuYW5pbWF0ZWRQcm9wZXJ0aWVzLCBjLmhvdmVyUHJvcGVydGllcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFuaW1hdGlvbnMuYW5pbWF0ZWRQcm9wZXJ0aWVzLmJvdW5kaW5nQ2xpZW50UmVjdDtcbiAgICB9XG5cbiAgICBnZXRDbGlwcGVkQm91bmRpbmdDbGllbnRSZWN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRpb25zLmFuaW1hdGVkUHJvcGVydGllcy5jbGlwcGVkQm91bmRpbmdDbGllbnRSZWN0O1xuICAgIH1cblxuICAgIHNldEhvdmVyZWQoaG92ZXJlZCkge1xuICAgICAgICBpZiAodGhpcy5ob3ZlcmVkICE9PSBob3ZlcmVkKSB7XG4gICAgICAgICAgICB0aGlzLmhvdmVyZWQgPSBob3ZlcmVkO1xuXG4gICAgICAgICAgICBpZiAoaG92ZXJlZCkge1xuICAgICAgICAgICAgICAgIG1lcmdlKHRoaXMuYW5pbWF0aW9ucy5hbmltYXRlZFByb3BlcnRpZXMsIHRoaXMuaG92ZXJQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWVyZ2UodGhpcy5hbmltYXRpb25zLmFuaW1hdGVkUHJvcGVydGllcywgdGhpcy5wcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldEJvdW5kaW5nQ2xpZW50UmVjdCh0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgY29uc3QgcHJldkJvdW5kaW5nQm94ID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICBsZXQgcHJldlRvcDtcbiAgICAgICAgbGV0IHByZXZMZWZ0O1xuICAgICAgICBsZXQgcHJldldpZHRoO1xuICAgICAgICBsZXQgcHJldkhlaWdodDtcblxuICAgICAgICBpZiAocHJldkJvdW5kaW5nQm94KSB7XG4gICAgICAgICAgICAoeyB0b3A6IHByZXZUb3AsIGxlZnQ6IHByZXZMZWZ0LCB3aWR0aDogcHJldldpZHRoLCBoZWlnaHQ6IHByZXZIZWlnaHQgfSA9IHByZXZCb3VuZGluZ0JveCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG9wID09PSB1bmRlZmluZWQgJiYgcHJldkJvdW5kaW5nQm94ICYmIHR5cGVvZiB0b3AgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIHRvcCA9IHByZXZUb3A7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGVmdCA9PT0gdW5kZWZpbmVkICYmIHByZXZCb3VuZGluZ0JveCAmJiB0eXBlb2YgbGVmdCAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgbGVmdCA9IHByZXZMZWZ0O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdpZHRoID09PSB1bmRlZmluZWQgJiYgcHJldkJvdW5kaW5nQm94ICYmIHR5cGVvZiB3aWR0aCAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgd2lkdGggPSBwcmV2V2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGVpZ2h0ID09PSB1bmRlZmluZWQgJiYgcHJldkJvdW5kaW5nQm94ICYmIHR5cGVvZiBoZWlnaHQgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGhlaWdodCA9IHByZXZIZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnByb3BlcnRpZXMudG9wID0gdG9wO1xuICAgICAgICB0aGlzLnByb3BlcnRpZXMubGVmdCA9IGxlZnQ7XG4gICAgICAgIHRoaXMucHJvcGVydGllcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLnByb3BlcnRpZXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgICAgIHRoaXMucHJvcGVydGllcy5ib3VuZGluZ0NsaWVudFJlY3QgPSB7XG4gICAgICAgICAgICB0b3AsXG4gICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQsXG4gICAgICAgICAgICByaWdodDogbGVmdCArIHdpZHRoLFxuICAgICAgICAgICAgYm90dG9tOiB0b3AgKyBoZWlnaHRcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMuYW5pbWF0ZWRQcm9wZXJ0aWVzLmJvdW5kaW5nQ2xpZW50UmVjdCA9IHt9O1xuICAgICAgICB0aGlzLmhvdmVyUHJvcGVydGllcy5ib3VuZGluZ0NsaWVudFJlY3QgPSB7fTtcbiAgICAgICAgbWVyZ2UodGhpcy5hbmltYXRpb25zLmFuaW1hdGVkUHJvcGVydGllcy5ib3VuZGluZ0NsaWVudFJlY3QsIHRoaXMucHJvcGVydGllcy5ib3VuZGluZ0NsaWVudFJlY3QpO1xuICAgICAgICBtZXJnZSh0aGlzLmhvdmVyUHJvcGVydGllcy5ib3VuZGluZ0NsaWVudFJlY3QsIHRoaXMucHJvcGVydGllcy5ib3VuZGluZ0NsaWVudFJlY3QpO1xuICAgIH1cblxuICAgIHNldEJvdW5kaW5nQ2xpcHBlZENsaWVudFJlY3QodG9wID0gMCwgbGVmdCA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCkge1xuICAgICAgICB0aGlzLnByb3BlcnRpZXMuY2xpcHBlZEJvdW5kaW5nQ2xpZW50UmVjdCA9IHtcbiAgICAgICAgICAgIHRvcCxcbiAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodCxcbiAgICAgICAgICAgIHJpZ2h0OiBsZWZ0ICsgd2lkdGgsXG4gICAgICAgICAgICBib3R0b206IHRvcCArIGhlaWdodFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5hbmltYXRlZFByb3BlcnRpZXMuY2xpcHBlZEJvdW5kaW5nQ2xpZW50UmVjdCA9IHt9O1xuICAgICAgICB0aGlzLmhvdmVyUHJvcGVydGllcy5jbGlwcGVkQm91bmRpbmdDbGllbnRSZWN0ID0ge307XG4gICAgICAgIG1lcmdlKHRoaXMuYW5pbWF0aW9ucy5hbmltYXRlZFByb3BlcnRpZXMuY2xpcHBlZEJvdW5kaW5nQ2xpZW50UmVjdCwgdGhpcy5wcm9wZXJ0aWVzLmNsaXBwZWRCb3VuZGluZ0NsaWVudFJlY3QpO1xuICAgICAgICBtZXJnZSh0aGlzLmhvdmVyUHJvcGVydGllcy5jbGlwcGVkQm91bmRpbmdDbGllbnRSZWN0LCB0aGlzLnByb3BlcnRpZXMuY2xpcHBlZEJvdW5kaW5nQ2xpZW50UmVjdCk7XG4gICAgfVxuXG4gICAgc2V0QmFja2dyb3VuZENvbG9yKGNvbG9yID0gJyMwMDAwMDAnKSB7XG4gICAgICAgIHRoaXMucHJvcGVydGllcy5jb2xvci5iYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5ob3ZlclByb3BlcnRpZXMuY29sb3IuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5hbmltYXRlZFByb3BlcnRpZXMuY29sb3IuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XG4gICAgfVxuXG4gICAgc2V0Qm9yZGVyQ29sb3IoY29sb3IgPSAnIzAwMDAwMCcpIHtcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzLmNvbG9yLmJvcmRlckNvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMuaG92ZXJQcm9wZXJ0aWVzLmNvbG9yLmJvcmRlckNvbG9yID0gY29sb3I7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5hbmltYXRlZFByb3BlcnRpZXMuY29sb3IuYm9yZGVyQ29sb3IgPSBjb2xvcjtcbiAgICB9XG5cbiAgICBzZXRQYXJlbnRDb21wb25lbnQocGFyZW50Q29tcG9uZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50Q29tcG9uZW50ID0gcGFyZW50Q29tcG9uZW50O1xuXG4gICAgICAgIGxldCB7IHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5wcm9wZXJ0aWVzO1xuICAgICAgICAoeyB0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuY29udmVydEZyb21QZXJjZW50YWdlVG9QaXhlbCh0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQpKTtcbiAgICAgICAgdGhpcy5zZXRCb3VuZGluZ0NsaWVudFJlY3QodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5pbml0aWFsQm91bmRpbmdDbGllbnRSZWN0ID0ge307XG4gICAgICAgIG1lcmdlKHRoaXMuaW5pdGlhbEJvdW5kaW5nQ2xpZW50UmVjdCwgdGhpcy5wcm9wZXJ0aWVzLmJvdW5kaW5nQ2xpZW50UmVjdCk7XG4gICAgfVxuXG4gICAgc2V0T3ZlcmZsb3cob3ZlcmZsb3cpIHtcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzLm92ZXJmbG93ID0gb3ZlcmZsb3c7XG4gICAgICAgIHRoaXMuaG92ZXJQcm9wZXJ0aWVzLm92ZXJmbG93ID0gb3ZlcmZsb3c7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5hbmltYXRlZFByb3BlcnRpZXMub3ZlcmZsb3cgPSBvdmVyZmxvdztcblxuICAgICAgICBpZiAob3ZlcmZsb3cgPT09ICdvdmVyZmxvdycpIHtcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlQ2xpcHBlZFNpemUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvdmVyZmxvdyA9PT0gJ3Njcm9sbCcpIHtcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsSGVpZ2h0ID0gdGhpcy5jYWxjdWxhdGVUb3RhbEhlaWdodENvbXBvbmVudCgpO1xuICAgICAgICAgICAgY29uc3QgdG90YWxXaWR0aCA9IHRoaXMuY2FsY3VsYXRlVG90YWxXaWR0aENvbXBvbmVudCgpO1xuXG4gICAgICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgICAgIGlmICh0b3RhbEhlaWdodCA+IGhlaWdodCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsWSA9IG5ldyBTY3JvbGxCYXIoJ3ZlcnRpY2FsJywgdG90YWxIZWlnaHQsIHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodG90YWxXaWR0aCA+IHdpZHRoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxYID0gbmV3IFNjcm9sbEJhcignaG9yaXpvbnRhbCcsIHRvdGFsV2lkdGgsIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2FsY3VsYXRlQ2xpcHBlZFNpemUoKSB7XG4gICAgICAgIHRoaXMudHJhdmVyc2UoKG8pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IG8uZ2V0UGFyZW50Q29tcG9uZW50KCk7XG5cbiAgICAgICAgICAgIGxldCB7IHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdCB9ID0gby5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcmVudEJveCA9IHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxlZnQgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvcCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRCb3gud2lkdGggPCByaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQgPSBwYXJlbnRCb3gud2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnRCb3guaGVpZ2h0IDwgYm90dG9tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG9wID4gcGFyZW50Qm94LnRvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbSA9IHRvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tID0gcGFyZW50Qm94LmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9IFxuXG4gICAgICAgICAgICBvLnNldEJvdW5kaW5nQ2xpcHBlZENsaWVudFJlY3QodG9wLCBsZWZ0LCBNYXRoLmFicyhyaWdodCAtIGxlZnQpLCBNYXRoLmFicyhib3R0b20gLSB0b3ApKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0UGFyZW50Q29tcG9uZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnRDb21wb25lbnQ7XG4gICAgfVxuXG4gICAgZ2V0QmFja2dyb3VuZEltYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5iYWNrZ3JvdW5kSW1hZ2U7XG4gICAgfVxuXG4gICAgZ2V0T3ZlcmZsb3coKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXMub3ZlcmZsb3c7XG4gICAgfVxuXG4gICAgYWRkQ29tcG9uZW50KGNvbXBvbmVudCkge1xuXG4gICAgfVxuXG4gICAgcmVtb3ZlQ29tcG9uZW50KGNvbXBvbmVudCkge1xuXG4gICAgfVxuXG4gICAgc2V0Q29udGV4dFByb3BlcnRpZXMoY29udGV4dCwgZWxhcHNlVGltZSkge1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnMuYW5pbWF0ZShjb250ZXh0LCB0aGlzLCBlbGFwc2VUaW1lKTtcbiAgICB9XG5cbiAgICBwYWludENvbXBvbmVudChjb250ZXh0LCBlbGFwc2VUaW1lKSB7XG4gICAgICAgIGxldCB7IHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgbGV0IGNvbG9yID0gdGhpcy5hbmltYXRpb25zLmFuaW1hdGVkUHJvcGVydGllcy5jb2xvcjtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuZHJhd0JvcmRlcikge1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IGNvbG9yLmJvcmRlckNvbG9yO1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2VSZWN0KGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yLmJhY2tncm91bmRDb2xvcjtcbiAgICAgICAgY29udGV4dC5maWxsUmVjdChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMub3ZlcmZsb3cgPT09ICdzY3JvbGwnIHx8IHRoaXMucHJvcGVydGllcy5vdmVyZmxvdyA9PT0gJ292ZXJmbG93Jykge1xuICAgICAgICAgICAgY29uc3QgcGF0aCA9IG5ldyBQYXRoMkQoKTtcbiAgICAgICAgICAgIHBhdGgucmVjdChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICAgICAgY29udGV4dC5jbGlwKHBhdGgsIFwibm9uemVyb1wiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmJhY2tncm91bmRJbWFnZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kSW1hZ2UuZHJhdyhjb250ZXh0LCBsZWZ0LCB0b3ApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZHJhd0NvbXBvbmVudChjb250ZXh0LCBlbGFwc2VUaW1lKSB7XG4gICAgICAgIHRoaXMuc2V0Q29udGV4dFByb3BlcnRpZXMoY29udGV4dCwgZWxhcHNlVGltZSk7XG4gICAgICAgIHRoaXMucGFpbnRDb21wb25lbnQoY29udGV4dCwgZWxhcHNlVGltZSk7XG4gICAgfVxuXG4gICAgZHJhdyhjb250ZXh0LCBlbGFwc2VUaW1lKSB7XG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnRDb21wb25lbnQoKTtcblxuICAgICAgICBpZiAocGFyZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShwYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCwgcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRyYXdDb21wb25lbnQoY29udGV4dCwgZWxhcHNlVGltZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGZvciAobGV0IG8gb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIG8uY29tcG9uZW50LmRyYXcoY29udGV4dCwgZWxhcHNlVGltZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb21wb3NpdGVDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHRvcCA9IDAsIGxlZnQgPSAwLCB3aWR0aCA9IDAsIGhlaWdodCA9IDAsIHBhcmVudENvbXBvbmVudCA9IG51bGwpIHtcbiAgICAgICAgc3VwZXIodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0LCBwYXJlbnRDb21wb25lbnQpO1xuXG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcbiAgICB9XG5cbiAgICBhZGRDb21wb25lbnQoY29tcG9uZW50LCBuYW1lKSB7XG4gICAgICAgIGNvbXBvbmVudC5zZXRQYXJlbnRDb21wb25lbnQodGhpcyk7XG5cbiAgICAgICAgaWYgKG5hbWUgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh7XG4gICAgICAgICAgICAgICAgY29tcG9uZW50LFxuICAgICAgICAgICAgICAgIG5hbWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnQsXG4gICAgICAgICAgICAgICAgbmFtZTogdW5pcXVlSWQoJ2NvbXBvbmVudCAnKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmVDb21wb25lbnQoY29tcG9uZW50KSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jaGlsZHJlbi5maW5kSW5kZXgoKHsgY29tcG9uZW50OiBjaGlsZENvbXBvbmVudCB9KSA9PiBjaGlsZENvbXBvbmVudCA9PT0gY29tcG9uZW50KTtcblxuICAgICAgICBpZiAoKH5pbmRleCkgIT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGdldENoaWxkQ29tcG9uZW50KGluZGV4KSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5kZXggPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPCBpbmRleCAmJiBpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW5baW5kZXhdLmNvbXBvbmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jaGlsZHJlbi5maW5kKGUgPT4gZS5uYW1lID09PSBpbmRleCk7ICBcblxuICAgICAgICByZXR1cm4gY2hpbGQgPyBjaGlsZC5jb21wb25lbnQgOiBudWxsOyAgXG4gICAgfVxuXG4gICAgZHJvcENoaWxkcmVuKCkge1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgfVxuXG4gICAgdHJhdmVyc2UoY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3Qgc3RvcCA9IGNhbGxiYWNrKHRoaXMpXG4gICAgICAgIGlmIChzdG9wKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGZvciAobGV0IG8gb2YgdGhpcy5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgY29tcG9uZW50IH0gPSBvO1xuICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQudHJhdmVyc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50LnRyYXZlcnNlKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdG9wID0gY2FsbGJhY2soY29tcG9uZW50KVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gXG4gICAgICAgIH0gXG4gICAgfVxuXG4gICAgc2V0U2Nyb2xsWU9mZmVyKHNjcm9sbFlPZmZlcikge1xuICAgICAgICB0aGlzLnNjcm9sbFlPZmZzZXQgPSBzY3JvbGxZT2ZmZXI7XG5cbiAgICAgICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKCh7IGNvbXBvbmVudCB9KSA9PiB7XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50IGluc3RhbmNlb2YgU2Nyb2xsQmFyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB7IHRvcCB9ID0gY29tcG9uZW50LmluaXRpYWxCb3VuZGluZ0NsaWVudFJlY3Q7IFxuICAgICAgICAgICAgY29tcG9uZW50LnNldEJvdW5kaW5nQ2xpZW50UmVjdCh0b3AgKyBzY3JvbGxZT2ZmZXIpO1xuXG4gICAgICAgICAgICBjb25zdCBiYWNrZ3JvdW5kSW1hZ2UgPSB0aGlzLmdldEJhY2tncm91bmRJbWFnZSgpO1xuXG4gICAgICAgICAgICBpZiAoYmFja2dyb3VuZEltYWdlKSB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlLnNldFNjcm9sbFlPZmZlcihiYWNrZ3JvdW5kSW1hZ2UueSArIHNjcm9sbFlPZmZlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgc2V0U2Nyb2xsWE9mZmVyKHNjcm9sbFhPZmZlcikge1xuICAgICAgICB0aGlzLnNjcm9sbFhPZmZzZXQgPSBzY3JvbGxYT2ZmZXI7XG5cbiAgICAgICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKCh7IGNvbXBvbmVudCB9KSA9PiB7XG4gICAgICAgICAgICBpZiAoY29tcG9uZW50IGluc3RhbmNlb2YgU2Nyb2xsQmFyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB7IGxlZnQgfSA9IGNvbXBvbmVudC5pbml0aWFsQm91bmRpbmdDbGllbnRSZWN0OyBcbiAgICAgICAgICAgIGNvbXBvbmVudC5zZXRCb3VuZGluZ0NsaWVudFJlY3QodW5kZWZpbmVkLCBsZWZ0ICsgc2Nyb2xsWE9mZmVyKTtcblxuICAgICAgICAgICAgY29uc3QgYmFja2dyb3VuZEltYWdlID0gdGhpcy5nZXRCYWNrZ3JvdW5kSW1hZ2UoKTtcblxuICAgICAgICAgICAgaWYgKGJhY2tncm91bmRJbWFnZSkge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZS5zZXRTY3JvbGxYT2ZmZXIoYmFja2dyb3VuZEltYWdlLnggKyBzY3JvbGxYT2ZmZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGNhbGN1bGF0ZVRvdGFsV2lkdGhDb21wb25lbnQoKSB7XG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbWF4Q29tcG9uZW50ID0gdGhpcy5jaGlsZHJlblswXS5jb21wb25lbnQ7XG4gICAgICAgIGNvbnN0IHsgbGVmdCwgd2lkdGggfSA9IG1heENvbXBvbmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICBsZXQgbWF4ID0gbGVmdCArIHdpZHRoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5jaGlsZHJlbltpXS5jb21wb25lbnQ7XG4gICAgICAgICAgICBsZXQgeyBsZWZ0LCB3aWR0aCB9ID0gY29tcG9uZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAobGVmdCArIHdpZHRoID4gbWF4KSB7XG4gICAgICAgICAgICAgICBtYXggPSBsZWZ0ICsgd2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbWF4O1xuICAgIH0gXG5cbiAgICBjYWxjdWxhdGVUb3RhbEhlaWdodENvbXBvbmVudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBtYXhDb21wb25lbnQgPSB0aGlzLmNoaWxkcmVuWzBdLmNvbXBvbmVudDtcbiAgICAgICAgY29uc3QgeyB0b3AsIGhlaWdodCB9ID0gbWF4Q29tcG9uZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgIGxldCBtYXggPSB0b3AgKyBoZWlnaHQ7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLmNoaWxkcmVuW2ldLmNvbXBvbmVudDtcbiAgICAgICAgICAgIGxldCB7IHRvcCwgaGVpZ2h0IH0gPSBjb21wb25lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh0b3AgKyBoZWlnaHQgPiBtYXgpIHtcbiAgICAgICAgICAgICAgIG1heCA9IHRvcCArIGhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXg7XG4gICAgfSBcblxuICAgIGNoZWNrRm9yQ29sbGlzaW9uKG9iamVjdE1ldHJpYykge1xuICAgICAgICBjb25zdCBlbGVtZW50SW5zaWRlID0gW107XG4gICAgICAgIGxldCBiaWdnZXN0RGVwdGggPSAxO1xuXG4gICAgICAgIHRoaXMudHJhdmVyc2UoKG8pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgdG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0IH0gPSBvLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgY29uc3Qgb0Nvb3JkID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodFxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgbGV0IGFic29sdXRlVG9wID0gMDtcbiAgICAgICAgICAgIGxldCBhYnNvbHV0ZUxlZnQgPSAwO1xuXG4gICAgICAgICAgICBsZXQgZGVwdGggPSAxO1xuXG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gby5nZXRQYXJlbnRDb21wb25lbnQoKTtcblxuICAgICAgICAgICAgY29uc3QgcGFyZW50T3ZlcmZsb3cgPSBbXTtcblxuICAgICAgICAgICAgd2hpbGUgKHBhcmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxldCB7IHRvcCwgbGVmdCB9ID0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgYWJzb2x1dGVUb3AgKz0gdG9wO1xuICAgICAgICAgICAgICAgIGFic29sdXRlTGVmdCArPSBsZWZ0O1xuXG4gICAgICAgICAgICAgICAgZGVwdGggKz0gMTtcblxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnQuZ2V0T3ZlcmZsb3coKSA9PT0gJ3Njcm9sbCcgfHwgcGFyZW50LmdldE92ZXJmbG93KCkgPT09ICdvdmVyZmxvdycpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50T3ZlcmZsb3cucHVzaChwYXJlbnQpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5nZXRQYXJlbnRDb21wb25lbnQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWJzb2x1dGVUb3AgKz0gdG9wO1xuICAgICAgICAgICAgYWJzb2x1dGVMZWZ0ICs9IGxlZnQ7XG5cbiAgICAgICAgICAgIG9Db29yZC50b3AgPSBhYnNvbHV0ZVRvcDtcbiAgICAgICAgICAgIG9Db29yZC5sZWZ0ID0gYWJzb2x1dGVMZWZ0O1xuXG4gICAgICAgICAgICBpZiAocGFyZW50T3ZlcmZsb3cubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJlbnRPdmVyZmxvdy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgeyB0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQgfSA9IHBhcmVudE92ZXJmbG93W2ldLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXJlbnRUb3AgPSB0b3A7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXJlbnRMZWZ0ID0gbGVmdDtcblxuICAgICAgICAgICAgICAgICAgICBsZXQgcCA9IHBhcmVudE92ZXJmbG93W2ldLmdldFBhcmVudENvbXBvbmVudCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChwICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgeyB0b3AsIGxlZnQgfSA9IHAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50VG9wICs9IHRvcDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudExlZnQgKz0gbGVmdDtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgcCA9IHAuZ2V0UGFyZW50Q29tcG9uZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiBcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcEJveCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogcGFyZW50VG9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogcGFyZW50TGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNJbnNpZGVQYXJlbnQgPSBvLmNvbGxpc2lvbi5pc0luc2lkZShwQm94LCBvQ29vcmQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNJbnNpZGVQYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5jb2xsaXNpb24uaXNJbnNpZGUob0Nvb3JkLCBvYmplY3RNZXRyaWMpKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudEluc2lkZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgbyxcbiAgICAgICAgICAgICAgICAgICAgZGVwdGhcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChkZXB0aCA+IGJpZ2dlc3REZXB0aCkge1xuICAgICAgICAgICAgICAgICAgICBiaWdnZXN0RGVwdGggPSBkZXB0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChlbGVtZW50SW5zaWRlLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRJbnNpZGU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbmNsYXNzIFNjcm9sbEJhciBleHRlbmRzIENvbXBvc2l0ZUNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3Iob3JpZW50YXRpb24sIGNoaWxkV2lkdGgsIHBhcmVudENvbXBvbmVudCkge1xuICAgICAgICBjb25zdCBoZWlnaHQgPSAxNztcblxuICAgICAgICBsZXQgcGFyZW50V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgbGV0IHBhcmVudEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcblxuICAgICAgICBpZiAocGFyZW50Q29tcG9uZW50KSB7XG4gICAgICAgICAgICAoeyB3aWR0aDogcGFyZW50V2lkdGgsIGhlaWdodDogcGFyZW50SGVpZ2h0IH0gPSBwYXJlbnRDb21wb25lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHdpZHRoO1xuXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJykgeyAgXG4gICAgICAgICAgICB3aWR0aCA9IHBhcmVudEhlaWdodDsgXG4gICAgICAgICAgICBzdXBlcigwLCBwYXJlbnRXaWR0aCAtIGhlaWdodCwgaGVpZ2h0LCB3aWR0aCwgcGFyZW50Q29tcG9uZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpZHRoID0gcGFyZW50V2lkdGg7IFxuICAgICAgICAgICAgc3VwZXIocGFyZW50SGVpZ2h0IC0gaGVpZ2h0LCAwLCB3aWR0aCwgaGVpZ2h0LCBwYXJlbnRDb21wb25lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jaGlsZFdpZHRoID0gY2hpbGRXaWR0aDtcblxuICAgICAgICB0aGlzLnNldEJhY2tncm91bmRDb2xvcignI0YxRjFGMScpO1xuXG4gICAgICAgIGxldCBwcmV2QnV0dG9uVGV4dCA9IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoJzI1YzQnLCAxNikpO1xuICAgICAgICBsZXQgbmV4dEJ1dHRvblRleHQgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KCcyNWJhJywgMTYpKTtcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgIHByZXZCdXR0b25UZXh0ID0gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludCgnMjViMicsIDE2KSk7XG4gICAgICAgICAgICBuZXh0QnV0dG9uVGV4dCA9IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoJzI1YmMnLCAxNikpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5vcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uXG5cbiAgICAgICAgbGV0IG5leHRCdXR0b247XG4gICAgICAgIGNvbnN0IHByZXZCdXR0b24gPSBuZXcgQnV0dG9uKDAsIDAsIGhlaWdodCwgaGVpZ2h0LCBwcmV2QnV0dG9uVGV4dCwgdGhpcyk7XG5cbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICBuZXh0QnV0dG9uID0gbmV3IEJ1dHRvbih3aWR0aCAtIDIgKiBoZWlnaHQsIDAsIGhlaWdodCwgaGVpZ2h0LCBuZXh0QnV0dG9uVGV4dCwgdGhpcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXh0QnV0dG9uID0gbmV3IEJ1dHRvbigwLCB3aWR0aCAtIDIgKiBoZWlnaHQsIGhlaWdodCwgaGVpZ2h0LCBuZXh0QnV0dG9uVGV4dCwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBwcmV2QnV0dG9uLnNldEJhY2tncm91bmRDb2xvcignI0YxRjFGMScpO1xuICAgICAgICBuZXh0QnV0dG9uLnNldEJhY2tncm91bmRDb2xvcignI0YxRjFGMScpO1xuXG4gICAgICAgIHByZXZCdXR0b24uaG92ZXJQcm9wZXJ0aWVzLmNvbG9yLmJhY2tncm91bmRDb2xvciA9ICcjRDJEMkQyJztcbiAgICAgICAgbmV4dEJ1dHRvbi5ob3ZlclByb3BlcnRpZXMuY29sb3IuYmFja2dyb3VuZENvbG9yID0gJyNEMkQyRDInO1xuXG4gICAgICAgIGxldCBzY3JvbGxCYWNrZ3JvdW5kO1xuXG4gICAgICAgIGNvbnN0IHNjcm9sbEJhY2tncm91bmRXaWR0aCA9IHdpZHRoIC0gMyAqIGhlaWdodDtcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgIHNjcm9sbEJhY2tncm91bmQgPSBuZXcgQ29tcG9zaXRlQ29tcG9uZW50KGhlaWdodCwgMCwgaGVpZ2h0LCBzY3JvbGxCYWNrZ3JvdW5kV2lkdGgsIHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2Nyb2xsQmFja2dyb3VuZCA9IG5ldyBDb21wb3NpdGVDb21wb25lbnQoMCwgaGVpZ2h0LCBzY3JvbGxCYWNrZ3JvdW5kV2lkdGgsIGhlaWdodCwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2Nyb2xsO1xuXG4gICAgICAgIGxldCBwYXJ0T2ZQYXJlbnQ7XG4gICAgICAgIFxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgIHBhcnRPZlBhcmVudCA9IHBhcmVudEhlaWdodCAvIGNoaWxkV2lkdGg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJ0T2ZQYXJlbnQgPSBwYXJlbnRXaWR0aCAvIGNoaWxkV2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgIHNjcm9sbCA9IG5ldyBDb21wb25lbnQoMCwgMiwgaGVpZ2h0IC0gNCwgTWF0aC5mbG9vcihwYXJ0T2ZQYXJlbnQgKiAoc2Nyb2xsQmFja2dyb3VuZFdpZHRoKSksIHNjcm9sbEJhY2tncm91bmQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2Nyb2xsID0gbmV3IENvbXBvbmVudCgyLCAwLCBNYXRoLmZsb29yKHBhcnRPZlBhcmVudCAqIChzY3JvbGxCYWNrZ3JvdW5kV2lkdGgpKSwgaGVpZ2h0IC0gNCwgc2Nyb2xsQmFja2dyb3VuZCk7XG4gICAgICAgIH1cblxuICAgICAgICBzY3JvbGwuc2V0QmFja2dyb3VuZENvbG9yKCcjQzFDMUMxJyk7XG5cbiAgICAgICAgdGhpcy5zY3JvbGxQb3MgPSAwO1xuICAgICAgICB0aGlzLnNjcm9sbFBvc01heCA9IHNjcm9sbEJhY2tncm91bmRXaWR0aCAtIE1hdGguZmxvb3IocGFydE9mUGFyZW50ICogKHNjcm9sbEJhY2tncm91bmRXaWR0aCkpO1xuXG4gICAgICAgIHRoaXMucGFydE9mUGFyZW50ID0gcGFydE9mUGFyZW50O1xuXG4gICAgICAgIGxldCBwYXJBbmRDaGlsZERpZjtcblxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgIHBhckFuZENoaWxkRGlmID0gY2hpbGRXaWR0aCAtIHBhcmVudEhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhckFuZENoaWxkRGlmID0gY2hpbGRXaWR0aCAtIHBhcmVudFdpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGN1cnJlbnRDaGlsZFBvcyA9IDA7XG4gICAgICAgIGxldCBwYXJ0ID0gMTAgLyB0aGlzLnNjcm9sbFBvc01heDtcblxuICAgICAgICBwcmV2QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLk1PVVNFLk1PVVNFX0RPV04sIChlKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5zY3JvbGxQb3MgKyAxMCA8IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFBvcyArPSAxMDtcbiAgICAgICAgICAgICAgICBjdXJyZW50Q2hpbGRQb3MgKz0gcGFydCAqIHBhckFuZENoaWxkRGlmO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFBvcyA9IDA7XG4gICAgICAgICAgICAgICAgY3VycmVudENoaWxkUG9zID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMub3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgICAgICBzY3JvbGwuc2V0Qm91bmRpbmdDbGllbnRSZWN0KC10aGlzLnNjcm9sbFBvcyk7XG4gICAgICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LnNldFNjcm9sbFlPZmZlcihjdXJyZW50Q2hpbGRQb3MpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzY3JvbGwuc2V0Qm91bmRpbmdDbGllbnRSZWN0KHVuZGVmaW5lZCwgLXRoaXMuc2Nyb2xsUG9zKTtcbiAgICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnQuc2V0U2Nyb2xsWE9mZmVyKGN1cnJlbnRDaGlsZFBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG5leHRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihldmVudHMuTU9VU0UuTU9VU0VfRE9XTiwgKGUpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNjcm9sbFBvcyAtIDEwID4gLXRoaXMuc2Nyb2xsUG9zTWF4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxQb3MgLT0gMTA7XG4gICAgICAgICAgICAgICAgY3VycmVudENoaWxkUG9zIC09IHBhcnQgKiBwYXJBbmRDaGlsZERpZjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxQb3MgPSAtdGhpcy5zY3JvbGxQb3NNYXg7XG4gICAgICAgICAgICAgICAgY3VycmVudENoaWxkUG9zID0gLXBhckFuZENoaWxkRGlmO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5vcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJykge1xuICAgICAgICAgICAgICAgIHNjcm9sbC5zZXRCb3VuZGluZ0NsaWVudFJlY3QoLXRoaXMuc2Nyb2xsUG9zKTtcbiAgICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnQuc2V0U2Nyb2xsWU9mZmVyKGN1cnJlbnRDaGlsZFBvcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjcm9sbC5zZXRCb3VuZGluZ0NsaWVudFJlY3QodW5kZWZpbmVkLCAtdGhpcy5zY3JvbGxQb3MpO1xuICAgICAgICAgICAgICAgIHBhcmVudENvbXBvbmVudC5zZXRTY3JvbGxYT2ZmZXIoY3VycmVudENoaWxkUG9zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSAgICBcbn1cblxuY2xhc3MgQnV0dG9uIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih0b3AgPSAwLCBsZWZ0ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwLCB0ZXh0ID0gJycsIHBhcmVudENvbXBvbmVudCA9IG51bGwpIHtcbiAgICAgICAgc3VwZXIodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0LCBwYXJlbnRDb21wb25lbnQpO1xuXG4gICAgICAgIGNvbnN0IHRleHRXaWR0aCA9IGdldFRleHRXaWR0aFdpdGhDYW52YXModGV4dCwgJ21vbm9zcGFjZScsICcxNnB4JylcblxuICAgICAgICB0aGlzLmxhYmVsID0gbmV3IExhYmVsKE1hdGguZmxvb3IoaGVpZ2h0IC8gMikgLSAxNiAvIDIsIE1hdGguZmxvb3Iod2lkdGggLyAyKSAtIE1hdGguZmxvb3IodGV4dFdpZHRoIC8gMiksIHRleHRXaWR0aCArIDEsIDE2LCB0ZXh0KTtcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzLmN1cnNvciA9ICdwb2ludGVyJztcbiAgICB9XG5cbiAgICBwYWludENvbXBvbmVudChjb250ZXh0LCBlbGFwc2VkVGltZSkgeyBcbiAgICAgICAgc3VwZXIucGFpbnRDb21wb25lbnQoY29udGV4dCwgZWxhcHNlZFRpbWUpO1xuXG4gICAgICAgIGNvbnN0IHsgdG9wLCBsZWZ0IH0gPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgXG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuXG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKGxlZnQsIHRvcCk7XG5cbiAgICAgICAgdGhpcy5sYWJlbC5kcmF3KGNvbnRleHQsIGVsYXBzZWRUaW1lKTtcblxuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBtZXJnZSB9IGZyb20gJ2xvZGFzaCc7XG5cbmltcG9ydCBldmVudHMgZnJvbSAnLi4vLi4vZXZlbnQvZXZlbnRzL2V2ZW50cyc7XG5pbXBvcnQgQ3Vyc29yIGZyb20gJy4uL0N1cnNvcic7XG5cbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJy4vQ29tcG9uZW50JztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGFiZWwgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHRvcCA9IDAsIGxlZnQgPSAwLCB3aWR0aCA9IDAsIGhlaWdodCA9IDAsIHRleHQgPSAnJywgcGFyZW50Q29tcG9uZW50ID0gbnVsbCkge1xuICAgICAgICBzdXBlcih0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQsIHBhcmVudENvbXBvbmVudCk7XG5cbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzLmNvbG9yLnRleHRDb2xvciA9ICcjMDAwMDAwJztcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzLnRleHRQcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgdGV4dEFsaWduOiAnbGVmdCcsXG4gICAgICAgICAgICB0ZXh0QmFzZWxpbmU6ICd0b3AnLFxuICAgICAgICAgICAgZm9udFNpemU6IDE2LFxuICAgICAgICAgICAgZm9udEZhbWlseTogJ21vbm9zcGFjZSdcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMubWF4VGV4dExlbmd0aCA9ICdpbmZpbml0ZSc7XG5cbiAgICAgICAgdGhpcy5lZGl0YWJsZSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuaGFuZGxlcnMuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMuTU9VU0UuTU9VU0VfRE9XTiwgdGhpcy5oYW5kbGVNb3VzZURvd24pO1xuICAgICAgICB0aGlzLmhhbmRsZXJzLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLktFWUJPQVJELktFWV9QUkVTUywgdGhpcy5oYW5kbGVLZXlQcmVzcyk7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMuS0VZQk9BUkQuS0VZX0RPV04sIHRoaXMuaGFuZGxlS2V5RG93bik7XG5cbiAgICAgICAgdGhpcy5saW5lc01ldHJpYyA9IFtdO1xuICAgICAgICB0aGlzLnRleHRMaW5lcyA9IFtdO1xuXG4gICAgICAgIHRoaXMuY3Vyc29yUG9zaXRpb24gPSB7XG4gICAgICAgICAgICByb3c6IDAsXG4gICAgICAgICAgICBjb2x1bW46IDAsXG4gICAgICAgICAgICBpbmRleDogMFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMucHJvcGVydGllcy5jdXJzb3IgPSAndGV4dCc7XG5cbiAgICAgICAgbWVyZ2UodGhpcy5hbmltYXRpb25zLmFuaW1hdGVkUHJvcGVydGllcywgdGhpcy5wcm9wZXJ0aWVzKTtcbiAgICAgICAgbWVyZ2UodGhpcy5ob3ZlclByb3BlcnRpZXMsIHRoaXMucHJvcGVydGllcyk7XG5cbiAgICAgICAgdGhpcy5uZWVkZWRUb1JlY2FsY3VsYXRlID0ge1xuICAgICAgICAgICAgbmVlZGVkOiB0cnVlLFxuICAgICAgICAgICAgcm93OiAwLFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuY3Vyc29yID0gbmV3IEN1cnNvcigwLCAwLCAxLCB0aGlzLnByb3BlcnRpZXMudGV4dFByb3BlcnRpZXMuZm9udFNpemUpO1xuICAgIH1cblxuICAgIGhhbmRsZU1vdXNlRG93bihlKSB7XG4gICAgICAgIGlmIChlLnRhcmdldC5lZGl0YWJsZSkge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XG5cbiAgICAgICAgICAgIGlmICh0YXJnZXQudGV4dCA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQuY3Vyc29yLnNldFBvc2l0aW9uKDAsIDApO1xuXG4gICAgICAgICAgICAgICAgdGFyZ2V0LmN1cnNvclBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICByb3c6IDAsXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbjogMCxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IDBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBsZXQgaXNJbnNpZGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGxldCBsaW5lID0gJyc7XG5cbiAgICAgICAgICAgIGNvbnN0IHsgdG9wLCBsZWZ0IH0gPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgICAgIGxldCB0b3BPZmZzZXQgPSB0b3A7XG4gICAgICAgICAgICBsZXQgbGVmdE9mZnNldCA9IGxlZnQ7XG5cbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSB0YXJnZXQuZ2V0UGFyZW50Q29tcG9uZW50KCk7XG5cbiAgICAgICAgICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHRvcCwgbGVmdCB9ID0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgIHRvcE9mZnNldCArPSB0b3A7XG4gICAgICAgICAgICAgICAgbGVmdE9mZnNldCArPSBsZWZ0O1xuXG4gICAgICAgICAgICAgICAgcGFyZW50ID0gcGFyZW50LmdldFBhcmVudENvbXBvbmVudCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBtb3VzZUNvb3JkID0ge1xuICAgICAgICAgICAgICAgIHRvcDogZS5wYXlsb2FkLm1vdXNlQ29vcmQudG9wLFxuICAgICAgICAgICAgICAgIGxlZnQ6IGUucGF5bG9hZC5tb3VzZUNvb3JkLmxlZnQsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAxXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhcmdldC5nbHlwaFBvc2l0aW9uLmxlbmd0aCAmJiAhaXNJbnNpZGU7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmUgPSB0YXJnZXQuZ2x5cGhQb3NpdGlvbltpXTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxpbmUubGVuZ3RoICYmICFpc0luc2lkZTsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0IH0gPSBsaW5lW2pdO1xuXG4gICAgICAgICAgICAgICAgaXNJbnNpZGUgPSB0YXJnZXQuY29sbGlzaW9uLmlzSW5zaWRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdG9wICsgdG9wT2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogbGVmdCArIGxlZnRPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBtb3VzZUNvb3JkXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIGlmIChpc0luc2lkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmN1cnNvci5zZXRQb3NpdGlvbih0b3AsIGxlZnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmN1cnNvclBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdzogaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW46IGosXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IHRhcmdldC50ZXh0TGluZXNbaV0uc3RhcnRPZkxpbmUgKyBqXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWlzSW5zaWRlKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0YXJnZXQubGluZXNNZXRyaWMubGVuZ3RoICYmICFpc0luc2lkZTsgaSsrKSB7IFxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCB9ID0gdGFyZ2V0LmxpbmVzTWV0cmljW2ldO1xuXG4gICAgICAgICAgICAgICAgaXNJbnNpZGUgPSB0YXJnZXQuY29sbGlzaW9uLmlzSW5zaWRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdG9wICsgdG9wT2Zmc2V0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogbGVmdCArIGxlZnRPZmZzZXQsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlQ29vcmRcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzSW5zaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5jdXJzb3Iuc2V0UG9zaXRpb24odG9wLCB3aWR0aCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LmN1cnNvclBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm93OiBpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uOiB0YXJnZXQuZ2x5cGhQb3NpdGlvbltpXS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogdGFyZ2V0LnRleHRMaW5lc1tpXS5zdGFydE9mTGluZSArIHRhcmdldC5nbHlwaFBvc2l0aW9uW2ldLmxlbmd0aFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaXNJbnNpZGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHRvcCwgd2lkdGggfSA9IHRhcmdldC5saW5lc01ldHJpY1t0YXJnZXQubGluZXNNZXRyaWMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgdGFyZ2V0LmN1cnNvci5zZXRQb3NpdGlvbih0b3AsIHdpZHRoKTtcblxuICAgICAgICAgICAgICAgIHRhcmdldC5jdXJzb3JQb3NpdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgcm93OiB0YXJnZXQubGluZXNNZXRyaWMubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiB0YXJnZXQuZ2x5cGhQb3NpdGlvblt0YXJnZXQuZ2x5cGhQb3NpdGlvbi5sZW5ndGggLSAxXS5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiB0YXJnZXQudGV4dExpbmVzW3RhcmdldC5nbHlwaFBvc2l0aW9uLmxlbmd0aCAtIDFdLnN0YXJ0T2ZMaW5lICsgdGFyZ2V0LmdseXBoUG9zaXRpb25bdGFyZ2V0LmdseXBoUG9zaXRpb24ubGVuZ3RoIC0gMV0ubGVuZ3RoXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZUtleVByZXNzKGUpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0LmVkaXRhYmxlKSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQubWF4VGV4dExlbmd0aCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LnRleHQubGVuZ3RoID49IHRhcmdldC5tYXhUZXh0TGVuZ3RoKSByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChlLnBheWxvYWQua2V5ID09PSAnRGVsZXRlJykgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKGUucGF5bG9hZC5rZXkgPT09ICdCYWNrc3BhY2UnKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoZS5wYXlsb2FkLmtleSA9PT0gJ0VudGVyJykgcmV0dXJuO1xuICAgICBcbiAgICAgICAgICAgIHRhcmdldC50ZXh0ID0gdGFyZ2V0Lmluc2VydEdseXBoKGUucGF5bG9hZC5rZXksIHRhcmdldC5jdXJzb3JQb3NpdGlvbi5pbmRleCwgdGFyZ2V0LnRleHQpO1xuICAgICAgICAgICAgdGFyZ2V0LmN1cnNvclBvc2l0aW9uLmluZGV4ICs9IDE7XG4gICAgXG4gICAgICAgICAgICB0YXJnZXQubmVlZGVkVG9SZWNhbGN1bGF0ZS5uZWVkZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGFuZGxlS2V5RG93bihlKSB7XG4gICAgICAgIGlmIChlLnRhcmdldC5lZGl0YWJsZSkge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICAgICAgICBsZXQga2V5ID0gZS5wYXlsb2FkLmtleTtcbiAgICAgICAgICAgIGxldCBpbmRleCA9IHRhcmdldC5jdXJzb3JQb3NpdGlvbi5pbmRleDtcblxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ0RlbGV0ZScpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPj0gdGFyZ2V0LnRleHQubGVuZ3RoKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICB0YXJnZXQudGV4dCA9IHRhcmdldC5kZWxldGVHbHlwaChpbmRleCwgdGFyZ2V0LnRleHQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdCYWNrc3BhY2UnKSB7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICB0YXJnZXQudGV4dCA9IHRhcmdldC5kZWxldGVHbHlwaChpbmRleCAtIDEsIHRhcmdldC50ZXh0KTtcbiAgICAgICAgICAgICAgICBpbmRleCAtPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0YXJnZXQuY3Vyc29yUG9zaXRpb24uaW5kZXggPSBpbmRleDtcblxuICAgICAgICAgICAgdGFyZ2V0Lm5lZWRlZFRvUmVjYWxjdWxhdGUubmVlZGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRlbGV0ZUdseXBoKGluZGV4LCBzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZy5zbGljZSgwLCBpbmRleCkgKyBzdHJpbmcuc2xpY2UoaW5kZXggKyAxKTtcbiAgICB9XG5cbiAgICBpbnNlcnRHbHlwaChrZXksIGluZGV4LCBzdHJpbmcpIHtcbiAgICAgICAgaWYgKGluZGV4ID49IHN0cmluZy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmcgKyBrZXk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBrZXkgKyBzdHJpbmc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKDAsIGluZGV4KSArIGtleSArIHN0cmluZy5zbGljZShpbmRleCk7XG4gICAgfVxuXG4gICAgZ2V0VGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dDtcbiAgICB9XG5cbiAgICBzZXRUZXh0KHRleHQgPSAnJykge1xuICAgICAgICB0aGlzLm5lZWRlZFRvUmVjYWxjdWxhdGUubmVlZGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB9XG5cbiAgICBzZXRGb250U2l6ZShmb250U2l6ZSA9IDE2KSB7XG4gICAgICAgIHRoaXMucHJvcGVydGllcy50ZXh0UHJvcGVydGllcy5mb250U2l6ZSA9IGZvbnRTaXplO1xuICAgIH1cblxuICAgIHNldFRleHRDb2xvcihjb2xvciA9ICcjMDAwMDAwJykge1xuICAgICAgICB0aGlzLnByb3BlcnRpZXMuY29sb3IudGV4dENvbG9yID0gY29sb3I7XG4gICAgfVxuXG4gICAgc2V0Rm9udChmb250KSB7XG4gICAgICAgIHRoaXMudGV4dFByb3BlcnRpZXMuZm9udCA9IGZvbnQ7XG4gICAgfVxuXG4gICAgc2V0Q3Vyc29yUG9zaXRpb25Gcm9tMkQocm93LCBjb2x1bW4pIHtcbiAgICAgICAgaWYgKHRoaXMuZ2x5cGhQb3NpdGlvbi5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIGlmIChjb2x1bW4gPj0gdGhpcy5nbHlwaFBvc2l0aW9uW3Jvd10ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJzb3Iuc2V0UG9zaXRpb24odGhpcy5nbHlwaFBvc2l0aW9uW3Jvd11bY29sdW1uIC0gMV0udG9wLCB0aGlzLmdseXBoUG9zaXRpb25bcm93XVtjb2x1bW4gLSAxXS5sZWZ0ICsgdGhpcy5nbHlwaFBvc2l0aW9uW3Jvd11bY29sdW1uIC0gMV0ud2lkdGgpOyAgXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yLnNldFBvc2l0aW9uKHRoaXMuZ2x5cGhQb3NpdGlvbltyb3ddW2NvbHVtbl0udG9wLCB0aGlzLmdseXBoUG9zaXRpb25bcm93XVtjb2x1bW5dLmxlZnQpOyAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnNvci5zZXRQb3NpdGlvbigwLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldENvbnRleHRQcm9wZXJ0aWVzKGNvbnRleHQsIGVsYXBzZWRUaW1lKSB7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5hbmltYXRpb25zLmFuaW1hdGVkUHJvcGVydGllcy5jb2xvci50ZXh0Q29sb3I7XG4gICAgICAgIGNvbnRleHQuZm9udCA9IGAke3RoaXMuYW5pbWF0aW9ucy5hbmltYXRlZFByb3BlcnRpZXMudGV4dFByb3BlcnRpZXMuZm9udFNpemV9cHggJHt0aGlzLmFuaW1hdGlvbnMuYW5pbWF0ZWRQcm9wZXJ0aWVzLnRleHRQcm9wZXJ0aWVzLmZvbnRGYW1pbHl9YDtcbiAgICAgICAgY29udGV4dC50ZXh0QWxpZ24gPSB0aGlzLmFuaW1hdGlvbnMuYW5pbWF0ZWRQcm9wZXJ0aWVzLnRleHRQcm9wZXJ0aWVzLnRleHRBbGlnbjtcbiAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSB0aGlzLmFuaW1hdGlvbnMuYW5pbWF0ZWRQcm9wZXJ0aWVzLnRleHRQcm9wZXJ0aWVzLnRleHRCYXNlbGluZTsgICAgIFxuXG4gICAgICAgIHN1cGVyLnNldENvbnRleHRQcm9wZXJ0aWVzKGNvbnRleHQsIGVsYXBzZWRUaW1lKVxuICAgIH1cblxuICAgIGNhbGN1bGF0ZUxpbmVzKGNvbnRleHQpIHtcbiAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoO1xuICAgICAgICBjb25zdCBmb250U2l6ZSA9IHRoaXMuYW5pbWF0aW9ucy5hbmltYXRlZFByb3BlcnRpZXMudGV4dFByb3BlcnRpZXMuZm9udFNpemU7XG4gICAgICAgIHRoaXMudGV4dExpbmVzID0gW107XG4gICAgICAgIHRoaXMubGluZXNNZXRyaWMgPSBbXTtcblxuICAgICAgICBsZXQgZ2x5cGhzID0gdGhpcy50ZXh0LnNwbGl0KCcnKTtcblxuICAgICAgICBsZXQgbGluZVdpZHRoID0gMDtcbiAgICAgICAgbGV0IGdseXBoV2lkdGggPSAwO1xuICAgICAgICBsZXQgc3RhcnRPZkxpbmUgPSAwO1xuICAgICAgICBsZXQgbGluZSA9ICcnO1xuICAgICAgICBnbHlwaHMuZm9yRWFjaCgoZ2x5cGgsIGkpID0+IHtcbiAgICAgICAgICAgIGdseXBoV2lkdGggPSBjb250ZXh0Lm1lYXN1cmVUZXh0KGdseXBoKS53aWR0aDtcblxuICAgICAgICAgICAgaWYgKGxpbmVXaWR0aCArIGdseXBoV2lkdGggPCB3aWR0aCkge1xuICAgICAgICAgICAgICAgIGxpbmUgKz0gZ2x5cGg7XG4gICAgICAgICAgICAgICAgbGluZVdpZHRoICs9IGdseXBoV2lkdGg7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMubGluZXNNZXRyaWMucHVzaCh7XG4gICAgICAgICAgICAgICAgdG9wOiB0aGlzLnRleHRMaW5lcy5sZW5ndGggKiBmb250U2l6ZSxcbiAgICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBsaW5lV2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBmb250U2l6ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy50ZXh0TGluZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgc3RhcnRPZkxpbmUsXG4gICAgICAgICAgICAgICAgbGluZVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHN0YXJ0T2ZMaW5lICs9IGxpbmUubGVuZ3RoO1xuXG4gICAgICAgICAgICBnbHlwaFdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dChnbHlwaCkud2lkdGg7XG4gICAgICAgICAgICBsaW5lV2lkdGggPSBnbHlwaFdpZHRoO1xuICAgICAgICAgICAgbGluZSA9IGdseXBoO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAobGluZSAhPT0gJycpIHtcbiAgICAgICAgICAgIHRoaXMubGluZXNNZXRyaWMucHVzaCh7XG4gICAgICAgICAgICAgICAgdG9wOiB0aGlzLnRleHRMaW5lcy5sZW5ndGggKiBmb250U2l6ZSxcbiAgICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICAgIHdpZHRoOiBjb250ZXh0Lm1lYXN1cmVUZXh0KGxpbmUpLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogZm9udFNpemUsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy50ZXh0TGluZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0T2ZMaW5lLFxuICAgICAgICAgICAgICAgICAgICBsaW5lXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNhbGN1bGF0ZUdseXBoUG9zaXRpb24oY29udGV4dCk7XG4gICAgfVxuXG4gICAgY2FsY3VsYXRlR2x5cGhQb3NpdGlvbihjb250ZXh0KSB7XG4gICAgICAgIHRoaXMuZ2x5cGhQb3NpdGlvbiA9IFtdO1xuXG4gICAgICAgIGNvbnN0IGZvbnRTaXplID0gdGhpcy5hbmltYXRpb25zLmFuaW1hdGVkUHJvcGVydGllcy50ZXh0UHJvcGVydGllcy5mb250U2l6ZTtcbiAgICAgICAgdGhpcy50ZXh0TGluZXMuZm9yRWFjaCgoeyBsaW5lIH0sIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGdseXBoUG9zaXRpb24gPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGdseXBocyA9IGxpbmUuc3BsaXQoJycpO1xuXG4gICAgICAgICAgICBsZXQgbGluZVdpZHRoID0gMDtcblxuICAgICAgICAgICAgZ2x5cGhzLmZvckVhY2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IGNvbnRleHQubWVhc3VyZVRleHQoZSkud2lkdGg7XG5cbiAgICAgICAgICAgICAgICBnbHlwaFBvc2l0aW9uLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBnbHlwaDogZSxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogbGluZVdpZHRoLFxuICAgICAgICAgICAgICAgICAgICB0b3A6IGZvbnRTaXplICogaSxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGZvbnRTaXplXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgIGxpbmVXaWR0aCArPSB3aWR0aDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmdseXBoUG9zaXRpb24ucHVzaChnbHlwaFBvc2l0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29udmVydEluZGV4VG8yRFBvc2l0aW9uKGluZGV4KSB7XG4gICAgICAgIGxldCByb3cgPSAwO1xuICAgICAgICBsZXQgY29sdW1uID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRleHRMaW5lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMudGV4dExpbmVzW2ldLnN0YXJ0T2ZMaW5lIDwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICByb3cgPSBpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnRleHRMaW5lcy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgIGNvbHVtbiA9IGluZGV4IC0gdGhpcy50ZXh0TGluZXNbcm93XS5zdGFydE9mTGluZTtcblxuICAgICAgICAgICAgaWYgKGNvbHVtbiA+PSB0aGlzLmdseXBoUG9zaXRpb25bcm93XS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb2x1bW4gPSB0aGlzLmdseXBoUG9zaXRpb25bcm93XS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaW5kZXggPSB0aGlzLnRleHRMaW5lc1tyb3ddLnN0YXJ0T2ZMaW5lICsgY29sdW1uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29sdW1uID0gMDtcbiAgICAgICAgICAgIGluZGV4ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByb3csXG4gICAgICAgICAgICBjb2x1bW4sXG4gICAgICAgICAgICBpbmRleFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHBhaW50Q29tcG9uZW50KGNvbnRleHQsIGVsYXBzZWRUaW1lKSB7IFxuICAgICAgICBzdXBlci5wYWludENvbXBvbmVudChjb250ZXh0LCBlbGFwc2VkVGltZSk7XG4gICAgICAgIGxldCB7IHRvcCwgbGVmdCB9ID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcblxuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShsZWZ0LCB0b3ApO1xuICAgICAgICBpZiAodGhpcy5uZWVkZWRUb1JlY2FsY3VsYXRlLm5lZWRlZCkge1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVMaW5lcyhjb250ZXh0LCB0aGlzLnRleHQsIHRoaXMubmVlZGVkVG9SZWNhbGN1bGF0ZS5yb3cpO1xuXG4gICAgICAgICAgICBjb25zdCB7IHJvdywgY29sdW1uLCBpbmRleCB9ID0gdGhpcy5jb252ZXJ0SW5kZXhUbzJEUG9zaXRpb24odGhpcy5jdXJzb3JQb3NpdGlvbi5pbmRleCk7XG4gICAgICAgICAgICB0aGlzLmN1cnNvclBvc2l0aW9uLnJvdyA9IHJvdztcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yUG9zaXRpb24uY29sdW1uID0gY29sdW1uO1xuICAgICAgICAgICAgdGhpcy5jdXJzb3JQb3NpdGlvbi5pbmRleCA9IGluZGV4O1xuXG4gICAgICAgICAgICB0aGlzLnNldEN1cnNvclBvc2l0aW9uRnJvbTJEKHJvdywgY29sdW1uKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5uZWVkZWRUb1JlY2FsY3VsYXRlLm5lZWRlZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSB0aGlzLnByb3BlcnRpZXMuY29sb3IudGV4dENvbG9yO1xuICAgICAgICBjb250ZXh0LmZvbnQgPSBgJHt0aGlzLnByb3BlcnRpZXMudGV4dFByb3BlcnRpZXMuZm9udFNpemV9cHggJHt0aGlzLnByb3BlcnRpZXMudGV4dFByb3BlcnRpZXMuZm9udEZhbWlseX1gO1xuXG4gICAgICAgIHRoaXMudGV4dExpbmVzLmZvckVhY2goKHsgbGluZSB9LCBpKSA9PiB7ICAgICAgICBcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQobGluZSwgMCwgdGhpcy5saW5lc01ldHJpY1tpXS50b3ApO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5pc1NlbGVjdGVkICYmIHRoaXMuZWRpdGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yLmRyYXcoY29udGV4dCwgZWxhcHNlZFRpbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW1hZ2VDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKGltYWdlLCBkeCA9IDAsIGR5ID0gMCwgbmF0dXJhbFdpZHRoLCBuYXR1cmFsSGVpZ2h0LCBkV2lkdGgsIGRIZWlnaHQsIHN4ID0gMCwgc3kgPSAwLCBzV2lkdGgsIHNIZWlnaHQpIHtcbiAgICAgICAgdGhpcy5odG1sQ29tcG9uZW50ID0gaW1hZ2U7XG5cbiAgICAgICAgdGhpcy54ID0gZHg7XG4gICAgICAgIHRoaXMueSA9IGR5O1xuXG4gICAgICAgIGlmIChkV2lkdGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy53aWR0aCA9IGRXaWR0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkSGVpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gZEhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzV2lkdGggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zV2lkdGggPSBzV2lkdGg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc0hlaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnNIZWlnaHQgPSBzSGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5uYXR1cmFsV2lkdGggPSBuYXR1cmFsV2lkdGg7XG4gICAgICAgIHRoaXMubmF0dXJhbEhlaWdodCA9IG5hdHVyYWxIZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5vZmZzZXRYID0gMDtcbiAgICAgICAgdGhpcy5vZmZzZXRZID0gMDtcblxuICAgICAgICB0aGlzLnNjcm9sbFhPZmZzZXQgPSAwO1xuICAgICAgICB0aGlzLnNjcm9sbFlPZmZzZXQgPSAwO1xuXG5cbiAgICAgICAgdGhpcy5zeCA9IHN4O1xuICAgICAgICB0aGlzLnN5ID0gc3k7XG4gICAgfVxuXG4gICAgc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5yZWNhbGN1bGF0ZUZyYW1lcygpO1xuICAgIH1cblxuICAgIHNldFNjcm9sbFhPZmZlcih4KSB7XG4gICAgICAgIHRoaXMuc2Nyb2xsWE9mZnNldCA9IHg7XG4gICAgfVxuXG4gICAgc2V0U2Nyb2xsWU9mZmVyKHkpIHtcbiAgICAgICAgdGhpcy5zY3JvbGxZT2Zmc2V0ID0geTtcbiAgICB9XG5cbiAgICBzZXREWFBvc2l0aW9uKGR4LCBkeSkge1xuICAgICAgICB0aGlzLnggPSBkeDtcbiAgICAgICAgdGhpcy55ID0gZHk7XG4gICAgfVxuXG4gICAgcmVjYWxjdWxhdGVGcmFtZXMoKSB7XG4gICAgICAgIGlmICh0aGlzLm5hdHVyYWxXaWR0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnhGcmFtZXNDb3VudCA9IE1hdGguZmxvb3IoKHRoaXMubmF0dXJhbFdpZHRoIC0gdGhpcy5zeCkgLyB0aGlzLnNXaWR0aCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnhGcmFtZXNDb3VudCA8IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnhGcmFtZXNDb3VudCA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnhGcmFtZXNDb3VudCA9IDE7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgaWYgKHRoaXMubmF0dXJhbEhlaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnlGcmFtZXNDb3VudCA9IE1hdGguZmxvb3IoKHRoaXMubmF0dXJhbEhlaWdodCAtIHRoaXMuc3kpIC8gdGhpcy5zSGVpZ2h0KTtcblxuICAgICAgICAgICAgaWYgKHRoaXMueUZyYW1lc0NvdW50IDwgMSkge1xuICAgICAgICAgICAgICAgIHRoaXMueUZyYW1lc0NvdW50ID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMueUZyYW1lc0NvdW50ID0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3VycmVudFhGcmFtZSA9IDE7XG4gICAgICAgIHRoaXMuY3VycmVudFlGcmFtZSA9IDE7XG4gICAgfVxuXG4gICAgZ2V0SHRtbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaHRtbENvbXBvbmVudDtcbiAgICB9XG5cbiAgICBnZXRYRnJhbWVzQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnhGcmFtZXNDb3VudDtcbiAgICB9XG5cbiAgICBnZXRZRnJhbWVzQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnlGcmFtZXNDb3VudDtcbiAgICB9XG5cbiAgICBnZXRGcmFtZXNDb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueEZyYW1lc0NvdW50ICogdGhpcy55RnJhbWVzQ291bnQ7XG4gICAgfVxuXG4gICAgZ2V0UmVtYWluWEZyYW1lc0NvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy54RnJhbWVzQ291bnQgLSB0aGlzLmN1cnJlbnRYRnJhbWU7XG4gICAgfVxuXG4gICAgZ2V0UmVtYWluWUZyYW1lc0NvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy55RnJhbWVzQ291bnQgLSB0aGlzLmN1cnJlbnRZRnJhbWU7XG4gICAgfVxuXG4gICAgZ2V0UmVtYWluRnJhbWVzQ291bnQoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy54RnJhbWVzQ291bnQgLSB0aGlzLmN1cnJlbnRYRnJhbWUpICogKHRoaXMueUZyYW1lc0NvdW50IC0gdGhpcy5jdXJyZW50WUZyYW1lKTtcbiAgICB9XG5cbiAgICBzZXROZXh0RnJhbWUoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRYRnJhbWUgKyAxID4gdGhpcy54RnJhbWVzQ291bnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRZRnJhbWUgKyAxID4gdGhpcy55RnJhbWVzQ291bnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRYRnJhbWUgPSAxO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFlGcmFtZSA9IDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFlGcmFtZSArPSAxO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFhGcmFtZSA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRYRnJhbWUgKz0gMTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub2Zmc2V0WCA9IHRoaXMuc3ggKyB0aGlzLnNXaWR0aCAqICh0aGlzLmN1cnJlbnRYRnJhbWUgLSAxKTtcbiAgICAgICAgdGhpcy5vZmZzZXRZID0gdGhpcy5zeSArIHRoaXMuc0hlaWdodCAqICh0aGlzLmN1cnJlbnRZRnJhbWUgLSAxKTtcbiAgICB9XG5cbiAgICBzZXRGcmFtZShmcmFtZSkge1xuICAgICAgICBsZXQgZnJhbWVzQ291bnQgPSB0aGlzLmdldEZyYW1lc0NvdW50KCk7XG4gICAgICAgIGxldCBmcmFtZUNvdW50ID0gTWF0aC5mbG9vcihmcmFtZXNDb3VudCAqIGZyYW1lKSArIDE7XG5cbiAgICAgICAgaWYgKGZyYW1lQ291bnQgPiBmcmFtZXNDb3VudCkge1xuICAgICAgICAgICAgZnJhbWVDb3VudCA9IGZyYW1lc0NvdW50O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHhGcmFtZUNvdW50ID0gdGhpcy5nZXRYRnJhbWVzQ291bnQoKTtcblxuICAgICAgICBpZiAoZnJhbWVDb3VudCA8IHhGcmFtZUNvdW50KSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRYRnJhbWUgPSBmcmFtZUNvdW50O1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50WUZyYW1lID0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFlGcmFtZSA9IE1hdGguY2VpbChmcmFtZUNvdW50IC8geEZyYW1lQ291bnQpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50WEZyYW1lID0gZnJhbWVDb3VudCAtICgodGhpcy5jdXJyZW50WUZyYW1lIC0gMSkgKiB4RnJhbWVDb3VudCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9mZnNldFggPSB0aGlzLnN4ICsgdGhpcy5zV2lkdGggKiAodGhpcy5jdXJyZW50WEZyYW1lIC0gMSk7XG4gICAgICAgIHRoaXMub2Zmc2V0WSA9IHRoaXMuc3kgKyB0aGlzLnNIZWlnaHQgKiAodGhpcy5jdXJyZW50WUZyYW1lIC0gMSk7XG4gICAgfVxuXG4gICAgc2V0T2Zmc2V0KGZyYW1lKSB7XG4gICAgICAgIGxldCB3aWR0aE9mT25lTGluZSA9IHRoaXMubmF0dXJhbFdpZHRoIC0gdGhpcy5zV2lkdGg7XG4gICAgICAgIGxldCB3aWR0aCA9IHRoaXMuZ2V0WUZyYW1lc0NvdW50KCkgKiB3aWR0aE9mT25lTGluZTtcblxuICAgICAgICBsZXQgbmV3V2lkdGggPSBNYXRoLmZsb29yKHdpZHRoICogZnJhbWUpO1xuXG4gICAgICAgIGxldCBsaW5lc0NvdW50ID0gIE1hdGguZmxvb3IobmV3V2lkdGggLyB0aGlzLnNXaWR0aCk7XG5cbiAgICAgICAgdGhpcy5vZmZzZXRZID0gdGhpcy5zSGVpZ2h0ICogTWF0aC5mbG9vcihuZXdXaWR0aCAvIHdpZHRoT2ZPbmVMaW5lKTtcbiAgICAgICAgdGhpcy5vZmZzZXRYID0gbmV3V2lkdGggLSBsaW5lc0NvdW50ICogdGhpcy5zV2lkdGg7XG4gICAgfVxuXG4gICAgZHJhdyhjb250ZXh0LCB4LCB5KSB7XG4gICAgICAgIGxldCBsZWZ0ID0gdGhpcy54O1xuICAgICAgICBsZXQgdG9wID0gdGhpcy55O1xuXG4gICAgICAgIGlmICh4ICE9PSB1bmRlZmluZWQgJiYgeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBsZWZ0ID0geDtcbiAgICAgICAgICAgIHRvcCA9IHk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGlmICh0aGlzLndpZHRoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKHRoaXMuaHRtbENvbXBvbmVudCwgdGhpcy5vZmZzZXRYLCB0aGlzLm9mZnNldFksIHRoaXMuc1dpZHRoLCB0aGlzLnNIZWlnaHQsIGxlZnQgKyB0aGlzLnNjcm9sbFhPZmZzZXQsIHRvcCArIHRoaXMuc2Nyb2xsWU9mZnNldCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGhpcy5odG1sQ29tcG9uZW50LCBsZWZ0ICsgdGhpcy5zY3JvbGxYT2Zmc2V0LCB0b3AgKyB0aGlzLnNjcm9sbFlPZmZzZXQpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IExhYmVsIGZyb20gJy4vTGFiZWwnO1xuXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuL0NvbXBvbmVudCc7XG5pbXBvcnQgeyBnZXRUZXh0V2lkdGhXaXRoQ2FudmFzIH0gZnJvbSAnLi4vLi4vdXRpbHMvdGV4dFdpZHRoJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQnV0dG9uIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih0b3AgPSAwLCBsZWZ0ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwLCB0ZXh0ID0gJycsIHBhcmVudENvbXBvbmVudCA9IG51bGwpIHtcbiAgICAgICAgc3VwZXIodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0LCBwYXJlbnRDb21wb25lbnQpO1xuXG4gICAgICAgIGNvbnN0IHRleHRXaWR0aCA9IGdldFRleHRXaWR0aFdpdGhDYW52YXModGV4dCwgJ21vbm9zcGFjZScsICcxNnB4JylcblxuICAgICAgICB0aGlzLmxhYmVsID0gbmV3IExhYmVsKE1hdGguZmxvb3IoaGVpZ2h0IC8gMikgLSAxNiAvIDIsIE1hdGguZmxvb3Iod2lkdGggLyAyKSAtIE1hdGguZmxvb3IodGV4dFdpZHRoIC8gMiksIHRleHRXaWR0aCArIDEsIDE2LCB0ZXh0KTtcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzLmN1cnNvciA9ICdwb2ludGVyJztcbiAgICB9XG5cbiAgICBwYWludENvbXBvbmVudChjb250ZXh0LCBlbGFwc2VkVGltZSkgeyBcbiAgICAgICAgc3VwZXIucGFpbnRDb21wb25lbnQoY29udGV4dCwgZWxhcHNlZFRpbWUpO1xuXG4gICAgICAgIGNvbnN0IHsgdG9wLCBsZWZ0IH0gPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgXG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xuXG4gICAgICAgIGNvbnRleHQudHJhbnNsYXRlKGxlZnQsIHRvcCk7XG5cbiAgICAgICAgdGhpcy5sYWJlbC5kcmF3KGNvbnRleHQsIGVsYXBzZWRUaW1lKTtcblxuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgTGFiZWwgZnJvbSAnLi4vQ29tcG9uZW50L0xhYmVsJztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vQ29tcG9uZW50L0J1dHRvbic7XG5cbmltcG9ydCB7IENvbXBvc2l0ZUNvbXBvbmVudCB9IGZyb20gJy4uL0NvbXBvbmVudC9Db21wb25lbnQnO1xuaW1wb3J0IHsgZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyB9IGZyb20gJy4uLy4uL3V0aWxzL3RleHRXaWR0aCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHRJbnB1dE1vZGFsV2luZG93IGV4dGVuZHMgQ29tcG9zaXRlQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcih0b3AgPSAwLCBsZWZ0ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwLCBkZXNjcmlwdGlvblRleHQsIHBhcmVudENvbXBvbmVudCA9IG51bGwpIHtcbiAgICAgICAgc3VwZXIodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0LCBwYXJlbnRDb21wb25lbnQpO1xuXG4gICAgICAgIGNvbnN0IGhhbGZXaWR0aCA9IE1hdGguY2VpbCh3aWR0aCAvIDIpO1xuICAgICAgICBjb25zdCBoYWxmSGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCAvIDIpO1xuICAgICAgICBjb25zdCBoYWxmRGVzY3JpcHRpb25XaWR0aCA9IE1hdGguY2VpbCgoZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyhkZXNjcmlwdGlvblRleHQsICdtb25vc3BhY2UnLCAnMTZweCcpICsgMSkgLyAyKTtcbiAgICAgICAgY29uc3QgaGFsZlVzZXJJbnB1dFdpZHRoID0gTWF0aC5jZWlsKGhhbGZXaWR0aCAqIDAuNik7XG5cbiAgICAgICAgY29uc3Qgb25lR2x5cGhXaWR0aCA9IE1hdGguY2VpbChnZXRUZXh0V2lkdGhXaXRoQ2FudmFzKCd4JywgJ21vbm9zcGFjZScsICcxNnB4JykpO1xuXG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uID0gbmV3IExhYmVsKGhhbGZIZWlnaHQgLSAxMCAtIDIwIC0gMywgaGFsZldpZHRoIC0gaGFsZlVzZXJJbnB1dFdpZHRoLCBoYWxmRGVzY3JpcHRpb25XaWR0aCAqIDIsIDIwLCBkZXNjcmlwdGlvblRleHQpO1xuICAgICAgICBjb25zdCB1c2VySW5wdXQgPSBuZXcgTGFiZWwoaGFsZkhlaWdodCAtIDEwLCBoYWxmV2lkdGggLSBoYWxmVXNlcklucHV0V2lkdGgsIGhhbGZVc2VySW5wdXRXaWR0aCAqIDIsIDIwLCAnJyk7XG4gICAgICAgIGNvbnN0IGVudGVyQnV0dG9uID0gbmV3IEJ1dHRvbihoYWxmSGVpZ2h0ICogMiAtIDUwIC0gNSwgaGFsZldpZHRoICogMiAtIDEwMCAtIDUsIDEwMCwgNTAsICcnKTtcblxuICAgICAgICB1c2VySW5wdXQuZWRpdGFibGUgPSB0cnVlO1xuICAgICAgICB1c2VySW5wdXQuc2V0QmFja2dyb3VuZENvbG9yKCcjYmIwMDAwJyk7XG4gICAgICAgIHVzZXJJbnB1dC5tYXhUZXh0TGVuZ3RoID0gTWF0aC5mbG9vcihoYWxmVXNlcklucHV0V2lkdGggLyBvbmVHbHlwaFdpZHRoICogMik7XG4gICAgICAgIGRlc2NyaXB0aW9uLnNldEJhY2tncm91bmRDb2xvcignIzAwYmJiYicpO1xuXG4gICAgICAgIGVudGVyQnV0dG9uLnNldEJhY2tncm91bmRDb2xvcignI2FhYWFhYScpO1xuXG4gICAgICAgIHVzZXJJbnB1dC5zZXRUZXh0Q29sb3IoJyNGRkZGMDAnKTtcbiAgICAgICAgdXNlcklucHV0LmN1cnNvci5zZXRDb2xvcignIzA4QjYwMCcpO1xuXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb25LZXkgPSAnZGVzY3JpcHRpb24nO1xuICAgICAgICB0aGlzLnVzZXJJbnB1dEtleSA9ICd1c2VyaW5wdXQnO1xuICAgICAgICB0aGlzLmJ1dHRvbktleSA9ICdidXR0b24nO1xuXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGRlc2NyaXB0aW9uLCB0aGlzLmRlc2NyaXB0aW9uS2V5KTtcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQodXNlcklucHV0LCB0aGlzLnVzZXJJbnB1dEtleSk7XG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGVudGVyQnV0dG9uLCB0aGlzLmJ1dHRvbktleSk7XG4gICAgfVxuXG4gICAgYWRkQnV0dG9uRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudCkge1xuICAgICAgICB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMuYnV0dG9uS2V5KS5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGV2ZW50KTtcbiAgICB9XG5cbiAgICBnZXRPa0J1dHRvbkNvbXBvbmVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5idXR0b25LZXkpO1xuICAgIH1cblxuICAgIGdldERlc2NyaXB0aW9uQ29tcG9uZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGlsZENvbXBvbmVudCh0aGlzLmRlc2NyaXB0aW9uS2V5KTtcbiAgICB9XG5cbiAgICBnZXRJbnB1dFVzZXJDb21wb25lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMudXNlcklucHV0S2V5KTtcbiAgICB9XG5cbiAgICBnZXRJbnB1dFVzZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMudXNlcklucHV0S2V5KS50ZXh0O1xuICAgIH1cbn0iLCJpbXBvcnQgZXZlbnRzIGZyb20gJy4uLy4uL2V2ZW50L2V2ZW50cy9ldmVudHMnO1xyXG5pbXBvcnQgSW1hZ2VDb21wb25lbnQgZnJvbSAnLi4vSW1hZ2VDb21wb25lbnQvSW1hZ2VDb21wb25lbnQnO1xyXG5pbXBvcnQgTGFiZWwgZnJvbSAnLi4vQ29tcG9uZW50L0xhYmVsJztcclxuXHJcbmltcG9ydCB7IENvbXBvc2l0ZUNvbXBvbmVudCB9IGZyb20gJy4uL0NvbXBvbmVudC9Db21wb25lbnQnO1xyXG5pbXBvcnQgeyBnZXRUZXh0V2lkdGhXaXRoQ2FudmFzIH0gZnJvbSAnLi4vLi4vdXRpbHMvdGV4dFdpZHRoJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hZ2ljU2VsZWN0aW5nTW9kYWxXaW5kb3cgZXh0ZW5kcyBDb21wb3NpdGVDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IodG9wID0gMCwgbGVmdCA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgbWFnaWNzID0gW10sIGltYWdlcyA9IHt9LCBwYXJlbnRDb21wb25lbnQgPSBudWxsKSB7XHJcbiAgICAgICAgc3VwZXIodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0LCBwYXJlbnRDb21wb25lbnQpO1xyXG5cclxuICAgICAgICB0aGlzLm1hZ2ljcyA9IFsuLi5tYWdpY3NdO1xyXG4gICAgICAgIHRoaXMudG90YWxXaWR0aCA9IDA7XHJcblxyXG4gICAgICAgIGNvbnN0IGJhY2sgPSBpbWFnZXMuYmFjaztcclxuICAgICAgICBjb25zdCB7IG5hdHVyYWxXaWR0aDogYmFja1dpZHRoLCBuYXR1cmFsSGVpZ2h0OiBiYWNrSGVpZ2h0IH0gPSBiYWNrO1xyXG5cclxuICAgICAgICBjb25zdCBiYWNrSW1hZ2VDb21wb25lbnQgPSBuZXcgSW1hZ2VDb21wb25lbnQoYmFjaywgMCwgMCwgYmFja1dpZHRoLCBiYWNrSGVpZ2h0LCBiYWNrV2lkdGgsIGJhY2tIZWlnaHQsIDAsIDAsIGJhY2tXaWR0aCwgYmFja0hlaWdodCk7XHJcbiAgICAgICAgdGhpcy5zZXRCYWNrZ3JvdW5kSW1hZ2UoYmFja0ltYWdlQ29tcG9uZW50KTtcclxuXHJcbiAgICAgICAgdGhpcy5tYWdpY3MuZm9yRWFjaCgobWFnaWMpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZ3JhcGhpY0NvbXBvbmVudCA9IG1hZ2ljLmdldEdyYXBoaWNDb21wb25lbnQoKTtcclxuICAgICAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBncmFwaGljQ29tcG9uZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgbWFnaWNOYW1lID0gbWFnaWMuZ2V0TmFtZSgpO1xyXG4gICAgICAgICAgICBjb25zdCBtYWdpY05hbWVXaWR0aCA9IE1hdGguY2VpbChnZXRUZXh0V2lkdGhXaXRoQ2FudmFzKG1hZ2ljTmFtZSwgJ21vbm9zcGFjZScsICcxNnB4JykpO1xyXG5cclxuICAgICAgICAgICAgZ3JhcGhpY0NvbXBvbmVudC5zZXRCb3VuZGluZ0NsaWVudFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hZ2ljV2l0aE5hbWUgPSBuZXcgQ29tcG9zaXRlQ29tcG9uZW50KDUsIHRoaXMudG90YWxXaWR0aCArIDUsIHdpZHRoLCBoZWlnaHQgKyAzICsgMTYpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgbWFnaWNOYW1lTGFiZWwgPSBuZXcgTGFiZWwoMCwgMCwgbWFnaWNOYW1lV2lkdGgsIDE2LCBtYWdpY05hbWUpO1xyXG5cclxuICAgICAgICAgICAgbWFnaWNOYW1lTGFiZWwucHJvcGVydGllcy5jdXJzb3IgPSAnYXV0byc7XHJcblxyXG4gICAgICAgICAgICBtYWdpY1dpdGhOYW1lLmFkZENvbXBvbmVudChncmFwaGljQ29tcG9uZW50LCAncGljdHVyZScpO1xyXG4gICAgICAgICAgICBtYWdpY1dpdGhOYW1lLmFkZENvbXBvbmVudChtYWdpY05hbWVMYWJlbCwgJ25hbWUnKTtcclxuICAgICAgICAgICAgbWFnaWNOYW1lTGFiZWwuYWxpZ25DZW50ZXIoKTtcclxuXHJcbiAgICAgICAgICAgIG1hZ2ljTmFtZUxhYmVsLnNldEJvdW5kaW5nQ2xpZW50UmVjdChoZWlnaHQgKyAzKTtcclxuICAgICAgICAgICAgbWFnaWNOYW1lTGFiZWwuc2V0VGV4dENvbG9yKCcjRThENDc4Jyk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmFkZENvbXBvbmVudChtYWdpY1dpdGhOYW1lLCBtYWdpYy5nZXROYW1lKCkpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy50b3RhbFdpZHRoICs9IDUgKyB3aWR0aDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBcclxuICAgIGFkZE1hZ2ljU2VsZWN0aW5nRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudCkge1xyXG4gICAgICAgIHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5idXR0b25LZXkpXHJcbiAgICAgICAgdGhpcy5tYWdpY3MuZm9yRWFjaCgobWFnaWMpID0+IHtcclxuICAgICAgICAgICAgbWFnaWMuZ2V0R3JhcGhpY0NvbXBvbmVudCgpLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgZXZlbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbmRNYWdpY0J5R3JhcGhpY0NvbXBvbmVudChncmFwaGljQ29tcG9uZW50KSB7XHJcbiAgICAgICAgY29uc3QgbWFnaWMgPSB0aGlzLm1hZ2ljcy5maW5kKChtYWdpYykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtYWdpY0dyYXBoaWNDb21wb25lbnQgPSBtYWdpYy5nZXRHcmFwaGljQ29tcG9uZW50KCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gZ3JhcGhpY0NvbXBvbmVudCA9PT0gbWFnaWNHcmFwaGljQ29tcG9uZW50O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gbWFnaWMgPyBtYWdpYyA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgc2VsZWN0TWFnaWMoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTWFnaWNTZWxlY3RpbmdFdmVudExpc3RlbmVyKGV2ZW50cy5NT1VTRS5NT1VTRV9ET1dOLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShlLnRhcmdldC5nZXRQYXJlbnRDb21wb25lbnQoKS5nZXRQYXJlbnRDb21wb25lbnQoKS5maW5kTWFnaWNCeUdyYXBoaWNDb21wb25lbnQoZS50YXJnZXQpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9ICBcclxufVxyXG4iLCJpbXBvcnQgTGFiZWwgZnJvbSAnLi9MYWJlbCc7XHJcblxyXG5pbXBvcnQgeyBDb21wb25lbnQsIENvbXBvc2l0ZUNvbXBvbmVudCB9IGZyb20gJy4vQ29tcG9uZW50JztcclxuaW1wb3J0IHsgZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyB9IGZyb20gJy4uLy4uL3V0aWxzL3RleHRXaWR0aCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9ncmVzc0JhciBleHRlbmRzIENvbXBvc2l0ZUNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0b3AgPSAwLCBsZWZ0ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwLCBtaW5WYWx1ZSwgbWF4VmFsdWUsIGluaXRpYWxWYWx1ZSwgcGFyZW50Q29tcG9uZW50ID0gbnVsbCkge1xyXG4gICAgICAgIHN1cGVyKHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCwgcGFyZW50Q29tcG9uZW50KTtcclxuXHJcbiAgICAgICAgdGhpcy5taW5WYWx1ZSA9IG1pblZhbHVlO1xyXG4gICAgICAgIHRoaXMubWF4VmFsdWUgPSBtYXhWYWx1ZTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IGluaXRpYWxWYWx1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5vbmVJblBpeGVsID0gKHdpZHRoIC0gMikgLyAobWF4VmFsdWUgLSBtaW5WYWx1ZSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJhckNvbXBvbmVudCA9IG5ldyBDb21wb25lbnQoMSwgMSwgdGhpcy5vbmVJblBpeGVsICogKGluaXRpYWxWYWx1ZSAtIG1pblZhbHVlKSwgaGVpZ2h0IC0gMik7XHJcbiAgICAgICAgYmFyQ29tcG9uZW50LnNldEJhY2tncm91bmRDb2xvcignI2FhMDAwMCcpO1xyXG4gICAgICAgIHRoaXMuc2V0QmFja2dyb3VuZENvbG9yKCcjZmZmZmZmJyk7XHJcblxyXG4gICAgICAgIHRoaXMuYmFyQ29tcG9uZW50S2V5ID0gJ2Jhcic7XHJcblxyXG4gICAgICAgIGNvbnN0IGxhYmVsVGV4dCA9IGAke2luaXRpYWxWYWx1ZX0vJHttYXhWYWx1ZX1gO1xyXG5cclxuICAgICAgICBjb25zdCB0ZXh0V2lkdGggPSBNYXRoLmNlaWwoZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyhsYWJlbFRleHQsJ21vbm9zcGFjZScsIDE2KSkgKyAxO1xyXG5cclxuICAgICAgICBjb25zdCBsYWJlbCA9IG5ldyBMYWJlbCgwICwgMCwgdGV4dFdpZHRoLCAxNiwgbGFiZWxUZXh0KTtcclxuXHJcbiAgICAgICAgdGhpcy5sYWJlbENvbXBvbmVudEtleSA9ICdsYWJlbCc7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGJhckNvbXBvbmVudCwgdGhpcy5iYXJDb21wb25lbnRLZXkpO1xyXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGxhYmVsLCB0aGlzLmxhYmVsQ29tcG9uZW50S2V5KTtcclxuXHJcbiAgICAgICAgbGFiZWwuYWxpZ25DZW50ZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRUZXh0Q29tcG9uZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMubGFiZWxDb21wb25lbnRLZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEJhckNvbXBvbmVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGlsZENvbXBvbmVudCh0aGlzLmJhckNvbXBvbmVudEtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QmFyQ29sb3IoY29sb3IgPSAnI2FhMDAwMCcpIHtcclxuICAgICAgICB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMuYmFyQ29tcG9uZW50S2V5KS5zZXRCYWNrZ3JvdW5kQ29sb3IoY29sb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFZhbHVlKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICBjb25zdCBiYXIgPSB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMuYmFyQ29tcG9uZW50S2V5KTtcclxuICAgICAgICBjb25zdCB7IHRvcCwgbGVmdCwgaGVpZ2h0IH0gPSBiYXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgICAgIGJhci5zZXRCb3VuZGluZ0NsaWVudFJlY3QodG9wLCBsZWZ0LCBNYXRoLmZsb29yKHZhbHVlICogdGhpcy5vbmVJblBpeGVsKSwgaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgY29uc3QgbGFiZWxUZXh0ID0gYCR7dmFsdWV9LyR7dGhpcy5tYXhWYWx1ZX1gO1xyXG4gICAgICAgIGNvbnN0IGxhYmVsID0gdGhpcy5nZXRDaGlsZENvbXBvbmVudCh0aGlzLmxhYmVsQ29tcG9uZW50S2V5KTtcclxuICAgICAgICBsYWJlbC5zZXRUZXh0KGxhYmVsVGV4dCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgaGVpZ2h0OiBoZWlnaHRMYWJlbCB9ID0gbGFiZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHRleHRXaWR0aCA9IE1hdGguY2VpbChnZXRUZXh0V2lkdGhXaXRoQ2FudmFzKGxhYmVsVGV4dCwnbW9ub3NwYWNlJywgMTYpKSArIDE7XHJcblxyXG4gICAgICAgIGxhYmVsLnNldEJvdW5kaW5nQ2xpZW50UmVjdCgwLCAwLCB0ZXh0V2lkdGgsIGhlaWdodExhYmVsKTtcclxuICAgICAgICBsYWJlbC5hbGlnbkNlbnRlcigpO1xyXG4gICAgfVxyXG4gfVxyXG5cclxuIiwiaW1wb3J0IEltYWdlQ29tcG9uZW50IGZyb20gXCIuLi9JbWFnZUNvbXBvbmVudC9JbWFnZUNvbXBvbmVudFwiO1xyXG5cclxuaW1wb3J0IHsgQ29tcG9uZW50LCBDb21wb3NpdGVDb21wb25lbnQgfSBmcm9tIFwiLi9Db21wb25lbnRcIjtcclxuaW1wb3J0IHsgZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyB9IGZyb20gXCIuLi8uLi91dGlscy90ZXh0V2lkdGhcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN0YXR1c0JhciBleHRlbmRzIENvbXBvc2l0ZUNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0b3AgPSAwLCBsZWZ0ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwLCBpbWFnZXMgPSB7fSwgcGFyZW50Q29tcG9uZW50ID0gbnVsbCkge1xyXG4gICAgICAgIHN1cGVyKHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCwgcGFyZW50Q29tcG9uZW50KTtcclxuXHJcbiAgICAgICAgdGhpcy5lbmVteUluZm9XaW5kb3dLZXkgPSAnZW5lbXknO1xyXG4gICAgICAgIHRoaXMucGxheWVySW5mb1dpbmRvd0tleSA9ICdwbGF5ZXInO1xyXG5cclxuICAgICAgICBjb25zdCBiYWNrID0gaW1hZ2VzLmJhY2s7XHJcbiAgICAgICAgY29uc3QgbGVmdEltZyA9IGltYWdlcy5sZWZ0O1xyXG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gaW1hZ2VzLnJpZ2h0O1xyXG4gICAgXHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGg6IGJhY2tXaWR0aCwgbmF0dXJhbEhlaWdodDogYmFja0hlaWdodCB9ID0gYmFjaztcclxuICAgICAgICBjb25zdCB7IG5hdHVyYWxXaWR0aDogbGVmdFdpZHRoLCBuYXR1cmFsSGVpZ2h0OiBsZWZ0SGVpZ2h0IH0gPSBsZWZ0SW1nO1xyXG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoOiByaWdodFdpZHRoLCBuYXR1cmFsSGVpZ2h0OiByaWdodEhlaWdodCB9ID0gcmlnaHQ7XHJcblxyXG4gICAgICAgIGNvbnN0IGJhY2tJbWdDb21wb25lbnQgPSBuZXcgSW1hZ2VDb21wb25lbnQoYmFjaywgMCwgMCwgYmFja1dpZHRoLCBiYWNrSGVpZ2h0LCBiYWNrV2lkdGgsIGJhY2tIZWlnaHQsIDAsIDAsIGJhY2tXaWR0aCwgYmFja0hlaWdodCk7XHJcbiAgICAgICAgY29uc3QgbGVmdEltZ0NvbXBvbmVudCA9IG5ldyBJbWFnZUNvbXBvbmVudChsZWZ0SW1nLCAwLCAwLCBsZWZ0V2lkdGgsIGxlZnRIZWlnaHQsIGxlZnRXaWR0aCwgbGVmdEhlaWdodCwgMCwgMCwgbGVmdFdpZHRoLCBsZWZ0SGVpZ2h0KTtcclxuICAgICAgICBjb25zdCByaWdodEltZ0NvbXBvbmVudCA9IG5ldyBJbWFnZUNvbXBvbmVudChyaWdodCwgMCwgMCwgcmlnaHRXaWR0aCwgcmlnaHRIZWlnaHQsIHJpZ2h0V2lkdGgsIHJpZ2h0SGVpZ2h0LCAwLCAwLCByaWdodFdpZHRoLCByaWdodEhlaWdodCk7XHJcbiAgICAgXHJcbiAgICAgICAgbGV0IHRvdGFsV2lkdGggPSAwO1xyXG5cclxuICAgICAgICB3aGlsZSAodG90YWxXaWR0aCA8IHdpZHRoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IG5ldyBDb21wb25lbnQoMCwgdG90YWxXaWR0aCwgYmFja1dpZHRoLCBiYWNrSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5zZXRCYWNrZ3JvdW5kSW1hZ2UoYmFja0ltZ0NvbXBvbmVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGNvbXBvbmVudCk7XHJcblxyXG4gICAgICAgICAgICB0b3RhbFdpZHRoICs9IGJhY2tXaWR0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGxlZnRDb21wb25lbnQgPSBuZXcgQ29tcG9uZW50KDAsIDAsIGxlZnRXaWR0aCwgbGVmdEhlaWdodCk7XHJcblxyXG4gICAgICAgIGxlZnRDb21wb25lbnQuc2V0QmFja2dyb3VuZEltYWdlKGxlZnRJbWdDb21wb25lbnQpO1xyXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGxlZnRDb21wb25lbnQpO1xyXG5cclxuICAgICAgICBjb25zdCByaWdodENvbXBvbmVudCA9IG5ldyBDb21wb25lbnQoMCwgd2lkdGggLSByaWdodFdpZHRoLCByaWdodFdpZHRoLCByaWdodEhlaWdodCk7XHJcblxyXG4gICAgICAgIHJpZ2h0Q29tcG9uZW50LnNldEJhY2tncm91bmRJbWFnZShyaWdodEltZ0NvbXBvbmVudCk7XHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQocmlnaHRDb21wb25lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBsYXllckluZm9XaW5kb3coKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5wbGF5ZXJJbmZvV2luZG93S2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRFbmVteUluZm9XaW5kb3coKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5lbmVteUluZm9XaW5kb3dLZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEVuZW15SW5mb1dpbmRvdyhlbmVteUluZm9XaW5kb3cpIHtcclxuICAgICAgICBjb25zdCBlbmVteSA9IHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5lbmVteUluZm9XaW5kb3dLZXkpO1xyXG5cclxuICAgICAgICBpZiAoZW5lbXkpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVDb21wb25lbnQoZW5lbXkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoZW5lbXlJbmZvV2luZG93LCB0aGlzLmVuZW15SW5mb1dpbmRvd0tleSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UGxheWVySW5mb1dpbmRvdyhwbGF5ZXJJbmZvV2luZG93KSB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5nZXRDaGlsZENvbXBvbmVudCh0aGlzLnBsYXllckluZm9XaW5kb3dLZXkpO1xyXG5cclxuICAgICAgICBpZiAocGxheWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ29tcG9uZW50KHBsYXllcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChwbGF5ZXJJbmZvV2luZG93LCB0aGlzLnBsYXllckluZm9XaW5kb3dLZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEVuZW15SW5mbyhuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgIGNvbnN0IGVuZW15ID0gdGhpcy5nZXRDaGlsZENvbXBvbmVudCh0aGlzLmVuZW15SW5mb1dpbmRvd0tleSk7XHJcbiAgICAgICAgZW5lbXkuZ2V0Q2hpbGRDb21wb25lbnQoZW5lbXkuaGVhbHRoQmFyS2V5KS5zZXRWYWx1ZSh2YWx1ZSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxhYmVsID0gZW5lbXkuZ2V0Q2hpbGRDb21wb25lbnQoZW5lbXkubmFtZUxhYmVsS2V5KTtcclxuICAgICAgICBsYWJlbC5zZXRUZXh0KG5hbWUpO1xyXG5cclxuICAgICAgICBjb25zdCB7IHRvcCwgbGVmdCwgaGVpZ2h0IH0gPSBsYWJlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBjb25zdCBuYW1lV2lkdGggPSBNYXRoLmNlaWwoZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyhuYW1lLCBsYWJlbC5wcm9wZXJ0aWVzLnRleHRQcm9wZXJ0aWVzLmZvbnRGYW1pbHksIGxhYmVsLnByb3BlcnRpZXMudGV4dFByb3BlcnRpZXMuZm9udFNpemUpKTtcclxuXHJcbiAgICAgICAgbGFiZWwuc2V0Qm91bmRpbmdDbGllbnRSZWN0KHRvcCwgbGVmdCwgbmFtZVdpZHRoLCBoZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFBsYXllckluZm8obmFtZSwgdmFsdWUpIHtcclxuICAgICAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMucGxheWVySW5mb1dpbmRvd0tleSk7XHJcbiAgICAgICAgcGxheWVyLmdldENoaWxkQ29tcG9uZW50KHBsYXllci5oZWFsdGhCYXJLZXkpLnNldFZhbHVlKHZhbHVlKTtcclxuXHJcbiAgICAgICAgY29uc3QgbGFiZWwgPSBwbGF5ZXIuZ2V0Q2hpbGRDb21wb25lbnQocGxheWVyLm5hbWVMYWJlbEtleSk7XHJcbiAgICAgICAgbGFiZWwuc2V0VGV4dChuYW1lKTtcclxuXHJcbiAgICAgICAgY29uc3QgeyB0b3AsIGxlZnQsIGhlaWdodCB9ID0gbGFiZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgY29uc3QgbmFtZVdpZHRoID0gTWF0aC5jZWlsKGdldFRleHRXaWR0aFdpdGhDYW52YXMobmFtZSwgbGFiZWwucHJvcGVydGllcy50ZXh0UHJvcGVydGllcy5mb250RmFtaWx5LCBsYWJlbC5wcm9wZXJ0aWVzLnRleHRQcm9wZXJ0aWVzLmZvbnRTaXplKSk7XHJcblxyXG4gICAgICAgIGxhYmVsLnNldEJvdW5kaW5nQ2xpZW50UmVjdCh0b3AsIGxlZnQsIG5hbWVXaWR0aCwgaGVpZ2h0KTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgTGFiZWwgZnJvbSBcIi4vTGFiZWxcIjtcclxuaW1wb3J0IFByb2dyZXNzQmFyIGZyb20gXCIuL1Byb2dyZXNzQmFyXCI7XHJcbmltcG9ydCBJbWFnZUNvbXBvbmVudCBmcm9tIFwiLi4vSW1hZ2VDb21wb25lbnQvSW1hZ2VDb21wb25lbnRcIjtcclxuXHJcbmltcG9ydCB7IENvbXBvc2l0ZUNvbXBvbmVudCB9IGZyb20gXCIuL0NvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBnZXRUZXh0V2lkdGhXaXRoQ2FudmFzIH0gZnJvbSBcIi4uLy4uL3V0aWxzL3RleHRXaWR0aFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hhcmFjdGVySW5mb1dpbmRvdyBleHRlbmRzIENvbXBvc2l0ZUNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0b3AgPSAwLCBsZWZ0ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwLCBjaGFyYWN0ZXJOYW1lID0gJycsIG1pbkhQLCBtYXhIUCwgaW5pdGlhbEhQLCBpbWFnZXMgPSB7fSwgcGFyZW50Q29tcG9uZW50ID0gbnVsbCkge1xyXG4gICAgICAgIHN1cGVyKHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCwgcGFyZW50Q29tcG9uZW50KTtcclxuXHJcbiAgICAgICAgY29uc3QgbmFtZVdpZHRoID0gTWF0aC5jZWlsKGdldFRleHRXaWR0aFdpdGhDYW52YXMoYCR7Y2hhcmFjdGVyTmFtZX06YCwgJ21vbm9zcGFjZScsIDE2KSkgKyAxO1xyXG5cclxuICAgICAgICBjb25zdCBuYW1lTGFiZWwgPSBuZXcgTGFiZWwoMTUsIDEwLCBuYW1lV2lkdGggKyAxLCAxNiwgYCR7Y2hhcmFjdGVyTmFtZX06YCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGhlYWx0aEJhciA9IG5ldyBQcm9ncmVzc0JhcigxNiArIDE1ICsgMywgMTAsIHdpZHRoIC0gMjQsIDI1LCBtaW5IUCwgbWF4SFAsIGluaXRpYWxIUCk7XHJcblxyXG4gICAgICAgIHRoaXMubmFtZUxhYmVsS2V5ID0gJ25hbWVsYWJlbCc7XHJcbiAgICAgICAgdGhpcy5oZWFsdGhCYXJLZXkgPSAnaGVhbHRiYXInO1xyXG5cclxuICAgICAgICBuYW1lTGFiZWwuc2V0VGV4dENvbG9yKCcjZmZmZmZmJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoOiBpbWdXaWR0aCwgbmF0dXJhbEhlaWdodDogaW1nSGVpZ2h0IH0gPSBpbWFnZXMuYmFjaztcclxuXHJcbiAgICAgICAgY29uc3QgYmFja0ltYWdlQ29tcG9uZW50ID0gbmV3IEltYWdlQ29tcG9uZW50KGltYWdlcy5iYWNrLCAwLCAwLCBpbWdXaWR0aCwgaW1nSGVpZ2h0LCBpbWdXaWR0aCwgaW1nSGVpZ2h0LCAwLCAwLCBpbWdXaWR0aCwgaW1nSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQobmFtZUxhYmVsLCB0aGlzLm5hbWVMYWJlbEtleSk7XHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoaGVhbHRoQmFyLCB0aGlzLmhlYWx0aEJhcktleSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0QmFja2dyb3VuZEltYWdlKGJhY2tJbWFnZUNvbXBvbmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SGVhbHRoQmFyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMuaGVhbHRoQmFyS2V5KTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBDb21wb3NpdGVDb21wb25lbnQgfSBmcm9tICcuL0NvbXBvbmVudCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJsZSBleHRlbmRzIENvbXBvc2l0ZUNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0b3AgPSAwLCBsZWZ0ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwLCByb3dDb3VudCA9IDAsIGNvbHVtbkNvdW50ID0gMCwgY2VsbFdpZHRoID0gMCwgY2VsbEhlaWdodCA9IDAsIHBhcmVudENvbXBvbmVudCA9IG51bGwpIHtcclxuICAgICAgICBzdXBlcih0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQsIHBhcmVudENvbXBvbmVudCk7XHJcblxyXG4gICAgICAgIHRoaXMuY29sdW1uQ291bnQgPSBjb2x1bW5Db3VudDtcclxuICAgICAgICB0aGlzLnJvd0NvdW50ID0gcm93Q291bnQ7XHJcblxyXG4gICAgICAgIGxldCB0b3RhbFJvd3NIZWlnaHQgPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm93Q291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgdG90YWxSb3dzV2lkdGggPSAwO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNvbHVtbkNvdW50OyBqKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNlbGwgPSBuZXcgQ29tcG9zaXRlQ29tcG9uZW50KHRvdGFsUm93c0hlaWdodCwgdG90YWxSb3dzV2lkdGgsIGNlbGxXaWR0aCwgY2VsbEhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZENvbXBvbmVudChjZWxsLCBTdHJpbmcoaSAqIGNvbHVtbkNvdW50ICsgaikpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNlbGwuc2V0QmFja2dyb3VuZENvbG9yKCdyZ2JhKDAsIDAsIDAsIDApJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgdG90YWxSb3dzV2lkdGggKz0gY2VsbFdpZHRoO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0b3RhbFJvd3NIZWlnaHQgKz0gY2VsbEhlaWdodDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGFibGVDb21wb25lbnQocm93ID0gMCwgY29sdW1uID0gMCkge1xyXG4gICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5nZXRDaGlsZENvbXBvbmVudChTdHJpbmcocm93ICogdGhpcy5jb2x1bW5Db3VudCArIGNvbHVtbikpO1xyXG5cclxuICAgICAgICByZXR1cm4gY2hpbGQgPyBjaGlsZCA6IG51bGw7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IGdldEZpbGVTaXplID0gKHVybCkgPT4ge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICAgICAgeGhyLm9wZW4oXCJIRUFEXCIsIHVybCwgdHJ1ZSk7IFxyXG4gXHJcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09IHhoci5ET05FKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHhoci5nZXRSZXNwb25zZUhlYWRlcihcIkNvbnRlbnQtTGVuZ3RoXCIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgeGhyLnNlbmQoKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldEZpbGVCbG9iID0gKHVybCwgb25wcm9ncmVzcywgaWRlbnRpZmllcikgPT4ge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeG1sSFRUUCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgIHhtbEhUVFAub3BlbignR0VUJywgdXJsLCB0cnVlKTtcclxuICAgICAgICB4bWxIVFRQLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XHJcblxyXG4gICAgICAgIGxldCBwcmV2VmFsdWUgPSAtMTtcclxuXHJcbiAgICAgICAgeG1sSFRUUC5vbmxvYWQgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW3htbEhUVFAucmVzcG9uc2VdKTtcclxuICAgICAgICAgICAgcmVzb2x2ZSh3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgeG1sSFRUUC5vbnByb2dyZXNzID0gKCh7IGxvYWRlZCB9KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChsb2FkZWQgIT09IHByZXZWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcHJldlZhbHVlID0gbG9hZGVkO1xyXG5cclxuICAgICAgICAgICAgICAgIG9ucHJvZ3Jlc3MobG9hZGVkLCBpZGVudGlmaWVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB4bWxIVFRQLnNlbmQoKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUZpbGVQcm9taXNlID0gKGZpbGUpID0+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgIGZpbGUub25sb2FkID0gKGkpID0+IHtcclxuICAgICAgICAgICAgcmVzb2x2ZShpLnNyY0VsZW1lbnQpO1xyXG4gICAgICAgIH0gXHJcbiAgICB9KVxyXG59O1xyXG4iLCJpbXBvcnQgeyBnZXRGaWxlU2l6ZSwgZ2V0RmlsZUJsb2IsIGNyZWF0ZUZpbGVQcm9taXNlIH0gZnJvbSAnLi4vdXRpbHMvZmlsZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2FkTWFuYWdlciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnRvdGFsU2l6ZSA9IDA7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50TG9hZGVkU2l6ZSA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuaW1hZ2VVcmwgPSBbXTtcclxuICAgICAgICB0aGlzLmxvYWRlZEltYWdlcyA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLnNvdW5kVXJsID0gW107XHJcbiAgICAgICAgdGhpcy5sb2FkZWRTb3VuZCA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZFVybCh1cmxPYmplY3QsIG5hbWVPYmopIHtcclxuICAgICAgICBjb25zdCBzb3VuZFVybEFycmF5ID0gdXJsT2JqZWN0LnNvdW5kO1xyXG4gICAgICAgIGNvbnN0IGltYWdlVXJsQXJyYXkgPSB1cmxPYmplY3QuaW1hZ2U7XHJcblxyXG4gICAgICAgIGNvbnN0IHNvdW5kTmFtZSA9IG5hbWVPYmouc291bmQ7XHJcbiAgICAgICAgY29uc3QgaW1hZ2VOYW1lID0gbmFtZU9iai5pbWFnZTtcclxuICAgICAgICBsZXQgaW5kZXggPSAtMTtcclxuXHJcbiAgICAgICAgaWYgKGltYWdlVXJsQXJyYXkpIHtcclxuICAgICAgICAgICAgaW5kZXggPSB0aGlzLmltYWdlVXJsLmZpbmRJbmRleCgoeyBuYW1lOiB1cmxOYW1lIH0pID0+IHVybE5hbWUgPT09IGltYWdlTmFtZSk7XHJcblxyXG5cclxuICAgICAgICAgICAgaWYgKH5pbmRleCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZVVybFtpbmRleF0udXJscyA9IFsuLi50aGlzLmltYWdlVXJsW2luZGV4XS51cmxzLCAuLi5pbWFnZVVybEFycmF5XVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZVVybC5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICB1cmxzOiBbLi4uaW1hZ2VVcmxBcnJheV0sXHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogaW1hZ2VOYW1lXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNvdW5kVXJsQXJyYXkpIHtcclxuICAgICAgICAgICAgaW5kZXggPSB0aGlzLnNvdW5kVXJsLmZpbmRJbmRleCgoeyBuYW1lOiB1cmxOYW1lIH0pID0+IHVybE5hbWUgPT09IHNvdW5kTmFtZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAofmluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kVXJsW2luZGV4XS51cmxzID0gWy4uLnRoaXMuc291bmRVcmxbaW5kZXhdLnVybHMsIC4uLnNvdW5kVXJsQXJyYXldXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kVXJsLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybHM6IFsuLi5zb3VuZFVybEFycmF5XSxcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBzb3VuZE5hbWVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGNhbGN1bGF0ZVRvdGFsU2l6ZSgpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlQXJyID0gW107XHJcblxyXG4gICAgICAgIGxldCBpbWFnZUNvdW50ID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5pbWFnZVVybC5mb3JFYWNoKCh7IHVybHMgfSkgPT4ge1xyXG4gICAgICAgICAgICB1cmxzLmZvckVhY2goKHVybCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcHJvbWlzZUFyci5wdXNoKGdldEZpbGVTaXplKHVybCkpO1xyXG4gICAgICAgICAgICAgICAgaW1hZ2VDb3VudCArPSAxO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNvdW5kVXJsLmZvckVhY2goKHsgdXJscyB9KSA9PiB7XHJcbiAgICAgICAgICAgIHVybHMuZm9yRWFjaCgodXJsKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwcm9taXNlQXJyLnB1c2goZ2V0RmlsZVNpemUodXJsKSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGFzc2V0c1NpemUgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlQXJyKTtcclxuXHJcbiAgICAgICAgdGhpcy50b3RhbFNpemUgPSBhc3NldHNTaXplLnJlZHVjZSgocHJldiwgc2l6ZSkgPT4gcHJldiArIHBhcnNlSW50KHNpemUsIDEwKSwgMCk7XHJcbiAgICAgICAgdGhpcy5pbWFnZXNTaXplID0gYXNzZXRzU2l6ZS5zbGljZSgwLCBpbWFnZUNvdW50KTtcclxuICAgICAgICB0aGlzLnNvdW5kU2l6ZSA9IGFzc2V0c1NpemUuc2xpY2UoaW1hZ2VDb3VudCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnRvdGFsU2l6ZTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBsb2FkKG9ucHJvZ3Jlc3NDYWxsYmFjaykge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2VBcnIgPSBbXTtcclxuICAgICAgICBjb25zdCBsb2FkUHJvZ3Jlc3MgPSB7fTtcclxuXHJcbiAgICAgICAgY29uc3Qgb25wcm9ncmVzcyA9ICh2YWx1ZSwgaSkgPT4ge1xyXG4gICAgICAgICAgICBsb2FkUHJvZ3Jlc3NbaV0gPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50TG9hZGVkU2l6ZSA9IDA7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhsb2FkUHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRMb2FkZWRTaXplICs9IGxvYWRQcm9ncmVzc1trZXlzW2ldXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50TG9hZGVkU2l6ZSA9IGN1cnJlbnRMb2FkZWRTaXplO1xyXG4gICAgICAgICAgICBjb25zdCBwZXJjZW50ID0gTWF0aC5yb3VuZCh0aGlzLmN1cnJlbnRMb2FkZWRTaXplIC8gdGhpcy50b3RhbFNpemUgKiAxMDApO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2cocGVyY2VudCk7XHJcblxyXG4gICAgICAgICAgICBpZiAob25wcm9ncmVzc0NhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICBvbnByb2dyZXNzQ2FsbGJhY2socGVyY2VudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBsZXQgaW1hZ2VDb3VudCA9IDA7XHJcblxyXG4gICAgICAgIGxldCBpZCA9IDA7XHJcbiAgICAgICAgdGhpcy5pbWFnZVVybC5mb3JFYWNoKCh7IHVybHMgfSkgPT4ge1xyXG4gICAgICAgICAgICB1cmxzLmZvckVhY2goKHVybCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcHJvbWlzZUFyci5wdXNoKGdldEZpbGVCbG9iKHVybCwgb25wcm9ncmVzcywgaWQpKTtcclxuICAgICAgICAgICAgICAgIGlkICs9IDE7XHJcbiAgICAgICAgICAgICAgICBpbWFnZUNvdW50ICs9IDE7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNvdW5kVXJsLmZvckVhY2goKHsgdXJscyB9KSA9PiB7XHJcbiAgICAgICAgICAgIHVybHMuZm9yRWFjaCgodXJsKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwcm9taXNlQXJyLnB1c2goZ2V0RmlsZUJsb2IodXJsLCBvbnByb2dyZXNzLCBpZCkpO1xyXG4gICAgICAgICAgICAgICAgaWQgKz0gMTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJsb2JzID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZUFycik7XHJcblxyXG4gICAgICAgIGNvbnN0IGltZ1Byb21pc2UgPSBibG9icy5zbGljZSgwLCBpbWFnZUNvdW50KS5tYXAoKGJsb2IpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgIGltZy5zcmMgPSBibG9iO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUZpbGVQcm9taXNlKGltZyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHNvdW5kUHJvbWlzZSA9IGJsb2JzLnNsaWNlKGltYWdlQ291bnQpLm1hcCgoYmxvYikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzb3VuZCA9IG5ldyBBdWRpbygpO1xyXG4gICAgICAgICAgICBzb3VuZC5zcmMgPSBibG9iO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHNvdW5kO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBhc3NldHNQcm9taXNlID0gWy4uLmltZ1Byb21pc2VdO1xyXG4gICAgICAgIGxldCBhc3NldHMgPSBhd2FpdCBQcm9taXNlLmFsbChhc3NldHNQcm9taXNlKTtcclxuICAgICAgICBhc3NldHMgPSBbLi4uYXNzZXRzLCAuLi5zb3VuZFByb21pc2VdO1xyXG5cclxuICAgICAgICBjb25zdCBncm91cGVkID0ge1xyXG4gICAgICAgICAgICBpbWFnZXM6IFtdLFxyXG4gICAgICAgICAgICBzb3VuZDogW11cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBsZXQgayA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmltYWdlVXJsLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMuaW1hZ2VVcmxbaV0udXJscy5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLmltYWdlVXJsW2ldLm5hbWU7XHJcblxyXG4gICAgICAgICAgICBncm91cGVkLmltYWdlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGltYWdlczogYXNzZXRzLnNsaWNlKGssIGsgKyBsZW5ndGgpLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogbmFtZVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGsgKz0gbGVuZ3RoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNvdW5kVXJsLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMuc291bmRVcmxbaV0udXJscy5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLnNvdW5kVXJsW2ldLm5hbWU7XHJcblxyXG4gICAgICAgICAgICBncm91cGVkLnNvdW5kLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgc291bmQ6IGFzc2V0cy5zbGljZShrLCBrICsgbGVuZ3RoKSxcclxuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWVcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBrICs9IGxlbmd0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaW1hZ2VVcmwgPSBbXTtcclxuICAgICAgICB0aGlzLnNvdW5kVXJsID0gW107XHJcbiAgICAgICAgdGhpcy5sb2FkZWQgPSB7Li4udGhpcy5sb2FkZWRJbWFnZXMsIC4uLmdyb3VwZWQgfTsgICAgICAgIFxyXG5cclxuICAgICAgICByZXR1cm4gZ3JvdXBlZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRJbWFnZXNCeU5hbWUobmFtZSkge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5sb2FkZWQuaW1hZ2VzLmZpbmRJbmRleCgoeyBuYW1lOiBpbWFnZXNOYW1lIH0pID0+IGltYWdlc05hbWUgPT09IG5hbWUpO1xyXG4gICAgICAgIHJldHVybiAofmluZGV4KSA/IHRoaXMubG9hZGVkLmltYWdlc1tpbmRleF0uaW1hZ2VzIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTb3VuZEJ5TmFtZShuYW1lKSB7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmxvYWRlZC5zb3VuZC5maW5kSW5kZXgoKHsgbmFtZTogc291bmROYW1lIH0pID0+IHNvdW5kTmFtZSA9PT0gbmFtZSk7XHJcbiAgICAgICAgcmV0dXJuICh+aW5kZXgpID8gdGhpcy5sb2FkZWQuc291bmRbaW5kZXhdLnNvdW5kIDogbnVsbDtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9yYWdlTWFuYWdlciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmtleXMgPSBbXTtcclxuICAgICAgICB0aGlzLnJlY29yZHMgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbFN0b3JhZ2UubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3Qga2V5ID0gbG9jYWxTdG9yYWdlLmtleShpKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChrZXkubWF0Y2goL21hbGVreWxpay1nYW1lLykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMua2V5cy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucGFyc2VSZWNvcmRzKCk7ICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBzYXZlUmVzdWx0KG5hbWUsIG1vbnN0ZXJLaWxsZWQpIHtcclxuICAgICAgICB0aGlzLnJlY29yZHMucHVzaCh7XHJcbiAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgIG1vbnN0ZXJLaWxsZWRcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5yZWNvcmRzLnNvcnQoKGwsIHIpID0+IGwudGltZSAtIHIudGltZSk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5yZWNvcmRzLmxlbmd0aCAmJiBpIDwgMTA7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCB7IG5hbWUsIG1vbnN0ZXJLaWxsZWQgfSA9IHRoaXMucmVjb3Jkc1tpXTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHJlY29yZCA9IGBuYW1lPSR7bmFtZX07bW9uc3RlcktpbGxlZD0ke21vbnN0ZXJLaWxsZWR9O2A7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtYWxla3lsaWstZ2FtZT0nICsgaSwgcmVjb3JkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnJlY29yZHMubGVuZ3RoID4gMTApIHtcclxuICAgICAgICAgICAgdGhpcy5yZWNvcmRzID0gdGhpcy5yZWNvcmRzLnNsaWNlKDAsIDEwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcGFyc2VSZWNvcmRzKCkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5rZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlY29yZCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMua2V5c1tpXSkuc3BsaXQoJzsnKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSByZWNvcmRbMF0uc3BsaXQoJz0nKVsxXTtcclxuICAgICAgICAgICAgY29uc3QgbW9uc3RlcktpbGxlZCA9IHJlY29yZFsxXS5zcGxpdCgnPScpWzFdO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcmVjb3JkT2JqZWN0ID0ge1xyXG4gICAgICAgICAgICAgICAgbmFtZSxcclxuICAgICAgICAgICAgICAgIG1vbnN0ZXJLaWxsZWQsXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVjb3Jkcy5wdXNoKHJlY29yZE9iamVjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFNvcnRlZFJlY29yZHMoKSB7XHJcbiAgICAgICAgdGhpcy5yZWNvcmRzLnNvcnQoKGwsIHIpID0+IHIubW9uc3RlcktpbGxlZCAtIGwubW9uc3RlcktpbGxlZCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVjb3JkcztcclxuICAgIH1cclxufVxyXG4iLCJjb25zdCBQQVRIID0ge1xyXG4gICAgSU1BR0U6IHtcclxuICAgICAgICBIRUFEX0lNQUdFUzogJy9hc3NldHMvaW1hZ2VzL21vbnN0ZXJzL2hlYWRzJyxcclxuICAgICAgICBCT0RZX0lNQUdFUzogJy9hc3NldHMvaW1hZ2VzL21vbnN0ZXJzL2JvZGllcycsXHJcbiAgICAgICAgTEVGVF9BUk1fSU1BR0VTOiAnL2Fzc2V0cy9pbWFnZXMvbW9uc3RlcnMvYXJtcy9sZWZ0JyxcclxuICAgICAgICBSSUdIVF9BUk1fSU1BR0VTOiAnL2Fzc2V0cy9pbWFnZXMvbW9uc3RlcnMvYXJtcy9yaWdodCcsXHJcbiAgICAgICAgTEVHX0lNQUdFUzogJy9hc3NldHMvaW1hZ2VzL21vbnN0ZXJzL2xlZ3MnLFxyXG4gICAgICAgIEJBQ0tHUk9VTkRfSU1BR0VTOiAnL2Fzc2V0cy9pbWFnZXMnLFxyXG4gICAgICAgIE1BSU5fQ0hBUjogJy9hc3NldHMvaW1hZ2VzJyxcclxuICAgICAgICBNQUdJQzogJy9hc3NldHMvaW1hZ2VzL21hZ2ljJyxcclxuICAgICAgICBVSTogJy9hc3NldHMvaW1hZ2VzL3VpJ1xyXG4gICAgfSxcclxuICAgIFNPVU5EOiB7XHJcbiAgICAgICAgTUFHSUM6ICcvYXNzZXRzL3NvdW5kL21hZ2ljJ1xyXG4gICAgfVxyXG59OyBcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFBBVEg7XHJcbiIsImltcG9ydCBJbWFnZUNvbXBvbmVudCBmcm9tICcuLi9VSS9JbWFnZUNvbXBvbmVudC9JbWFnZUNvbXBvbmVudCc7XHJcblxyXG5pbXBvcnQgeyBDb21wb25lbnQsIENvbXBvc2l0ZUNvbXBvbmVudCB9IGZyb20gJy4uL1VJL0NvbXBvbmVudC9Db21wb25lbnQnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9uc3RlckdyYXBoaWNDb21wb25lbnQgZXh0ZW5kcyBDb21wb3NpdGVDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IodG9wLCBsZWZ0LCBoZWFkSW1hZ2UsIGxlZnRBcm1JbWFnZSwgcmlnaHRJbWFnZSwgYm9keUltYWdlLCBsZWdJbWFnZSwgcGFyZW50Q29tcG9uZW50ID0gbnVsbCkge1xyXG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoOiBoZWFkTmF0dXJhbFdpZHRoLCBuYXR1cmFsSGVpZ2h0OiBoZWFkTmF0dXJhbEhlaWdodCB9ID0gaGVhZEltYWdlO1xyXG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoOiBib2R5TmF0dXJhbFdpZHRoLCBuYXR1cmFsSGVpZ2h0OiBib2R5TmF0dXJhbEhlaWdodCB9ID0gYm9keUltYWdlO1xyXG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoOiBsZWZ0TmF0dXJhbFdpZHRoLCBuYXR1cmFsSGVpZ2h0OiBsZWZ0TmF0dXJhbEhlaWdodCB9ID0gbGVmdEFybUltYWdlO1xyXG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoOiByaWdodE5hdHVyYWxXaWR0aCwgbmF0dXJhbEhlaWdodDogcmlnaHROYXR1cmFsSGVpZ2h0IH0gPSByaWdodEltYWdlO1xyXG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoOiBsZWdOYXR1cmFsV2lkdGgsIG5hdHVyYWxIZWlnaHQ6IGxlZ05hdHVyYWxIZWlnaHQgfSA9IGxlZ0ltYWdlO1xyXG5cclxuICAgICAgICBjb25zdCB3aWR0aCA9IGxlZnROYXR1cmFsV2lkdGggKyBib2R5TmF0dXJhbFdpZHRoICsgcmlnaHROYXR1cmFsV2lkdGg7XHJcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gaGVhZE5hdHVyYWxIZWlnaHQgKyBib2R5TmF0dXJhbEhlaWdodCArIGxlZ05hdHVyYWxIZWlnaHQgLSAzMDtcclxuXHJcbiAgICAgICAgc3VwZXIodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0LCBwYXJlbnRDb21wb25lbnQpO1xyXG5cclxuICAgICAgICBjb25zdCBib2R5Q29tcG9uZW50ID0gbmV3IENvbXBvbmVudChoZWlnaHQgLSBsZWdOYXR1cmFsSGVpZ2h0IC0gYm9keU5hdHVyYWxIZWlnaHQsIHdpZHRoIC8gMiAtIGJvZHlOYXR1cmFsV2lkdGggLyAyLCBib2R5TmF0dXJhbFdpZHRoLCBib2R5TmF0dXJhbEhlaWdodCk7XHJcbiAgICAgICAgYm9keUNvbXBvbmVudC5zZXRCYWNrZ3JvdW5kSW1hZ2UobmV3IEltYWdlQ29tcG9uZW50KGJvZHlJbWFnZSwgMCwgMCwgYm9keU5hdHVyYWxXaWR0aCwgYm9keU5hdHVyYWxIZWlnaHQsIGJvZHlOYXR1cmFsV2lkdGgsIGJvZHlOYXR1cmFsSGVpZ2h0LCAwLCAwLCBib2R5TmF0dXJhbFdpZHRoLCBib2R5TmF0dXJhbEhlaWdodCkpICBcclxuXHJcbiAgICAgICAgY29uc3QgaGVhZENvbXBvbmVudCA9IG5ldyBDb21wb25lbnQoaGVpZ2h0IC0gbGVnTmF0dXJhbEhlaWdodCAtIGJvZHlOYXR1cmFsSGVpZ2h0IC0gaGVhZE5hdHVyYWxIZWlnaHQgKyAzMCwgd2lkdGggLyAyIC0gaGVhZE5hdHVyYWxXaWR0aCAvIDIgLSAxNSwgaGVhZE5hdHVyYWxXaWR0aCwgaGVhZE5hdHVyYWxIZWlnaHQpO1xyXG4gICAgICAgIGhlYWRDb21wb25lbnQuc2V0QmFja2dyb3VuZEltYWdlKG5ldyBJbWFnZUNvbXBvbmVudChoZWFkSW1hZ2UsIDAsIDAsIGhlYWROYXR1cmFsV2lkdGgsIGhlYWROYXR1cmFsSGVpZ2h0LCBoZWFkTmF0dXJhbFdpZHRoLCBoZWFkTmF0dXJhbEhlaWdodCwgMCwgMCwgaGVhZE5hdHVyYWxXaWR0aCwgaGVhZE5hdHVyYWxIZWlnaHQpKTtcclxuXHJcbiAgICAgICAgY29uc3QgbGVnQ29tcG9uZW50ID0gbmV3IENvbXBvbmVudChoZWlnaHQgLSBsZWdOYXR1cmFsSGVpZ2h0LCB3aWR0aCAvIDIgLSBsZWdOYXR1cmFsV2lkdGggLyAyIC0gMTMsIGxlZ05hdHVyYWxXaWR0aCwgbGVnTmF0dXJhbEhlaWdodCk7XHJcbiAgICAgICAgbGVnQ29tcG9uZW50LnNldEJhY2tncm91bmRJbWFnZShuZXcgSW1hZ2VDb21wb25lbnQobGVnSW1hZ2UsIDAsIDAsIGxlZ05hdHVyYWxXaWR0aCwgbGVnTmF0dXJhbEhlaWdodCwgbGVnTmF0dXJhbFdpZHRoLCBsZWdOYXR1cmFsSGVpZ2h0LCAwLCAwLCBsZWdOYXR1cmFsV2lkdGgsIGxlZ05hdHVyYWxIZWlnaHQpKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBsZWZ0QXJtQ29tcG9uZW50ID0gbmV3IENvbXBvbmVudChoZWlnaHQgLSBsZWdOYXR1cmFsSGVpZ2h0IC0gYm9keU5hdHVyYWxIZWlnaHQgKyA0NSwgd2lkdGggLyAyIC0gMTUsIGxlZnROYXR1cmFsV2lkdGgsIGxlZnROYXR1cmFsSGVpZ2h0KTtcclxuICAgICAgICBsZWZ0QXJtQ29tcG9uZW50LnNldEJhY2tncm91bmRJbWFnZShuZXcgSW1hZ2VDb21wb25lbnQobGVmdEFybUltYWdlLCAwLCAwLCBsZWZ0TmF0dXJhbFdpZHRoLCBsZWZ0TmF0dXJhbEhlaWdodCwgbGVmdE5hdHVyYWxXaWR0aCwgbGVmdE5hdHVyYWxIZWlnaHQsIDAsIDAsIGxlZnROYXR1cmFsV2lkdGgsIGxlZnROYXR1cmFsSGVpZ2h0KSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJpZ2h0QXJtQ29tcG9uZW50ID0gbmV3IENvbXBvbmVudChoZWlnaHQgLSBsZWdOYXR1cmFsSGVpZ2h0IC0gYm9keU5hdHVyYWxIZWlnaHQgKyA0MCwgd2lkdGggLyAyIC0gODksIHJpZ2h0TmF0dXJhbFdpZHRoLCByaWdodE5hdHVyYWxIZWlnaHQpO1xyXG4gICAgICAgIHJpZ2h0QXJtQ29tcG9uZW50LnNldEJhY2tncm91bmRJbWFnZShuZXcgSW1hZ2VDb21wb25lbnQocmlnaHRJbWFnZSwgMCwgMCwgcmlnaHROYXR1cmFsV2lkdGgsIHJpZ2h0TmF0dXJhbEhlaWdodCwgcmlnaHROYXR1cmFsV2lkdGgsIHJpZ2h0TmF0dXJhbEhlaWdodCwgMCwgMCwgcmlnaHROYXR1cmFsV2lkdGgsIHJpZ2h0TmF0dXJhbEhlaWdodCkpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChib2R5Q29tcG9uZW50LCAnYm9keScpO1xyXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGhlYWRDb21wb25lbnQsICdoZWFkJyk7XHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQobGVnQ29tcG9uZW50LCAnbGVnJyk7XHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQobGVmdEFybUNvbXBvbmVudCwgJ2xlZnRhcm0nKTtcclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChyaWdodEFybUNvbXBvbmVudCwgJ3JpZ2h0YXJtJyk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hhcmFjdGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIG1heEhQLCBpbml0aWFsSFAsIGdyYXBoaWNDb21wb25lbnQgPSBudWxsKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLmN1cnJlbnRIUCA9IGluaXRpYWxIUDtcclxuICAgICAgICB0aGlzLm1heEhQID0gbWF4SFA7XHJcbiAgICAgICAgdGhpcy5ncmFwaGljQ29tcG9uZW50ID0gZ3JhcGhpY0NvbXBvbmVudDtcclxuICAgICAgICB0aGlzLm1hZ2ljcyA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLmhwQ2hhbmdlTGlzdGVuZXJzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0R3JhcGhpY0NvbXBvbmVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ncmFwaGljQ29tcG9uZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGF0dGFjayhjaGFyYWN0ZXIsIG1hZ2ljLCBjYW52YXMpIHtcclxuICAgICAgICBpZiAobWFnaWMpIHtcclxuICAgICAgICAgICAgYXdhaXQgbWFnaWMuYXR0YWNrKHRoaXMsIGNoYXJhY3RlciwgY2FudmFzKTtcclxuICAgICAgICAgICAgY2hhcmFjdGVyLnRha2VBdHRhY2sobWFnaWMuZGFtYWdlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjaGFyYWN0ZXIudGFrZUF0dGFjayg1KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGFrZUF0dGFjayhkYW1hZ2UpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRIUCAtPSBkYW1hZ2U7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRIUCA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SFAgPSAwO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmhwQ2hhbmdlTGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiB7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyKHRoaXMuY3VycmVudEhQKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZE1hZ2ljKG1hZ2ljKSB7XHJcbiAgICAgICAgdGhpcy5tYWdpY3MucHVzaChtYWdpYyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TWFnaWNzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1hZ2ljcztcclxuICAgIH1cclxuXHJcbiAgICBnZXROYW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q3VycmVudEhQKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRIUDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRNYXhIUCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYXhIUDtcclxuICAgIH1cclxuXHJcbiAgICBpc0FsaXZlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRIUCA+IDA7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkSFBDaGFuZ2VMaXN0ZW5lcihsaXN0ZW5lcikge1xyXG4gICAgICAgIHRoaXMuaHBDaGFuZ2VMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IE1vbnN0ZXJHcmFwaGljQ29tcG9uZW50IGZyb20gJy4uL0dyYXBoaWNDb21wb25lbnQvTW9uc3RlckdyYXBoaWNDb21wb25lbnQnO1xyXG5pbXBvcnQgQ2hhcmFjdGVyIGZyb20gJy4uL0NoYXJhY3Rlci9DaGFyYWN0ZXInO1xyXG5cclxuY29uc3QgYWRqZWN0aXZlID0gW1xyXG4gICAgJ9Cj0LbQsNGB0L3Ri9C5JywgXHJcbiAgICAn0JfQu9C+0LHQvdGL0LknLFxyXG4gICAgJ9Ch0L7Qv9C70LjQstGL0LknLFxyXG5dO1xyXG5cclxuY29uc3QgcmFjZSA9IFtcclxuICAgICfQntCz0YAnLFxyXG4gICAgJ9CT0L3QvtC8JyxcclxuICAgICfQk9C+0LHQu9C40L0nLFxyXG5dO1xyXG5cclxuY29uc3QgbmFtZSA9IFtcclxuICAgICfQotC+0LwnLFxyXG4gICAgJ9Cc0LDQutGBJyxcclxuICAgICfQlNC40LzQsCcsXHJcbl07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb25zdGVyRmFjdG9yeSB7XHJcbiAgICBjb25zdHJ1Y3RvcihoZWFkSW1ncywgbGVmdEFybUltZ3MsIHJpZ2h0QXJtSW1ncywgYm9keUltZ3MsIGxlZ0ltZ3MpIHtcclxuICAgICAgICB0aGlzLmhlYWRJbWdzID0gWy4uLmhlYWRJbWdzXTtcclxuICAgICAgICB0aGlzLmxlZnRBcm1JbWdzID0gWy4uLmxlZnRBcm1JbWdzXTtcclxuICAgICAgICB0aGlzLnJpZ2h0QXJtSW1ncyA9IFsuLi5yaWdodEFybUltZ3NdO1xyXG4gICAgICAgIHRoaXMuYm9keUltZ3MgPSBbLi4uYm9keUltZ3NdO1xyXG4gICAgICAgIHRoaXMubGVnSW1ncyA9IFsuLi5sZWdJbWdzXTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVNb25zdGVyKHRvcCA9IDAsIGxlZnQgPSAwKSB7XHJcbiAgICAgICAgY29uc3QgcmFuZCA9IE1hdGgucmFuZG9tO1xyXG4gICAgICAgIGNvbnN0IHJvdW5kID0gTWF0aC5yb3VuZDtcclxuXHJcbiAgICAgICAgY29uc3QgaGVhZEluZGV4ID0gcm91bmQocmFuZCgpICogKHRoaXMuaGVhZEltZ3MubGVuZ3RoIC0gMSkpO1xyXG4gICAgICAgIGNvbnN0IGxlZnRBcm1JbmRleCA9IHJvdW5kKHJhbmQoKSAqICh0aGlzLmxlZnRBcm1JbWdzLmxlbmd0aCAtIDEpKTtcclxuICAgICAgICBjb25zdCByaWdodEFybUluZGV4ID0gcm91bmQocmFuZCgpICogKHRoaXMucmlnaHRBcm1JbWdzLmxlbmd0aCAtIDEpKTtcclxuICAgICAgICBjb25zdCBib2R5SW5kZXggPSByb3VuZChyYW5kKCkgKiAodGhpcy5ib2R5SW1ncy5sZW5ndGggLSAxKSk7XHJcbiAgICAgICAgY29uc3QgbGVnSW5kZXggPSByb3VuZChyYW5kKCkgKiAodGhpcy5sZWdJbWdzLmxlbmd0aCAtIDEpKTtcclxuXHJcbiAgICAgICAgY29uc3QgbW9uc3RlckdyYXBoaWMgPSBuZXcgTW9uc3RlckdyYXBoaWNDb21wb25lbnQodG9wLCBsZWZ0LCB0aGlzLmhlYWRJbWdzW2hlYWRJbmRleF0sIHRoaXMubGVmdEFybUltZ3NbbGVmdEFybUluZGV4XSwgdGhpcy5yaWdodEFybUltZ3NbcmlnaHRBcm1JbmRleF0sIHRoaXMuYm9keUltZ3NbYm9keUluZGV4XSwgdGhpcy5sZWdJbWdzW2xlZ0luZGV4XSk7XHJcbiAgICAgICAgY29uc3QgeyB3aWR0aDogbW9uc3RlcldpZHRoLCAgaGVpZ2h0OiBtb25zdGVySGVpZ2h0IH0gPSBtb25zdGVyR3JhcGhpYy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBtb25zdGVyR3JhcGhpYy5zZXRCb3VuZGluZ0NsaWVudFJlY3QoTWF0aC5mbG9vcigod2luZG93LmlubmVySGVpZ2h0IC0gMTUwKSAvIDIgLSBtb25zdGVySGVpZ2h0IC8gMiksIE1hdGguZmxvb3Iod2luZG93LmlubmVyV2lkdGggLyAyICsgMTAwKSwgbW9uc3RlcldpZHRoLCBtb25zdGVySGVpZ2h0KTtcclxuXHJcbiAgICAgICAgY29uc3QgZmlyc3ROYW1lID0gYWRqZWN0aXZlW3JvdW5kKHJhbmQoKSAqIChhZGplY3RpdmUubGVuZ3RoIC0gMSkpXTtcclxuICAgICAgICBjb25zdCBzZWNvbmROYW1lID0gcmFjZVtyb3VuZChyYW5kKCkgKiAocmFjZS5sZW5ndGggLSAxKSldO1xyXG4gICAgICAgIGNvbnN0IHRoaXJkTmFtZSA9IG5hbWVbcm91bmQocmFuZCgpICogKG5hbWUubGVuZ3RoIC0gMSkpXTtcclxuXHJcbiAgICAgICAgY29uc3QgbW9uc3RlciA9IG5ldyBDaGFyYWN0ZXIoYCR7Zmlyc3ROYW1lfSAke3NlY29uZE5hbWV9ICR7dGhpcmROYW1lfWAsIDEwMCwgMTAwLCBtb25zdGVyR3JhcGhpYyk7XHJcblxyXG4gICAgICAgIHJldHVybiBtb25zdGVyO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBMYWJlbCBmcm9tICcuLi8uLi9Db21wb25lbnQvTGFiZWwnO1xyXG5pbXBvcnQgQnV0dG9uIGZyb20gJy4uLy4uL0NvbXBvbmVudC9CdXR0b24nO1xyXG5pbXBvcnQgZXZlbnRzIGZyb20gJy4uLy4uLy4uL2V2ZW50L2V2ZW50cy9ldmVudHMnO1xyXG5pbXBvcnQgSW1hZ2VDb21wb25lbnQgZnJvbSAnLi4vLi4vSW1hZ2VDb21wb25lbnQvSW1hZ2VDb21wb25lbnQnO1xyXG5cclxuaW1wb3J0IHsgQ29tcG9zaXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vQ29tcG9uZW50L0NvbXBvbmVudCc7XHJcbmltcG9ydCB7IGdldFRleHRXaWR0aFdpdGhDYW52YXMgfSBmcm9tICcuLi8uLi8uLi91dGlscy90ZXh0V2lkdGgnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFza01vZGFsV2luZG93IGV4dGVuZHMgQ29tcG9zaXRlQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHRvcCA9IDAsIGxlZnQgPSAwLCB3aWR0aCA9IDAsIGhlaWdodCA9IDAsIGRlc2NyaXB0aW9uID0gJycgLCBpbWFnZXMgPSB7fSwgcGFyZW50Q29tcG9uZW50ID0gbnVsbCkge1xyXG4gICAgICAgIHN1cGVyKHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCwgcGFyZW50Q29tcG9uZW50KTtcclxuXHJcbiAgICAgICAgY29uc3QgaGFsZldpZHRoID0gTWF0aC5jZWlsKHdpZHRoIC8gMik7XHJcbiAgICAgICAgY29uc3QgaGFsZkhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQgLyAyKTtcclxuICAgICAgICBjb25zdCBoYWxmRGVzY3JpcHRpb25XaWR0aCA9IE1hdGguY2VpbCgoZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyhkZXNjcmlwdGlvbiwgJ21vbm9zcGFjZScsICcxNnB4JykgKyAxKSAvIDIpO1xyXG4gICAgICAgXHJcbiAgICAgICAgY29uc3QgdGFza0Rlc2NyaXB0aW9uID0gbmV3IExhYmVsKDEwLCBoYWxmV2lkdGggLSBoYWxmRGVzY3JpcHRpb25XaWR0aCwgaGFsZkRlc2NyaXB0aW9uV2lkdGggKiAyLCAzMCwgZGVzY3JpcHRpb24pO1xyXG4gICAgICAgIGNvbnN0IGVudGVyQnV0dG9uID0gbmV3IEJ1dHRvbihoYWxmSGVpZ2h0ICogMiAtIDUwIC0gNSwgaGFsZldpZHRoICogMiAtIDEwMCAtIDUsIDEwMCwgNTAsICcnKTtcclxuXHJcbiAgICAgICAgdGFza0Rlc2NyaXB0aW9uLnNldEJhY2tncm91bmRDb2xvcignIzAwYmJiYicpO1xyXG5cclxuICAgICAgICBlbnRlckJ1dHRvbi5zZXRCYWNrZ3JvdW5kQ29sb3IoJyNhYWFhYWEnKTtcclxuXHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbktleSA9ICdkZXNjcmlwdGlvbic7XHJcbiAgICAgICAgdGhpcy5idXR0b25LZXkgPSAnYnV0dG9uJztcclxuXHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQodGFza0Rlc2NyaXB0aW9uLCB0aGlzLmRlc2NyaXB0aW9uS2V5KTtcclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChlbnRlckJ1dHRvbiwgdGhpcy5idXR0b25LZXkpO1xyXG5cclxuICAgICAgICB0YXNrRGVzY3JpcHRpb24uc2V0QmFja2dyb3VuZENvbG9yKCdyZ2JhKDAsIDAsIDAsIDApJyk7XHJcbiAgICAgICAgdGFza0Rlc2NyaXB0aW9uLnNldFRleHRDb2xvcignI2ZmZmZmZicpO1xyXG5cclxuICAgICAgICBjb25zdCBtb2RhbFdpbmRvd0ltYWdlID0gaW1hZ2VzLm1vZGFsV2luZG93SW1hZ2U7XHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGg6IG1vZGFsV2lkdGgsIG5hdHVyYWxIZWlnaHQ6IG1vZGFsSGVpZ2h0IH0gPSBtb2RhbFdpbmRvd0ltYWdlO1xyXG5cclxuICAgICAgICBjb25zdCBva0J1dHRvbkltYWdlID0gaW1hZ2VzLm9rQnV0dG9uSW1hZ2U7XHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGg6IG9rQnV0dG9uV2lkdGgsIG5hdHVyYWxIZWlnaHQ6IG9rQnV0dG9uSGVpZ2h0IH0gPSBva0J1dHRvbkltYWdlO1xyXG5cclxuICAgICAgICB0aGlzLnNldEJhY2tncm91bmRJbWFnZShuZXcgSW1hZ2VDb21wb25lbnQobW9kYWxXaW5kb3dJbWFnZSwgMCwgMCwgbW9kYWxXaWR0aCwgbW9kYWxIZWlnaHQsIG1vZGFsV2lkdGgsIG1vZGFsSGVpZ2h0LCAwLCAwLCBtb2RhbFdpZHRoLCBtb2RhbEhlaWdodCkpO1xyXG5cclxuICAgICAgICBlbnRlckJ1dHRvbi5zZXRCb3VuZGluZ0NsaWVudFJlY3QobW9kYWxIZWlnaHQgLSAxOSAtIG9rQnV0dG9uSGVpZ2h0LCBtb2RhbFdpZHRoIC0gMTkgLSBva0J1dHRvbldpZHRoIC8gMiwgb2tCdXR0b25XaWR0aCAvIDIsIG9rQnV0dG9uSGVpZ2h0KTtcclxuICAgICAgICBlbnRlckJ1dHRvbi5zZXRCYWNrZ3JvdW5kSW1hZ2UobmV3IEltYWdlQ29tcG9uZW50KG9rQnV0dG9uSW1hZ2UsIDAsIDAsIG9rQnV0dG9uV2lkdGgsIG9rQnV0dG9uSGVpZ2h0LCBva0J1dHRvbldpZHRoLCBva0J1dHRvbkhlaWdodCwgMCwgMCwgb2tCdXR0b25XaWR0aCAvIDIsIG9rQnV0dG9uSGVpZ2h0KSk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkQnV0dG9uRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudCkge1xyXG4gICAgICAgIHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5idXR0b25LZXkpLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgZXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGFuc3dlcklzUmlnaHQoKSB7XHJcbiAgICAgICAgcmV0dXJuICBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRSZXN1bHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkQnV0dG9uRXZlbnRMaXN0ZW5lcihldmVudHMuTU9VU0UuTU9VU0VfRE9XTiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5hbnN3ZXJJc1JpZ2h0KCkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgTGFiZWwgZnJvbSAnLi4vLi4vQ29tcG9uZW50L0xhYmVsJztcbmltcG9ydCBUYXNrTW9kYWxXaW5kb3cgZnJvbSAnLi9UYXNrTW9kYWxXaW5kb3cnO1xuaW1wb3J0IEltYWdlQ29tcG9uZW50IGZyb20gJy4uLy4uL0ltYWdlQ29tcG9uZW50L0ltYWdlQ29tcG9uZW50JztcblxuaW1wb3J0IHsgZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3RleHRXaWR0aCc7XG5cbmNvbnN0IG9wZXJhdGlvbnMgPSBbXG4gICAge1xuICAgICAgICBjaGFyUHJlc2VudGF0aW9uOiAnKycsXG4gICAgICAgIHBlcmZvcm0oZmlyc3QsIHNlY29uZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZpcnN0ICsgc2Vjb25kO1xuICAgICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICAgIGNoYXJQcmVzZW50YXRpb246ICctJyxcbiAgICAgICAgcGVyZm9ybShmaXJzdCwgc2Vjb25kKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlyc3QgLSBzZWNvbmQ7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgICAgY2hhclByZXNlbnRhdGlvbjogJ3gnLFxuICAgICAgICBwZXJmb3JtKGZpcnN0LCBzZWNvbmQpIHtcbiAgICAgICAgICAgIHJldHVybiBmaXJzdCAqIHNlY29uZDtcbiAgICAgICAgfVxuICAgIH0sXG5dO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTb2x2ZUV4cHJlc3Npb25UYXNrV2luZG93IGV4dGVuZHMgVGFza01vZGFsV2luZG93IHtcbiAgICBjb25zdHJ1Y3Rvcih0b3AgPSAwLCBsZWZ0ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwLCBpbWFnZXMgPSB7fSwgcGFyZW50Q29tcG9uZW50ID0gbnVsbCkge1xuICAgICAgICBzdXBlcih0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQsICfQoNC10YjQuNGC0LUg0LTQsNC90L3QvtC1INCy0YvRgNCw0LbQtdC90LjQtTonLCBpbWFnZXMsIHBhcmVudENvbXBvbmVudCk7XG5cbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gb3BlcmF0aW9uc1tNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAob3BlcmF0aW9ucy5sZW5ndGggLSAxKSldO1xuICAgICAgICB0aGlzLm9wZXJhdGlvbiA9IG9wZXJhdGlvbjtcblxuICAgICAgICBjb25zdCB0ZXh0RmllbGRJbWFnZSA9IGltYWdlcy50ZXh0RmllbGRJbWFnZTtcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGg6IHRleHRGaWVsZFdpZHRoLCBuYXR1cmFsSGVpZ2h0OiB0ZXh0RmllbGRIZWlnaHQgfSA9IHRleHRGaWVsZEltYWdlO1xuXG4gICAgICAgIGxldCBmaXJzdCA9IDE7XG4gICAgICAgIGxldCBzZWNvbmQgPSAxO1xuXG4gICAgICAgIGZpcnN0ID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMTAwMCk7XG5cbiAgICAgICAgaWYgKG9wZXJhdGlvbi5jaGFyUHJlc2VudGF0aW9uID09PSAneCcpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbWl0ID0gTWF0aC5jZWlsKDEwMDAwIC8gZmlyc3QpO1xuICAgICAgICAgICAgc2Vjb25kID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbGltaXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2Vjb25kID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMTAwMCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZpcnN0ID0gZmlyc3Q7XG4gICAgICAgIHRoaXMuc2Vjb25kID0gc2Vjb25kO1xuXG4gICAgICAgIGNvbnN0IGxhYmVsVGV4dCA9IGAke2ZpcnN0fSAke29wZXJhdGlvbi5jaGFyUHJlc2VudGF0aW9ufSAke3NlY29uZH0gPWA7XG5cbiAgICAgICAgY29uc3QgaGFsZldpZHRoID0gTWF0aC5jZWlsKHdpZHRoIC8gMik7XG4gICAgICAgIGNvbnN0IGhhbGZIZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0IC8gMik7XG4gICAgICAgIGNvbnN0IGhhbGZFeHByZXNzaW9uV2lkdGggPSBNYXRoLmNlaWwoKGdldFRleHRXaWR0aFdpdGhDYW52YXMobGFiZWxUZXh0LCAnbW9ub3NwYWNlJywgJzE2cHgnKSArIDEpIC8gMik7XG4gICAgICAgIGNvbnN0IGhhbGZBbnN3ZXJXaWR0aCA9IE1hdGguY2VpbCgoZ2V0VGV4dFdpZHRoV2l0aENhbnZhcygnOTk5OScsICdtb25vc3BhY2UnLCAnMTZweCcpICsgMSkgLyAyKTtcbiAgICAgICAgY29uc3QgaGFsZkV4cHJlc3Npb25XaXRoQW5zd2VyID0gaGFsZkFuc3dlcldpZHRoICsgaGFsZkV4cHJlc3Npb25XaWR0aCArIDM7XG5cbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9IG5ldyBMYWJlbChoYWxmSGVpZ2h0IC0gMTUsIGhhbGZXaWR0aCAtIGhhbGZFeHByZXNzaW9uV2l0aEFuc3dlciwgaGFsZkV4cHJlc3Npb25XaWR0aCAqIDIsIDMwLCBsYWJlbFRleHQpO1xuICAgICAgICBjb25zdCBhbnN3ZXIgPSBuZXcgTGFiZWwoaGFsZkhlaWdodCAtIDE1LCBoYWxmV2lkdGggLSBoYWxmRXhwcmVzc2lvbldpdGhBbnN3ZXIgKyBoYWxmRXhwcmVzc2lvbldpZHRoICogMiArIDMsIGhhbGZBbnN3ZXJXaWR0aCAqIDIsIHRleHRGaWVsZEhlaWdodCwgJycpO1xuXG4gICAgICAgIGV4cHJlc3Npb24uc2V0QmFja2dyb3VuZENvbG9yKCdyZ2JhKDAsIDAsIDAsIDApJyk7XG4gICAgICAgIGV4cHJlc3Npb24uc2V0VGV4dENvbG9yKCcjZmZmZmZmJyk7XG5cbiAgICAgICAgYW5zd2VyLmVkaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgYW5zd2VyLnNldEJhY2tncm91bmRDb2xvcigncmdiYSgwLCAwLCAwLCAwKScpO1xuICAgICAgICBhbnN3ZXIuc2V0QmFja2dyb3VuZEltYWdlKG5ldyBJbWFnZUNvbXBvbmVudCh0ZXh0RmllbGRJbWFnZSwgMCwgMCwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCwgMCwgMCwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCkpO1xuICAgICAgICBhbnN3ZXIubWF4VGV4dExlbmd0aCA9IDQ7XG4gICAgICAgIGFuc3dlci5zZXRUZXh0Q29sb3IoJyNGRkZGMDAnKTtcbiAgICAgICAgYW5zd2VyLmN1cnNvci5zZXRDb2xvcignIzA4QjYwMCcpO1xuXG4gICAgICAgIHRoaXMuZXhwcmVzc2lvbktleSA9ICdleHByZXNzaW9uJztcbiAgICAgICAgdGhpcy5hbnN3ZXJLZXkgPSAnYW5zd2VyJztcblxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChleHByZXNzaW9uLCB0aGlzLmV4cHJlc3Npb25LZXkpO1xuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChhbnN3ZXIsIHRoaXMuYW5zd2VyS2V5KTtcbiAgICB9XG5cbiAgICBhbnN3ZXJJc1JpZ2h0KCkge1xuICAgICAgICBjb25zdCBhbnN3ZXIgPSBwYXJzZUZsb2F0KHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5hbnN3ZXJLZXkpLmdldFRleHQoKSk7XG4gICAgICAgIHJldHVybiAgYW5zd2VyID09PSB0aGlzLm9wZXJhdGlvbi5wZXJmb3JtKHRoaXMuZmlyc3QsIHRoaXMuc2Vjb25kKTtcbiAgICB9XG59XG4iLCJjb25zdCBkaWN0aW9uYXJ5ID0gW1xyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdhZ2UnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQstC+0LfRgNCw0YHRgicsICfQstC10LonLCAn0Y3Qv9C+0YXQsCcsICfQv9C10YDQuNC+0LQnLCAn0YHRgtCw0YDQtdGC0YwnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnYXBwZWFyJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0L/QvtGP0LLQu9GP0YLRjNGB0Y8nLCAn0LrQsNC30LDRgtGM0YHRjycsICfQv9GA0LXQtNGB0YLQsNGC0YwnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnYXJ0aXN0JyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0YXRg9C00L7QttC90LjQuicsICfQsNGA0YLQuNGB0YInXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnYXV0dW1uJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0L7RgdC10L3RjCcsICfQvtGB0LXQvdC90LjQuSddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdiYXknLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQt9Cw0LvQuNCyJywgJ9Cx0YPRhdGC0LAnLCAn0L7RgtGB0LXQuicsICfQs9GD0LHQsCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdiZWFrJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LrQu9GO0LInXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnYmxvb20nLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfRhtCy0LXRgtC10L3QuNC1JywgJ9GA0LDRgdGG0LLQtdGCJywgJ9GG0LLQtdGB0YLQuCcsICfRgNCw0YHRhtCy0LXRgdGC0LgnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnYnVtcHknLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfRg9GF0LDQsdC40YHRgtGL0LknLCAn0L3QtdGA0L7QstC90YvQuSddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdidXJzdCcsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9Cy0LfRgNGL0LInLCAn0LLRgdC/0YvRiNC60LAnLCAn0YDQsNC30YDRi9CyJywgJ9C70L7Qv9C90YPRgtGMJywgJ9GA0LDQt9GA0YvQstCw0YLRjCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdidXp6JyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LPRg9C00LXRgtGMJywgJ9C20YPQttC20LDRgtGMJywgJ9Cz0YPQuycsICfQttGD0LbQttCw0L3QuNC1JywgJ9GB0LvRg9GF0LgnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnY2FyZScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C30LDQsdC+0YLQsCcsICfRg9GF0L7QtCcsICfQt9Cw0LHQvtGC0LjRgtGM0YHRjycsICfRg9GF0LDQttC40LLQsNGC0YwnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnY2hlY2snLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQv9GA0L7QstC10YDQutCwJywgJ9GH0LXQuicsICfQutC+0L3RgtGA0L7Qu9GMJywgJ9C/0YDQvtCy0LXRgNGP0YLRjCcsICfQutC+0L3RgtGA0L7Qu9C40YDQvtCy0LDRgtGMJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2NoaWxseScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9GF0L7Qu9C+0LTQvdC+JywgJ9GB0YPRhdC+JywgJ9C30Y/QsdC60L4nLCAn0YXQvtC70L7QtNC90YvQuScsICfQv9GA0L7RhdC70LDQtNC90YvQuScsICfQt9GP0LHQutC40LknLCAn0L/RgNC+0LzQvtC30LPQu9GL0LknXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnY29tZm9ydCcsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C60L7QvNGE0L7RgNGCJywgJ9GD0LTQvtCx0YHRgtCy0LAnLCAn0YPRjtGCJywgJ9GD0YLQtdGI0LjRgtGMJywgJ9GD0YLQtdGI0LDRgtGMJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2NvbW11bml0eScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9GB0L7QvtCx0YnQtdGB0YLQstC+JywgJ9C+0LHRidC40L3QsCcsICfQvtCx0YnQtdGB0YLQstC+JywgJ9C+0LHRidC90L7RgdGC0YwnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnY291bnRyeScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9GB0YLRgNCw0L3QsCcsICfQvNC10YHRgtC90L7RgdGC0YwnLCAn0LfQsNCz0L7RgNC+0LTQvdGL0LknXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnY292ZXJlZCcsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C60YDRi9GC0YvQuScsICfQv9C+0LrRgNGL0YLRi9C5J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2NyYWRsZScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C60L7Qu9GL0LHQtdC70YwnLCAn0LvRjtC70YzQutCwJywgJ9Cz0L3QtdC30LTQviddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdkYW5nbGUnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQvNC+0YLQsNGC0YzRgdGPJywgJ9Cx0L7Qu9GC0LDRgtGM0YHRjycsICfRgdCy0LjRgdCw0YLRjCcsICfQutCw0YfQsNGC0YzRgdGPJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2RlY2lzaW9uJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0YDQtdGI0LXQvdC40LUnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnZGVsaWNpb3VzJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LLQutGD0YHQvdC+JywgJ9Cy0L7RgdGF0LjRgtC40YLQtdC70YzQvdGL0LknXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnZGVudGlzdCcsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C00LDQvdGC0LjRgdGCJywgJ9C30YPQsdC90L7QuSDQstGA0LDRhyddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdkZXcnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfRgNC+0YHQsCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdkaXNhcHBlYXInLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQuNGB0YfQtdC30LDRgtGMJywgJ9C/0YDQvtC/0LDQtNCw0YLRjCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdkdXN0eScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C/0YvQu9GM0L3Ri9C5J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2VkZ2UnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQutGA0LDQuScsICfQv9GA0LXQuNC80YPRidC10YHRgtCy0L4nLCAn0LrRgNC+0LzQutCwJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2Zhcm1lcicsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9GE0LXRgNC80LXRgCcsICfQutC+0LvRhdC+0LfQvdC40LonXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnZmVhcicsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9GB0YLRgNCw0YUnLCAn0LHQvtGP0LfQvdGMJywgJ9C+0L/QsNGB0LXQvdC40LUnLCAn0LHQvtGP0YLRjNGB0Y8nLCAn0L7Qv9Cw0YHQsNGC0YzRgdGPJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2ZpcmVmbHknLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfRgdCy0LXRgtC70Y/QuicsICfRgdCy0LXRgtC70Y/Rh9C+0LonXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnZml4JyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0YTQuNC60YHQuNGA0L7QstCw0YLRjCcsICfQuNGB0L/RgNCw0LLQu9GP0YLRjCcsICfRg9GB0YLQsNC90LDQstC70LjQstCw0YLRjCcsICfRh9C40L3QuNGC0YwnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnZmx1ZmZ5JyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0L/Rg9GI0LjRgdGC0YvQuSddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdmb2xsb3cnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfRgdC70LXQtNC+0LLQsNGC0YwnLCAn0YHQu9C10LTQuNGC0YwnLCAn0L/RgNC40LTQtdGA0LbQuNCy0LDRgtGM0YHRjycsICfQuNC00YLQuCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdnYWxsb3AnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQs9Cw0LvQvtC/0L7QvCcsICfQs9Cw0LvQvtC/JywgJ9GB0LrQsNGH0LrQsCcsICfQv9GA0L7RgdC60LDQutCw0YLRjCcsICfRgdC60LDQutCw0YLRjCDQs9Cw0LvQvtC/0L7QvCcsICfQs9Cw0LvQvtC/0LjRgNC+0LLQsNGC0YwnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnZ2VudGxlJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0L3QtdC20L3Ri9C5JywgJ9C80Y/Qs9C60LjQuScsICfQstC10LbQu9C40LLRi9C5J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2dsYW5jZScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9Cy0LfQs9C70Y/QtCcsICfQt9GA0LXQvdC40LUnLCAn0LLQuNC0JywgJ9C30YDQtdC70LjRidC1JywgJ9C/0YDQuNGG0LXQuycsICfRg9Cy0LjQtNC10YLRjCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdnbG9zc3knLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQs9C70Y/QvdGG0LXQstGL0LknLCAn0LHQu9C10YHRgtGP0YnQuNC5J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2dsb3cnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQv9GL0LvQsNGC0YwnLCAn0YHQstC10YLQuNGC0YzRgdGPJywgJ9C/0YvQu9Cw0YLRjCcsICfRgdCy0LXRh9C10L3QuNC1JywgJ9C20LDRgCcsICfRgNGD0LzRj9C90LXRhiddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdnb2FsJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0YbQtdC70YwnLCAn0LPQvtC7JywgJ9C30LDQtNCw0YfQsCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdoYWxmJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0L/QvtC70L7QstC40L3QsCcsICfRh9Cw0YHRgtGMJywgJ9C90LDQv9C+0LvQvtCy0LjQvdGDJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2hlYWx0aHknLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQt9C00L7RgNC+0LLRi9C5JywgJ9C/0L7Qu9C10LfQvdGL0LknXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnaG9vZicsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C60L7Qv9GL0YLQvicsICfQvdC+0LPQsCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdpbmNsdWRlJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LLQutC70Y7Rh9Cw0YLRjCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdpbnZpdGF0aW9uJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0L/RgNC40LPQu9Cw0YjQtdC90LjQtSddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdrbmlnaHQnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfRgNGL0YbQsNGA0YwnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnbGF6eScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C70LXQvdC40LLRi9C5J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2xlYWYnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQu9C40YHRgicsICfQu9C40YHRgtC+0LLQvtC5J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2xlYWsnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfRg9GC0LXRh9C60LAnLCAn0YLQtdGH0YwnLCAn0L/RgNC+0YHQsNGH0LjQstCw0YLRjNGB0Y8nXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnbGlicmFyeScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9Cx0LjQsdC70LjQvtGC0LXQutCwJywgJ9Cx0LjQsdC70LjQvtGC0LXRh9C90YvQuSddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdtYXJrZXQnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfRgNGL0L3QvtC6JywgJ9Cx0LDQt9Cw0YAnLCAn0L/RgNC+0LTQsNCy0LDRgtGMJywgJ9GA0YvQvdC+0YfQvdGL0LknXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnbWVsdCcsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9GC0LDRj9GC0YwnLCAn0L/Qu9Cw0LLQuNGC0YzRgdGPJywgJ9GA0LDRgdGC0L7Qv9C40YLRjCcsICfQv9C70LDQstC40YLRjNGB0Y8nLCAn0L/Qu9Cw0LLQuNGC0YwnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnbWlzZXJhYmxlJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0L3QtdGB0YfQsNGB0YLQvdGL0LknLCAn0LbQsNC70LrQuNC5JywgJ9GD0LHQvtCz0LjQuSddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdtb250aCcsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C80LXRgdGP0YYnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnbXVkZHknLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQvNGD0YLQuNGC0YwnLCAn0LPRgNGP0LfQvdGL0LknLCAn0LzRg9GC0L3Ri9C5JywgJ9GC0YPRgdC60LvRi9C5J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ211c2V1bScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C80YPQt9C10LknXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnbm90ZScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C30LDQvNC10YLQutCwJywgJ9Cy0L3QuNC80LDQvdC40LUnLCAn0L/RgNC40LzQtdGH0LDQvdC40LUnLCAn0LfQsNC/0LjRgdC60LAnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAncGFpcicsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C/0LDRgNCwJywgJ9GH0LXRgtCwJywgJ9C/0LDRgNC90YvQuSddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdwYXRpZW50JyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0L/QsNGG0LjQtdC90YInLCAn0YLQtdGA0L/QtdC70LjQstGL0LknLCAn0L/QsNGG0LjQtdC90YInLCAn0LHQvtC70YzQvdC+0LknXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAncGVhY2VmdWwnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQvNC40YDQvdC+0LUnLCAn0YHQv9C+0LrQvtC50L3Ri9C5JywgJ9C80LjRgNC90YvQuSddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdwZWNrJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LrQu9C10LLQsNGC0YwnLCAn0LTQvtC70LHQuNGC0YwnLCAn0LrQu9C10LLQvtC6J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3BpbG90JyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0L/QuNC70L7RgicsICfQu9C10YLRh9C40LonLCAn0L/QuNC70L7RgtC40YDQvtCy0LDRgtGMJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3BsYW4nLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQv9C70LDQvScsICfRgdGF0LXQvNCwJywgJ9C/0YDQvtC10LrRgicsICfQt9Cw0LzRi9GB0LXQuycsICfQv9C70LDQvdC40YDQvtCy0LDRgtGMJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3BvaW50eScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C30LDQvtGB0YLRgNC10L3QvdGL0LknXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAncG9uZCcsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C/0YDRg9C0JywgJ9Cy0L7QtNC+0LXQvCcsICfQsdCw0YHRgdC10LnQvSddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdwcmVzaWRlbnQnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQv9GA0LXQt9C40LTQtdC90YInLCAn0L/RgNC10LTRgdC10LTQsNGC0LXQu9GMJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3Byb3RlY3QnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQt9Cw0YnQuNGJ0LDRgtGMJywgJ9C+0YXRgNCw0L3Rj9GC0YwnLCAn0LHQtdGA0LXRh9GMJywgJ9C+0LHQtdGA0LXQs9Cw0YLRjCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdyYWNlJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0YDQsNGB0LAnLCAn0LPQvtC90LrQuCcsICfQs9C+0L3QutCwJywgJ9GA0L7QtCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdyZWFjaCcsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C00L7RgdGC0LjRh9GMJywgJ9C+0YXQstCw0YInLCAn0LTQvtGB0Y/Qs9Cw0LXQvNC+0YHRgtGMJywgJ9C00L7RgdGC0LjQs9Cw0YLRjCcsICfRgdCy0Y/Qt9Cw0YLRjNGB0Y8nLCAn0LTQvtGF0L7QtNC40YLRjCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdyZWxheCcsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9GA0LDRgdGB0LvQsNCx0LjRgtGM0YHRjycsICfQvtGC0LTRi9GF0LDRgtGMJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3JvdHRlbicsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9Cz0L3QuNC70L7QuScsICfQv9GA0L7Qs9C90LjQstGI0LjQuScsICfRgtGD0YXQu9GL0LknXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAncm91bmQnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQutGA0YPQs9C70YvQuScsICfRgNCw0YPQvdC0JywgJ9GC0YPRgCcsICfQutGA0YPQsycsICfQstC+0LrRgNGD0LMnLCAn0LrRgNGD0LPQvtC8JywgJ9C+0LrRgNGD0LPQu9GP0YLRjCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdyb3cnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfRgNGP0LQnLCAn0LPRgNC10YHRgtC4J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3NhaWwnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQv9Cw0YDRg9GB0LAnLCAn0L/QsNGA0YPRgScsICfQv9C70YvRgtGMJywgJ9C/0LvQsNCy0LDRgtGMJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3NjZW5lJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0YHRhtC10L3QsCcsICfQutCw0YDRgtC40L3QsCcsICfRjdC/0LjQt9C+0LQnLCAn0LzQtdGB0YLQviDQtNC10LnRgdGC0LLQuNGPJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3NjcnViJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0YHQutGA0LDQsScsICfQutGD0YHRgtCw0YDQvdC40LonLCAn0YHQutGA0LXRgdGC0LgnLCAn0YLQtdGA0LXRgtGMJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3NoYWRlJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0YLQtdC90YwnLCAn0L7RgtGC0LXQvdC+0LonXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnc2hpcCcsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C60L7RgNCw0LHQu9GMJywgJ9GB0YPQtNC90L4nXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnc2hvcmUnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQsdC10YDQtdCzJywgJ9C/0L7QsdC10YDQtdC20YzQtScsICfQsdC10YDQtdCz0L7QstC+0LknLCAn0L/QvtC00L/QuNGA0LDRgtGMJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3NpbGt5JyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0YjQtdC70LrQvtCy0LjRgdGC0YvQuScsICfRiNC10LvQutC+0LLRi9C5J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3NsaWRlJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LPQvtGA0LrQsCcsICfRgdC70LDQudC0JywgJ9GB0LrQvtC70YzQttC10L3QuNC1JywgJ9C/0L7Qu9C30YPQvScsICfRgdC60L7Qu9GM0LfQuNGC0YwnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnc25pZmYnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfRgdC+0L/QtdC90LjQtScsICfQstC00L7RhScsICfQvdGO0YXQsNGC0YwnLCAn0LLQtNGL0YXQsNGC0YwnLCAn0YHQvtC/0LXRgtGMJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3NvYXB5JyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LzRi9C70YzQvdGL0LknLCAn0LzRi9C70LrQuNC5J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3NwYXJrbGUnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQuNGB0LrRgNC40YLRjNGB0Y8nLCAn0YHQstC10YDQutCw0YLRjCcsICfQsdC70LjRgdGC0LDRgtGMJywgJ9Cx0LvQtdGB0YLQtdGC0YwnLCAn0LHQu9C10YHQuicsICfRgdC40Y/QvdC40LUnLCAn0LjRgdC60L7RgNC60LAnLCAn0YHQstC10YDQutCw0L3QuNC1J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3Nwb3R0ZWQnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQv9GP0YLQvdC40YHRgtGL0LknLCAn0LfQsNC/0Y/RgtC90LDQvdC90YvQuSddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdzcHJpbmcnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQstC10YHQvdCwJywgJ9C/0YDRg9C20LjQvdCwJywgJ9GA0LXRgdGB0L7RgNCwJywgJ9C40YHRgtC+0YfQvdC40LonLCAn0YDQvtC00L3QuNC6JywgJ9Cy0LXRgdC10L3QvdC40LknLCAn0LLQvtC30L3QuNC60LDRgtGMJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3N0YXJlJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LPQu9Cw0LfQtdGC0YwnLCAn0L/Rj9C70LjRgtGM0YHRjycsICfQv9C+0LPQu9Cw0LfQtdGC0YwnLCAn0L/RgNC40YHRgtCw0LvRjNC90YvQuSDQstC30LPQu9GP0LQnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnc3VtbWVyJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LvQtdGC0L4nXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnc3VwcGxpZXMnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQv9GA0LXQtNC80LXRgtGLINGB0L3QsNCx0LbQtdC90LjRjycsICfQt9Cw0L/QsNGBJywgJ9C/0YDQuNC/0LDRgdGLJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3RhbmdsZWQnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQt9Cw0L/Rg9GC0LDQvdC90YvQuSddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICd0ZW50JyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0L/QsNC70LDRgtC60LAnLCAn0L3QsNCy0LXRgSddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICd0b21vcnJvdycsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C30LDQstGC0YDQsCcsICfQt9Cw0LLRgtGA0LDRiNC90LjQuSDQtNC10L3RjCcsICfQt9Cw0LLRgtGA0LDRiNC90LjQuSddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICd0cmFkZScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9GB0LTQtdC70LrQsCcsICfRgtC+0YDQs9C+0LLQu9GPJywgJ9GC0L7RgNCz0L7QstCw0YLRjCcsICfRgtC+0YDQs9C+0LLRi9C5J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3dhcm0nLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfRgtC10L/Qu9C+JywgJ9GC0LXQv9C70YvQuScsICfQs9C+0YDRj9GH0LjQuScsICfQttCw0YDQutC40LknLCAn0L3QsNCz0YDQtdCy0LDRgtGM0YHRjycsICfRgdC+0LPRgNC10LLQsNGC0YwnLCAn0LPRgNC10YLRjCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICd3YXZlJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LLQvtC70L3QsCcsICfQstC+0LvQvdC+0LLQvtC5JywgJ9C80LDRhdCw0YLRjCcsICfQvNCw0YXQvdGD0YLRjCcsICfRgNCw0LfQvNCw0YXQuNCy0LDRgtGMJywgJ9GA0LDQt9Cy0LXQstCw0YLRjNGB0Y8nXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnd2VlaycsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C90LXQtNC10LvRjicsICfQvdC10LTQtdC70Y8nXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnd2lnZ2xlJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0L/QvtC60LDRh9C40LLQsNC90LjQtScsICfQv9C+0LrQsNGH0LjQstCw0YLRjNGB0Y8nLCAn0LjQt9Cy0LjQstCw0YLRjNGB0Y8nLCAn0L/QvtC60LDRh9C40LLQsNGC0YwnLCAn0LXRgNC30LDRgtGMJywgJ9C/0L7QutCw0YfQuNCy0LDQvdC40LUnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnd2ludGVyJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LfQuNC80LAnLCAn0LfQuNC80L3QuNC5J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3dpc2gnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQttC10LvQsNC90LjQtScsICfQv9C+0LbQtdC70LDQvdC40LUnLCAn0LbQtdC70LDRgtGMJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3llc3RlcmRheScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9Cy0YfQtdGA0LAnLCAn0LLRh9C10YDQsNGI0L3QuNC5INC00LXQvdGMJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3lvdW5nJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LzQvtC70L7QtNC+0LknLCAn0Y7QvdGL0LknLCAn0LzQvtC70L7QtNC10LbRjCddXHJcbiAgICB9LFxyXG5dO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZGljdGlvbmFyeTtcclxuIiwiaW1wb3J0IExhYmVsIGZyb20gJy4uLy4uL0NvbXBvbmVudC9MYWJlbCc7XHJcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vLi4vQ29tcG9uZW50L0J1dHRvbic7XHJcbmltcG9ydCBkaWN0aW9uYXJ5IGZyb20gJy4uLy4uLy4uL2RpY3Rpb25hcnkvZGljdGlvbmFyeSc7XHJcbmltcG9ydCBldmVudHMgZnJvbSAnLi4vLi4vLi4vZXZlbnQvZXZlbnRzL2V2ZW50cyc7XHJcbmltcG9ydCBUYXNrTW9kYWxXaW5kb3cgZnJvbSAnLi9UYXNrTW9kYWxXaW5kb3cnO1xyXG5pbXBvcnQgSW1hZ2VDb21wb25lbnQgZnJvbSAnLi4vLi4vSW1hZ2VDb21wb25lbnQvSW1hZ2VDb21wb25lbnQnO1xyXG5cclxuaW1wb3J0IHsgZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3RleHRXaWR0aCc7XHJcblxyXG5jb25zdCBTcGVlY2hSZWNvZ25pdGlvbiA9IHdpbmRvdy5TcGVlY2hSZWNvZ25pdGlvbiB8fCB3aW5kb3cud2Via2l0U3BlZWNoUmVjb2duaXRpb247XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMaXN0ZW5pbmdUYXNrTW9kYWxXaW5kb3cgIGV4dGVuZHMgVGFza01vZGFsV2luZG93IHtcclxuICAgIGNvbnN0cnVjdG9yKHRvcCA9IDAsIGxlZnQgPSAwLCB3aWR0aCA9IDAsIGhlaWdodCA9IDAsIGltYWdlcyA9IHt9LCBwYXJlbnRDb21wb25lbnQgPSBudWxsKSB7XHJcbiAgICAgICAgc3VwZXIodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0LCAn0J/RgNC+0LjQt9C90LXRgdC40YLQtSDRgdC70L7QstC+OicsIGltYWdlcywgcGFyZW50Q29tcG9uZW50KTtcclxuXHJcbiAgICAgICAgY29uc3QgdGV4dEZpZWxkSW1hZ2UgPSBpbWFnZXMudGV4dEZpZWxkSW1hZ2U7XHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGg6IHRleHRGaWVsZFdpZHRoLCBuYXR1cmFsSGVpZ2h0OiB0ZXh0RmllbGRIZWlnaHQgfSA9IHRleHRGaWVsZEltYWdlO1xyXG5cclxuXHJcbiAgICAgICAgY29uc3QgbWljcm9CdXR0b25JbWFnZSA9IGltYWdlcy5taWNyb0J1dHRvbkltYWdlO1xyXG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoOiBtaWNyb0J1dHRvbldpZHRoLCBuYXR1cmFsSGVpZ2h0OiBtaWNyb0J1dHRvbkhlaWdodCB9ID0gbWljcm9CdXR0b25JbWFnZTtcclxuXHJcbiAgICAgICAgdGhpcy53b3JkID0gZGljdGlvbmFyeVtNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAoZGljdGlvbmFyeS5sZW5ndGggLSAxKSldLndvcmQ7XHJcblxyXG4gICAgICAgIGNvbnN0IGxhYmVsVGV4dCA9IGAke3RoaXMud29yZH06IGA7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlY29nbml0aW9uID0gbmV3IFNwZWVjaFJlY29nbml0aW9uKCk7XHJcbiAgICAgICAgcmVjb2duaXRpb24ubGFuZyA9ICdlbi1VUyc7XHJcbiAgICAgICAgcmVjb2duaXRpb24uaW50ZXJpbVJlc3VsdHMgPSBmYWxzZTtcclxuICAgICAgICByZWNvZ25pdGlvbi5tYXhBbHRlcm5hdGl2ZXMgPSAxO1xyXG5cclxuICAgICAgICB0aGlzLnJlY29nbml0aW9uID0gcmVjb2duaXRpb247XHJcblxyXG4gICAgICAgIGNvbnN0IGhhbGZIZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgY29uc3QgaGFsZkV4cHJlc3Npb25XaWR0aCA9IE1hdGguY2VpbCgoZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyhsYWJlbFRleHQsICdtb25vc3BhY2UnLCAnMTZweCcpICsgMSkgLyAyKTtcclxuXHJcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9IG5ldyBMYWJlbChoYWxmSGVpZ2h0IC0gdGV4dEZpZWxkSGVpZ2h0IC0gOCwgNSwgaGFsZkV4cHJlc3Npb25XaWR0aCAqIDIsIHRleHRGaWVsZEhlaWdodCwgbGFiZWxUZXh0KTtcclxuICAgICAgICBjb25zdCBhbnN3ZXIgPSBuZXcgTGFiZWwoaGFsZkhlaWdodCAtIDE1LCA1LHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQsICcnKTtcclxuICAgICAgICBjb25zdCBtaWNyb0J1dHRvbiA9IG5ldyBCdXR0b24oaGFsZkhlaWdodCAtIDE1LCB3aWR0aCAtIDEwIC0gMzAsIG1pY3JvQnV0dG9uV2lkdGggLyAyLCBtaWNyb0J1dHRvbkhlaWdodCwgJycpO1xyXG4gICAgICAgIG1pY3JvQnV0dG9uLnNldEJhY2tncm91bmRJbWFnZShuZXcgSW1hZ2VDb21wb25lbnQobWljcm9CdXR0b25JbWFnZSwgMCwgMCwgbWljcm9CdXR0b25XaWR0aCwgbWljcm9CdXR0b25IZWlnaHQsIG1pY3JvQnV0dG9uV2lkdGgsIG1pY3JvQnV0dG9uSGVpZ2h0LCAwLCAwLCBtaWNyb0J1dHRvbldpZHRoIC8gMiwgbWljcm9CdXR0b25IZWlnaHQpKTtcclxuXHJcbiAgICAgICAgYW5zd2VyLnNldEJhY2tncm91bmRJbWFnZShuZXcgSW1hZ2VDb21wb25lbnQodGV4dEZpZWxkSW1hZ2UsIDAsIDAsIHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQsIHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQsIDAsIDAsIHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQpKTtcclxuICAgICAgICBhbnN3ZXIuc2V0VGV4dENvbG9yKCcjRkZGRjAwJyk7XHJcbiAgICAgICAgZXhwcmVzc2lvbi5zZXRCYWNrZ3JvdW5kQ29sb3IoJ3JnYmEoMCwgMCwgMCwgMCknKTtcclxuICAgICAgICBleHByZXNzaW9uLnNldFRleHRDb2xvcignI2ZmZmZmZicpO1xyXG5cclxuICAgICAgICBjb25zdCBvbmVHbHlwaFdpZHRoID0gTWF0aC5jZWlsKGdldFRleHRXaWR0aFdpdGhDYW52YXMoJ3gnLCAnbW9ub3NwYWNlJywgJzE2cHgnKSk7XHJcblxyXG4gICAgICAgIGFuc3dlci5tYXhUZXh0TGVuZ3RoID0gTWF0aC5mbG9vcigod2lkdGggLSAxMCkgLyBvbmVHbHlwaFdpZHRoKTtcclxuXHJcbiAgICAgICAgbWljcm9CdXR0b24uc2V0QmFja2dyb3VuZENvbG9yKCcjYWFhYWFhJyk7XHJcblxyXG4gICAgICAgIHRoaXMuZXhwcmVzc2lvbktleSA9ICdleHByZXNzaW9uJztcclxuICAgICAgICB0aGlzLmFuc3dlcktleSA9ICdhbnN3ZXInO1xyXG4gICAgICAgIHRoaXMubWljcm9CdXR0b25LZXkgPSAnbWljcm9idXR0b24nO1xyXG5cclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChleHByZXNzaW9uLCB0aGlzLmV4cHJlc3Npb25LZXkpO1xyXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGFuc3dlciwgdGhpcy5hbnN3ZXJLZXkpO1xyXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KG1pY3JvQnV0dG9uLCB0aGlzLm1pY3JvQnV0dG9uS2V5KTtcclxuICAgICAgICBhbnN3ZXIuYWxpZ25DZW50ZXIoKTtcclxuICAgICAgICBtaWNyb0J1dHRvbi5hbGlnbkNlbnRlcigpO1xyXG5cclxuICAgICAgICBleHByZXNzaW9uLnNldEJvdW5kaW5nQ2xpZW50UmVjdCh1bmRlZmluZWQsIGFuc3dlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0KTtcclxuICAgICAgICBtaWNyb0J1dHRvbi5zZXRCb3VuZGluZ0NsaWVudFJlY3QodW5kZWZpbmVkLCBhbnN3ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkucmlnaHQgKyA1KTtcclxuXHJcbiAgICAgICAgbGV0IGlzV29ya2luZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICBtaWNyb0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKGV2ZW50cy5NT1VTRS5NT1VTRV9ET1dOLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWlzV29ya2luZykge1xyXG4gICAgICAgICAgICAgICAgcmVjb2duaXRpb24uc3RhcnQoKTtcclxuICAgICAgICAgICAgICAgIGlzV29ya2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBtaWNyb0J1dHRvbi5nZXRCYWNrZ3JvdW5kSW1hZ2UoKS5zZXRGcmFtZSgwLjYpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVjb2duaXRpb24uc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgaXNXb3JraW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBtaWNyb0J1dHRvbi5nZXRCYWNrZ3JvdW5kSW1hZ2UoKS5zZXRGcmFtZSgwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZWNvZ25pdGlvbi5vbnJlc3VsdCA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQucmVzdWx0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBhbnN3ZXIuc2V0VGV4dChldmVudC5yZXN1bHRzWzBdWzBdLnRyYW5zY3JpcHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIFxyXG4gICAgICAgIHJlY29nbml0aW9uLm9uc3BlZWNoZW5kID0gKCkgPT4ge1xyXG4gICAgICAgICAgICByZWNvZ25pdGlvbi5zdG9wKCk7XHJcbiAgICAgICAgICAgIGlzV29ya2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBtaWNyb0J1dHRvbi5nZXRCYWNrZ3JvdW5kSW1hZ2UoKS5zZXRGcmFtZSgwKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZWNvZ25pdGlvbi5vbmVycm9yID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBvY2N1cnJlZCBpbiByZWNvZ25pdGlvbjogJyArIGV2ZW50LmVycm9yKTtcclxuICAgICAgICAgICAgbWljcm9CdXR0b24uZ2V0QmFja2dyb3VuZEltYWdlKCkuc2V0RnJhbWUoMCk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBhbnN3ZXJJc1JpZ2h0KCkge1xyXG4gICAgICAgIGNvbnN0IGFuc3dlciA9IHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5hbnN3ZXJLZXkpLmdldFRleHQoKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIHJldHVybiAgYW5zd2VyID09PSB0aGlzLndvcmQ7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFNvbHZlRXhwcmVzc2lvblRhc2tXaW5kb3cgZnJvbSAnLi4vVUkvTW9kYWxXaW5kb3dzL1Rhc2tNb2RhbFdpbmRvdy9Tb2x2ZUV4cHJlc3Npb25UYXNrV2luZG93JztcclxuaW1wb3J0IFRyYW5zbGF0ZVRhc2tXaW5kb3cgZnJvbSAnLi4vVUkvTW9kYWxXaW5kb3dzL1Rhc2tNb2RhbFdpbmRvdy9UcmFuc2xhdGVUYXNrTW9kYWxXaW5kb3cnO1xyXG5pbXBvcnQgTGlzdGVuaW5nVGFza01vZGFsV2luZG93IGZyb20gJy4uL1VJL01vZGFsV2luZG93cy9UYXNrTW9kYWxXaW5kb3cvTGlzdGVuaW5nVGFza01vZGFsV2luZG93JztcclxuXHJcbmNvbnN0IHRhc2tzID0gW1xyXG4gICAgU29sdmVFeHByZXNzaW9uVGFza1dpbmRvdyxcclxuICAgIFRyYW5zbGF0ZVRhc2tXaW5kb3csXHJcbiAgICBMaXN0ZW5pbmdUYXNrTW9kYWxXaW5kb3dcclxuXTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhc2tGYWN0b3J5IHtcclxuICAgIGNvbnN0cnVjdG9yKHVpSW1hZ2VzKSB7XHJcbiAgICAgICAgdGhpcy51aUltYWdlcyA9IHVpSW1hZ2VzO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZVRhc2sodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgY29uc3QgaW1hZ2VPYmogPSB7XHJcbiAgICAgICAgICAgIHRleHRGaWVsZEltYWdlOiB0aGlzLnVpSW1hZ2VzWzFdLFxyXG4gICAgICAgICAgICBtb2RhbFdpbmRvd0ltYWdlOiB0aGlzLnVpSW1hZ2VzWzJdLFxyXG4gICAgICAgICAgICBva0J1dHRvbkltYWdlOiB0aGlzLnVpSW1hZ2VzWzNdLFxyXG4gICAgICAgICAgICBtaWNyb0J1dHRvbkltYWdlOiB0aGlzLnVpSW1hZ2VzWzRdLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IHRhc2tDb25zdHJ1Y3RvciA9IHRhc2tzW01hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqICh0YXNrcy5sZW5ndGggLSAxKSldO1xyXG4gICAgICAgIGNvbnN0IHRhc2sgPSBuZXcgdGFza0NvbnN0cnVjdG9yKHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCwgaW1hZ2VPYmopO1xyXG5cclxuICAgICAgICByZXR1cm4gdGFzaztcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgTGFiZWwgZnJvbSAnLi4vLi4vQ29tcG9uZW50L0xhYmVsJztcclxuaW1wb3J0IGRpY3Rpb25hcnkgZnJvbSAnLi4vLi4vLi4vZGljdGlvbmFyeS9kaWN0aW9uYXJ5JztcclxuaW1wb3J0IFRhc2tNb2RhbFdpbmRvdyBmcm9tICcuL1Rhc2tNb2RhbFdpbmRvdyc7XHJcbmltcG9ydCBJbWFnZUNvbXBvbmVudCBmcm9tICcuLi8uLi9JbWFnZUNvbXBvbmVudC9JbWFnZUNvbXBvbmVudCc7XHJcblxyXG5pbXBvcnQgeyBnZXRUZXh0V2lkdGhXaXRoQ2FudmFzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdGV4dFdpZHRoJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyYW5zbGF0ZVRhc2tXaW5kb3cgZXh0ZW5kcyBUYXNrTW9kYWxXaW5kb3cge1xyXG4gICAgY29uc3RydWN0b3IodG9wID0gMCwgbGVmdCA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgaW1hZ2VzID0ge30sIHBhcmVudENvbXBvbmVudCA9IG51bGwpIHtcclxuICAgICAgICBzdXBlcih0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQsICfQn9C10YDQtdCy0LXQtNC40YLQtSDRgdC70L7QstC+OicsIGltYWdlcywgcGFyZW50Q29tcG9uZW50KTtcclxuXHJcbiAgICAgICAgdGhpcy53b3JkT2JqID0gZGljdGlvbmFyeVtNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAoZGljdGlvbmFyeS5sZW5ndGggLSAxKSldO1xyXG5cclxuICAgICAgICBjb25zdCB0ZXh0RmllbGRJbWFnZSA9IGltYWdlcy50ZXh0RmllbGRJbWFnZTtcclxuICAgICAgICBjb25zdCB7IG5hdHVyYWxXaWR0aDogdGV4dEZpZWxkV2lkdGgsIG5hdHVyYWxIZWlnaHQ6IHRleHRGaWVsZEhlaWdodCB9ID0gdGV4dEZpZWxkSW1hZ2U7XHJcblxyXG4gICAgICAgIGNvbnN0IGxhYmVsVGV4dCA9IGAke3RoaXMud29yZE9iai53b3JkfTogYDtcclxuXHJcbiAgICAgICAgY29uc3QgaGFsZkhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQgLyAyKTtcclxuICAgICAgICBjb25zdCBoYWxmRXhwcmVzc2lvbldpZHRoID0gTWF0aC5jZWlsKChnZXRUZXh0V2lkdGhXaXRoQ2FudmFzKGxhYmVsVGV4dCwgJ21vbm9zcGFjZScsICcxNnB4JykgKyAxKSAvIDIpO1xyXG4gICAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSBuZXcgTGFiZWwoaGFsZkhlaWdodCAtIHRleHRGaWVsZEhlaWdodCAtIDgsIDUsIGhhbGZFeHByZXNzaW9uV2lkdGggKiAyLCB0ZXh0RmllbGRIZWlnaHQsIGxhYmVsVGV4dCk7XHJcbiAgICAgICAgY29uc3QgYW5zd2VyID0gbmV3IExhYmVsKGhhbGZIZWlnaHQgLSAxNSwgNSx0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0LCAnJyk7XHJcblxyXG4gICAgICAgIGFuc3dlci5lZGl0YWJsZSA9IHRydWU7XHJcbiAgICAgICAgYW5zd2VyLnNldEJhY2tncm91bmRDb2xvcignI2JiMDAwMCcpO1xyXG5cclxuICAgICAgICBjb25zdCBvbmVHbHlwaFdpZHRoID0gTWF0aC5jZWlsKGdldFRleHRXaWR0aFdpdGhDYW52YXMoJ3gnLCAnbW9ub3NwYWNlJywgJzE2cHgnKSk7XHJcblxyXG4gICAgICAgIGFuc3dlci5tYXhUZXh0TGVuZ3RoID0gTWF0aC5mbG9vcih0ZXh0RmllbGRXaWR0aCAvIG9uZUdseXBoV2lkdGgpICsgMTtcclxuICAgICAgICBhbnN3ZXIuc2V0QmFja2dyb3VuZEltYWdlKG5ldyBJbWFnZUNvbXBvbmVudCh0ZXh0RmllbGRJbWFnZSwgMCwgMCwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCwgMCwgMCwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCkpO1xyXG4gICAgICAgIGFuc3dlci5zZXRUZXh0Q29sb3IoJyNGRkZGMDAnKTtcclxuICAgICAgICBhbnN3ZXIuY3Vyc29yLnNldENvbG9yKCcjMDhCNjAwJyk7XHJcbiAgICAgICAgZXhwcmVzc2lvbi5zZXRCYWNrZ3JvdW5kQ29sb3IoJ3JnYmEoMCwgMCwgMCwgMCknKTtcclxuICAgICAgICBleHByZXNzaW9uLnNldFRleHRDb2xvcignI2ZmZmZmZicpO1xyXG5cclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uS2V5ID0gJ2Rlc2NyaXB0aW9uJztcclxuICAgICAgICB0aGlzLmV4cHJlc3Npb25LZXkgPSAnZXhwcmVzc2lvbic7XHJcbiAgICAgICAgdGhpcy5hbnN3ZXJLZXkgPSAnYW5zd2VyJztcclxuICAgICAgICB0aGlzLmJ1dHRvbktleSA9ICdidXR0b24nO1xyXG5cclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChleHByZXNzaW9uLCB0aGlzLmV4cHJlc3Npb25LZXkpO1xyXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGFuc3dlciwgdGhpcy5hbnN3ZXJLZXkpO1xyXG4gICAgICAgIGFuc3dlci5hbGlnbkNlbnRlcigpO1xyXG5cclxuICAgICAgICBleHByZXNzaW9uLnNldEJvdW5kaW5nQ2xpZW50UmVjdCh1bmRlZmluZWQsIGFuc3dlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0KTtcclxuICAgIH1cclxuXHJcbiAgICBhbnN3ZXJJc1JpZ2h0KCkge1xyXG4gICAgICAgIGNvbnN0IGFuc3dlciA9IHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5hbnN3ZXJLZXkpLmdldFRleHQoKS50cmltKCkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICBjb25zdCB0cmFuc2xhdGUgPSB0aGlzLndvcmRPYmoudHJhbnNsYXRlO1xyXG5cclxuICAgICAgICBsZXQgY29uY2x1c2lvbiA9IGZhbHNlO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRyYW5zbGF0ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25jbHVzaW9uID0gYW5zd2VyID09PSB0cmFuc2xhdGVbaV07XHJcblxyXG4gICAgICAgICAgICBpZiAoY29uY2x1c2lvbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbmNsdXNpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAgY29uY2x1c2lvbjtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBNYWdpYyB7XHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBkYW1hZ2UsIG1hZ2ljR3JhcGhpY0NvbXBvbmVudCkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5kYW1hZ2UgPSBkYW1hZ2U7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5ncmFwaGljQ29tcG9uZW50ID0gbWFnaWNHcmFwaGljQ29tcG9uZW50XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0R3JhcGhpY0NvbXBvbmVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ncmFwaGljQ29tcG9uZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGdldE5hbWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREYW1hZ2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGFtYWdlO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBNYWdpYyBmcm9tICcuL01hZ2ljJztcclxuaW1wb3J0IGV2ZW50cyBmcm9tICcuLi9ldmVudC9ldmVudHMvZXZlbnRzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hZ2ljQXJyb3cgZXh0ZW5kcyBNYWdpYyB7XHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBkYW1hZ2UsIG1hZ2ljR3JhcGhpY0NvbXBvbmVudCwgYXR0YWNrQW5pbWF0aW9ucywgc291bmQpIHtcclxuICAgICAgICBzdXBlcihuYW1lLCBkYW1hZ2UsIG1hZ2ljR3JhcGhpY0NvbXBvbmVudCk7XHJcbiAgICAgICAgdGhpcy5hdHRhY2tBbmltYXRpb25zID0gYXR0YWNrQW5pbWF0aW9ucztcclxuXHJcbiAgICAgICAgdGhpcy5zb3VuZCA9IHNvdW5kO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEdyYXBoaWNDb21wb25lbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ3JhcGhpY0NvbXBvbmVudDtcclxuICAgIH1cclxuXHJcbiAgICBnZXROYW1lKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGFtYWdlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhbWFnZTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBhdHRhY2soY2hhcmFjdGVyLCBlbmVteSwgY2FudmFzKSB7XHJcbiAgICAgICAgY29uc3QgeyBsZWZ0OiBjaGFyYWN0ZXJMZWZ0LCB3aWR0aDogY2hhcmFjdGVyV2lkdGggfSA9IGNoYXJhY3Rlci5nZXRHcmFwaGljQ29tcG9uZW50KCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgY29uc3QgeyB0b3AsIGxlZnQsIGhlaWdodCB9ID0gZW5lbXkuZ2V0R3JhcGhpY0NvbXBvbmVudCgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgICAgICBsZXQgZGlmID0gbGVmdCAtIGNoYXJhY3RlckxlZnQgKyBNYXRoLmZsb29yKGNoYXJhY3RlcldpZHRoIC8gNCk7XHJcblxyXG4gICAgICAgIHRoaXMuYXR0YWNrQW5pbWF0aW9uc1swXS5hbmltYXRpb25zLnNldEFuaW1hdGlvbignYXNkJywgMC45MjQsIDEsIChjb250ZXh0LCBpbml0aWFsUHJvcGVydGllcywgcHJvcGVydGllcywgZWxhcHNlVGltZSwgZSkgPT4ge1xyXG4gICAgICAgICAgICBlLmJhY2tncm91bmRJbWFnZS5zZXRGcmFtZShlbGFwc2VUaW1lKTtcclxuICAgICAgICAgICAgZS5zZXRCb3VuZGluZ0NsaWVudFJlY3QodW5kZWZpbmVkLCBjaGFyYWN0ZXJMZWZ0ICsgZGlmICogZWxhcHNlVGltZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG1vdmluZ1Byb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmF0dGFja0FuaW1hdGlvbnNbMF0uYWRkRXZlbnRMaXN0ZW5lcihldmVudHMuQU5JTUFUSU9OLkFOSU1BVElPTl9FTkQsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjYW52YXMucmVtb3ZlU2NlbmUodGhpcy5hdHRhY2tBbmltYXRpb25zWzBdKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYXR0YWNrQW5pbWF0aW9uc1swXS5zZXRCb3VuZGluZ0NsaWVudFJlY3QodG9wICsgTWF0aC5mbG9vcihoZWlnaHQgLyAyKSwgY2hhcmFjdGVyTGVmdCk7XHJcblxyXG4gICAgICAgIGNhbnZhcy5hZGRTY2VuZSh0aGlzLmF0dGFja0FuaW1hdGlvbnNbMF0pO1xyXG5cclxuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoKTtcclxuXHJcbiAgICAgICAgYXdhaXQgbW92aW5nUHJvbWlzZTtcclxuXHJcbiAgICAgICAgdGhpcy5hdHRhY2tBbmltYXRpb25zWzFdLmFuaW1hdGlvbnMuc2V0QW5pbWF0aW9uKCdhc2QnLCAwLjkyNCwgMSwgKGNvbnRleHQsIGluaXRpYWxQcm9wZXJ0aWVzLCBwcm9wZXJ0aWVzLCBlbGFwc2VUaW1lLCBlKSA9PiB7XHJcbiAgICAgICAgICAgIGUuYmFja2dyb3VuZEltYWdlLnNldEZyYW1lKGVsYXBzZVRpbWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBhdHRhY2tQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2tBbmltYXRpb25zWzFdLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLkFOSU1BVElPTi5BTklNQVRJT05fRU5ELCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLnJlbW92ZVNjZW5lKHRoaXMuYXR0YWNrQW5pbWF0aW9uc1sxXSk7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmF0dGFja0FuaW1hdGlvbnNbMV0uc2V0Qm91bmRpbmdDbGllbnRSZWN0KHRvcCArIE1hdGguZmxvb3IoaGVpZ2h0IC8gMiksIGxlZnQgKyBNYXRoLmZsb29yKGNoYXJhY3RlcldpZHRoIC8gNCkpO1xyXG5cclxuICAgICAgICBjYW52YXMuYWRkU2NlbmUodGhpcy5hdHRhY2tBbmltYXRpb25zWzFdKTtcclxuXHJcbiAgICAgICAgYXdhaXQgYXR0YWNrUHJvbWlzZTsgICAgICAgIFxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBNYWdpYyBmcm9tICcuL01hZ2ljJztcclxuaW1wb3J0IGV2ZW50cyBmcm9tICcuLi9ldmVudC9ldmVudHMvZXZlbnRzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEltcGxvc2lvbiBleHRlbmRzIE1hZ2ljIHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGRhbWFnZSwgbWFnaWNHcmFwaGljQ29tcG9uZW50LCBhdHRhY2tBbmltYXRpb25zLCBzb3VuZCkge1xyXG4gICAgICAgIHN1cGVyKG5hbWUsIGRhbWFnZSwgbWFnaWNHcmFwaGljQ29tcG9uZW50KTtcclxuICAgICAgICB0aGlzLmF0dGFja0FuaW1hdGlvbnMgPSBhdHRhY2tBbmltYXRpb25zO1xyXG5cclxuICAgICAgICB0aGlzLnNvdW5kID0gc291bmQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0R3JhcGhpY0NvbXBvbmVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ncmFwaGljQ29tcG9uZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGdldE5hbWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREYW1hZ2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGFtYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGF0dGFjayhjaGFyYWN0ZXIsIGVuZW15LCBjYW52YXMpIHtcclxuICAgICAgICBjb25zdCB7IHRvcCwgbGVmdCwgd2lkdGggfSA9IGVuZW15LmdldEdyYXBoaWNDb21wb25lbnQoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgICAgdGhpcy5hdHRhY2tBbmltYXRpb25zWzBdLmFuaW1hdGlvbnMuc2V0QW5pbWF0aW9uKCdhc2QnLCAwLjkyNCwgMSwgKGNvbnRleHQsIGluaXRpYWxQcm9wZXJ0aWVzLCBwcm9wZXJ0aWVzLCBlbGFwc2VUaW1lLCBlKSA9PiB7XHJcbiAgICAgICAgICAgIGUuYmFja2dyb3VuZEltYWdlLnNldEZyYW1lKGVsYXBzZVRpbWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBhdHRhY2tQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hdHRhY2tBbmltYXRpb25zWzBdLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLkFOSU1BVElPTi5BTklNQVRJT05fRU5ELCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLnJlbW92ZVNjZW5lKHRoaXMuYXR0YWNrQW5pbWF0aW9uc1swXSk7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmF0dGFja0FuaW1hdGlvbnNbMF0uc2V0Qm91bmRpbmdDbGllbnRSZWN0KHRvcCwgTWF0aC5mbG9vcihsZWZ0ICsgd2lkdGggLyAzKSk7XHJcblxyXG4gICAgICAgIHRoaXMuc291bmQucGxheSgpO1xyXG4gICAgICAgIGNhbnZhcy5hZGRTY2VuZSh0aGlzLmF0dGFja0FuaW1hdGlvbnNbMF0pO1xyXG5cclxuICAgICAgICBhd2FpdCBhdHRhY2tQcm9taXNlOyAgICAgICAgXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IEltYWdlQ29tcG9uZW50IGZyb20gXCIuLi9VSS9JbWFnZUNvbXBvbmVudC9JbWFnZUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi4vVUkvQ29tcG9uZW50L0NvbXBvbmVudFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFnaWNHcmFwaGljQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHRvcCwgbGVmdCwgc2NhbGUsIG1hZ2ljSW1nLCBwYXJlbnRDb21wb25lbnQgPSBudWxsKSB7XHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGgsIG5hdHVyYWxIZWlnaHQgfSA9IG1hZ2ljSW1nO1xyXG4gICAgICAgIGNvbnN0IHNjYWxlZFdpZHRoID0gbmF0dXJhbFdpZHRoICogc2NhbGU7XHJcbiAgICAgICAgY29uc3Qgc2NhbGVkSGVpZ2h0ID0gbmF0dXJhbEhlaWdodCAqIHNjYWxlO1xyXG5cclxuICAgICAgICBzdXBlcih0b3AsIGxlZnQsIHNjYWxlZFdpZHRoLCBzY2FsZWRIZWlnaHQsIHBhcmVudENvbXBvbmVudCk7XHJcblxyXG4gICAgICAgIGlmIChtYWdpY0ltZyBpbnN0YW5jZW9mIEltYWdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QmFja2dyb3VuZEltYWdlKG5ldyBJbWFnZUNvbXBvbmVudChtYWdpY0ltZywgMCwgMCwgbmF0dXJhbFdpZHRoLCBuYXR1cmFsSGVpZ2h0LCBzY2FsZWRXaWR0aCwgc2NhbGVkSGVpZ2h0LCAwLCAwLCBuYXR1cmFsV2lkdGgsIG5hdHVyYWxIZWlnaHQpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucHJvcGVydGllcy5jdXJzb3IgPSAncG9pbnRlcic7XHJcbiAgICB9IFxyXG59XHJcbiIsImltcG9ydCBNYWdpY0Fycm93IGZyb20gJy4uL01hZ2ljL01hZ2ljQXJyb3cnO1xyXG5pbXBvcnQgSW1wbG9zaW9uIGZyb20gJy4uL01hZ2ljL0ltcGxvc2lvbic7XHJcbmltcG9ydCBJbWFnZUNvbXBvbmVudCBmcm9tICcuLi9VSS9JbWFnZUNvbXBvbmVudC9JbWFnZUNvbXBvbmVudCc7XHJcbmltcG9ydCBNYWdpY0dyYXBoaWNDb21wb25lbnQgZnJvbSAnLi4vR3JhcGhpY0NvbXBvbmVudC9NYWdpY0dyYXBoaWNDb21wb25lbnQnO1xyXG5cclxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi4vVUkvQ29tcG9uZW50L0NvbXBvbmVudCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWdpY0ZhY3Rvcnkge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5hc3NldHMgPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRNYWdpY0Fzc2V0cyhpbWFnZXMsIHNvdW5kLCBuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5hc3NldHNbbmFtZV0gPSB7XHJcbiAgICAgICAgICAgIGltYWdlcyxcclxuICAgICAgICAgICAgc291bmRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZU1hZ2ljQXJyb3coZGFtYWdlLCBmb3JFbmVteSA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmFzc2V0cy5tYWdpY0Fycm93KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgaW1hZ2VzID0gdGhpcy5hc3NldHMubWFnaWNBcnJvdy5pbWFnZXM7XHJcbiAgICAgICAgY29uc3Qgc291bmQgPSB0aGlzLmFzc2V0cy5tYWdpY0Fycm93LnNvdW5kO1xyXG5cclxuICAgICAgICBjb25zdCBpbWcgPSBpbWFnZXNbMF07XHJcbiAgICAgICAgbGV0IG1vdmluZ0FuaW1hdGlvbkltZyA9IGltYWdlc1sxXTtcclxuICAgICAgICBjb25zdCBibG93QW5pbWF0aW9uSW1nID0gaW1hZ2VzWzNdO1xyXG5cclxuICAgICAgICBpZiAoZm9yRW5lbXkpIHtcclxuICAgICAgICAgICAgbW92aW5nQW5pbWF0aW9uSW1nID0gaW1hZ2VzWzJdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHsgbmF0dXJhbFdpZHRoLCBuYXR1cmFsSGVpZ2h0IH0gPSBtb3ZpbmdBbmltYXRpb25JbWc7XHJcblxyXG4gICAgICAgIGNvbnN0IG1hZ2ljTW92aW5nQW5pbWF0aW9uID0gbmV3IEltYWdlQ29tcG9uZW50KG1vdmluZ0FuaW1hdGlvbkltZywgMCwgMCwgbmF0dXJhbFdpZHRoICwgbmF0dXJhbEhlaWdodCwgbmF0dXJhbFdpZHRoIC8gMTQsIG5hdHVyYWxIZWlnaHQsIDAsIDAsIG5hdHVyYWxXaWR0aCAvIDE0LCBuYXR1cmFsSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgY29uc3QgbW92aW5nQW5pbWF0aW9uID0gbmV3IENvbXBvbmVudCgwLCAwLCBuYXR1cmFsV2lkdGggLyAxNCwgbmF0dXJhbEhlaWdodCk7XHJcbiAgICAgICAgbW92aW5nQW5pbWF0aW9uLnNldEJhY2tncm91bmRJbWFnZShtYWdpY01vdmluZ0FuaW1hdGlvbik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgKHtuYXR1cmFsV2lkdGgsIG5hdHVyYWxIZWlnaHQgfSA9IGJsb3dBbmltYXRpb25JbWcpO1xyXG5cclxuICAgICAgICBjb25zdCBtYWdpY0Jsb3dBbmltYXRpb24gPSBuZXcgSW1hZ2VDb21wb25lbnQoYmxvd0FuaW1hdGlvbkltZywgMCwgMCwgbmF0dXJhbFdpZHRoICwgbmF0dXJhbEhlaWdodCwgbmF0dXJhbFdpZHRoIC8gMTQsIG5hdHVyYWxIZWlnaHQsIDAsIDAsIG5hdHVyYWxXaWR0aCAvIDE0LCBuYXR1cmFsSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gbmV3IENvbXBvbmVudCgwLCAwLCBuYXR1cmFsV2lkdGggLyAxNCwgbmF0dXJhbEhlaWdodCk7XHJcbiAgICAgICAgYW5pbWF0aW9uLnNldEJhY2tncm91bmRJbWFnZShtYWdpY0Jsb3dBbmltYXRpb24pO1xyXG5cclxuICAgICAgICBjb25zdCBncmFwaGljQ29tcG9uZW50ID0gbmV3IE1hZ2ljR3JhcGhpY0NvbXBvbmVudCgxMCwgMTAsIDIsIGltZyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIG5ldyBNYWdpY0Fycm93KCfQktC+0LvRiNC10LHQvdCw0Y8g0YHRgtGA0LXQu9CwJywgZGFtYWdlLCBncmFwaGljQ29tcG9uZW50LCBbbW92aW5nQW5pbWF0aW9uLCBhbmltYXRpb25dLCBzb3VuZCk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlSW1wbG9zaW9uQXJyb3coZGFtYWdlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmFzc2V0cy5pbXBsb3Npb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBpbWFnZXMgPSB0aGlzLmFzc2V0cy5pbXBsb3Npb24uaW1hZ2VzO1xyXG4gICAgICAgIGNvbnN0IHNvdW5kID0gdGhpcy5hc3NldHMuaW1wbG9zaW9uLnNvdW5kO1xyXG5cclxuICAgICAgICBjb25zdCBpbWcgPSBpbWFnZXNbMF07XHJcbiAgICAgICAgY29uc3QgYmxvd0FuaW1hdGlvbkltZyA9IGltYWdlc1sxXTtcclxuXHJcbiAgICAgICAgbGV0IHsgbmF0dXJhbFdpZHRoLCBuYXR1cmFsSGVpZ2h0IH0gPSBibG93QW5pbWF0aW9uSW1nO1xyXG5cclxuICAgICAgICBjb25zdCBtYWdpY0Jsb3dBbmltYXRpb24gPSBuZXcgSW1hZ2VDb21wb25lbnQoYmxvd0FuaW1hdGlvbkltZywgMCwgMCwgbmF0dXJhbFdpZHRoICwgbmF0dXJhbEhlaWdodCwgbmF0dXJhbFdpZHRoIC8gMTksIG5hdHVyYWxIZWlnaHQsIDAsIDAsIG5hdHVyYWxXaWR0aCAvIDE5LCBuYXR1cmFsSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uID0gbmV3IENvbXBvbmVudCgwLCAwLCBuYXR1cmFsV2lkdGggLyAxOSwgbmF0dXJhbEhlaWdodCk7XHJcbiAgICAgICAgYW5pbWF0aW9uLnNldEJhY2tncm91bmRJbWFnZShtYWdpY0Jsb3dBbmltYXRpb24pO1xyXG5cclxuICAgICAgICBjb25zdCBncmFwaGljQ29tcG9uZW50ID0gbmV3IE1hZ2ljR3JhcGhpY0NvbXBvbmVudCgxMCwgMTAsIDIsIGltZyk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBJbXBsb3Npb24oJ9CS0LfRgNGL0LInLCBkYW1hZ2UsIGdyYXBoaWNDb21wb25lbnQsIFthbmltYXRpb25dLCBzb3VuZCk7XHJcbiAgICB9XHJcbn0gXHJcbiIsImltcG9ydCBJbWFnZUNvbXBvbmVudCBmcm9tICcuLi9VSS9JbWFnZUNvbXBvbmVudC9JbWFnZUNvbXBvbmVudCc7XHJcblxyXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuLi9VSS9Db21wb25lbnQvQ29tcG9uZW50JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vbnN0ZXJHcmFwaGljQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHRvcCwgbGVmdCwgY2hhcmFjdGVySW1nLCBwYXJlbnRDb21wb25lbnQgPSBudWxsKSB7XHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGgsIG5hdHVyYWxIZWlnaHQgfSA9IGNoYXJhY3RlckltZztcclxuXHJcbiAgICAgICAgc3VwZXIodG9wLCBsZWZ0LCBuYXR1cmFsV2lkdGgsIG5hdHVyYWxIZWlnaHQsIHBhcmVudENvbXBvbmVudCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0QmFja2dyb3VuZEltYWdlKG5ldyBJbWFnZUNvbXBvbmVudChjaGFyYWN0ZXJJbWcsIDAsIDAsIG5hdHVyYWxXaWR0aCwgbmF0dXJhbEhlaWdodCwgbmF0dXJhbFdpZHRoLCBuYXR1cmFsSGVpZ2h0LCAwLCAwLCBuYXR1cmFsV2lkdGgsIG5hdHVyYWxIZWlnaHQpKTtcclxuICAgIH1cclxufSIsImltcG9ydCBHYW1lIGZyb20gJy4vR2FtZS9HYW1lJztcblxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcbiAgICBjb25zdCBnYW1lID0gbmV3IEdhbWUoKTtcbiB9O1xuICIsImltcG9ydCBDYW52YXMgZnJvbSAnLi4vQ2FudmFzL0NhbnZhcyc7XG5pbXBvcnQgRXZlbnRRdWV1ZSBmcm9tICcuLi9ldmVudC9FdmVudFF1ZXVlL0V2ZW50UXVldWUnO1xuaW1wb3J0IGV2ZW50cyBmcm9tICcuLi9ldmVudC9ldmVudHMvZXZlbnRzJztcbmltcG9ydCBVSSBmcm9tICcuLi9VSS9VSSc7XG5pbXBvcnQgTGFiZWwgZnJvbSAnLi4vVUkvQ29tcG9uZW50L0xhYmVsJztcbmltcG9ydCBJbWFnZUNvbXBvbmVudCBmcm9tICcuLi9VSS9JbWFnZUNvbXBvbmVudC9JbWFnZUNvbXBvbmVudCc7XG5pbXBvcnQgVGV4dElucHV0TW9kYWxXaW5kb3cgZnJvbSAnLi4vVUkvTW9kYWxXaW5kb3dzL1RleHRJbnB1dE1vZGFsV2luZG93JztcbmltcG9ydCBNYWdpY1NlbGVjdGluZ01vZGFsV2luZG93IGZyb20gJy4uL1VJL01vZGFsV2luZG93cy9NYWdpY1NlbGVjdGluZ01vZGFsV2luZG93JztcbmltcG9ydCBQcm9ncmVzc0JhciBmcm9tICcuLi9VSS9Db21wb25lbnQvUHJvZ3Jlc3NCYXInO1xuaW1wb3J0IFN0YXR1c0JhciBmcm9tICcuLi9VSS9Db21wb25lbnQvU3RhdHVzQmFyJztcbmltcG9ydCBDaGFyYWN0ZXJJbmZvV2luZG93IGZyb20gJy4uL1VJL0NvbXBvbmVudC9DaGFyYWN0ZXJJbmZvV2luZG93JztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vVUkvQ29tcG9uZW50L0J1dHRvbic7XG5pbXBvcnQgVGFibGUgZnJvbSAnLi4vVUkvQ29tcG9uZW50L1RhYmxlJztcbmltcG9ydCBMb2FkTWFuYWdlciBmcm9tICcuLi9NYW5hZ2Vycy9Mb2FkTWFuYWdlcic7XG5pbXBvcnQgU3RvcmFnZU1hbmFnZXIgZnJvbSAnLi4vTWFuYWdlcnMvU3RvcmFnZU1hbmFnZXInO1xuaW1wb3J0IFBBVEggZnJvbSAnLi4vcGF0aC9wYXRoJztcbmltcG9ydCBNb25zdGVyRmFjdG9yeSBmcm9tICcuLi9GYWN0b3JpZXMvTW9uc3RlckZhY3RvcnknO1xuaW1wb3J0IFRhc2tGYWN0b3J5IGZyb20gJy4uL0ZhY3Rvcmllcy9UYXNrRmFjdG9yeSc7XG5pbXBvcnQgTWFnaWNGYWN0b3J5IGZyb20gJy4uL0ZhY3Rvcmllcy9NYWdpY0ZhY3RvcnknO1xuaW1wb3J0IFBsYXllckdyYXBoaWNDb21wb25lbnQgZnJvbSAnLi4vR3JhcGhpY0NvbXBvbmVudC9QbGF5ZXJHcmFwY2hpY0NvbXBvbmVudCc7XG5pbXBvcnQgQ2hhcmFjdGVyIGZyb20gJy4uL0NoYXJhY3Rlci9DaGFyYWN0ZXInO1xuXG5pbXBvcnQgeyBDb21wb25lbnQsIENvbXBvc2l0ZUNvbXBvbmVudCB9IGZyb20gJy4uL1VJL0NvbXBvbmVudC9Db21wb25lbnQnO1xuaW1wb3J0IHsgZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyB9IGZyb20gJy4uL3V0aWxzL3RleHRXaWR0aCc7XG5pbXBvcnQgeyBjcmVhdGVGaWxlUHJvbWlzZSB9IGZyb20gJy4uL3V0aWxzL2ZpbGUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHYW1lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kSW1nc0tleSA9ICdiYWNrZ3JvdW5kJztcbiAgICAgICAgdGhpcy5tYWluQ2hhckltZ3NLZXkgPSAnbWFpbmNoYXInO1xuICAgICAgICB0aGlzLmhlYWRJbWdzS2V5ID0gJ2hlYWRzJztcbiAgICAgICAgdGhpcy5ib2R5SW1nc0tleSA9ICdib2RpZXMnO1xuICAgICAgICB0aGlzLmxlZnRBcm1JbWdzS2V5ID0gJ2xlZnRhcm1zJztcbiAgICAgICAgdGhpcy5yaWdodEFybUltZ3NLZXkgPSAncmlnaHRhcm1zJztcbiAgICAgICAgdGhpcy5sZWdJbWdzS2V5ID0gJ2xlZ3MnO1xuICAgICAgICB0aGlzLm1hZ2ljSW1nc0tleSA9ICdtYWdpY3MnO1xuICAgICAgICB0aGlzLnVpSW1nc0tleSA9ICd1aSc7XG5cbiAgICAgICAgdGhpcy5tYWdpY1NvdW5kS2V5ID0gJ21hZ2ljcyc7XG5cbiAgICAgICAgdGhpcy5zdGF0dXNCYXJLZXkgPSAnc3RhdHVzYmFyJztcblxuICAgICAgICB0aGlzLm1vbnN0ZXJLaWxsQ291bnQgPSAwO1xuXG4gICAgICAgIHRoaXMubG9hZE1hbmFnZXIgPSBuZXcgTG9hZE1hbmFnZXIoKTtcbiAgICAgICAgdGhpcy5zdG9yYWdlTWFuYWdlciA9IG5ldyBTdG9yYWdlTWFuYWdlcigpO1xuXG4gICAgICAgIHRoaXMuY2FudmFzID0gbmV3IENhbnZhcygpO1xuICAgICAgICB0aGlzLmV2ZW50UXVldWUgPSBuZXcgRXZlbnRRdWV1ZSgpO1xuICAgICAgICB0aGlzLnVpID0gbmV3IFVJKCk7XG4gICAgICAgIHRoaXMudWlDb21wb25lbnRzO1xuXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IG5ldyBDb21wb25lbnQoMCwgMCwgJzEwMCUnLCAnMTAwJScpO1xuXG4gICAgICAgIHRoaXMuaW5pdCgpO1xuXG4gICAgICAgIHRoaXMubWFpbiA9IHRoaXMubWFpbi5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm1haW4oMCk7XG4gICAgfVxuXG4gICAgYXN5bmMgaW5pdCgpIHtcbiAgICAgICAgY29uc3QgbG9hZGluZ1NjcmVlbiA9IGF3YWl0IHRoaXMuc2hvd0xvYWRpbmdTY3JlZW4oKTtcbiAgICAgICAgY29uc3QgbG9hZGluZ1Byb2dyZXNzQmFyID0gbG9hZGluZ1NjcmVlbi5nZXRMb2FkaW5nUHJvZ3Jlc3NCYXIoKTtcblxuICAgICAgICB0aGlzLmluaXRMb2FkaW5nUGF0aCgpO1xuXG4gICAgICAgIGNvbnN0IGxvYWRNYW5hZ2VyID0gdGhpcy5sb2FkTWFuYWdlcjtcblxuICAgICAgICBjb25zdCB0b3RhbFNpemUgPSBhd2FpdCBsb2FkTWFuYWdlci5jYWxjdWxhdGVUb3RhbFNpemUoKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhgdG90YWw6ICR7dG90YWxTaXplfWApO1xuXG4gICAgICAgIGF3YWl0IGxvYWRNYW5hZ2VyLmxvYWQoKGxvYWRlZFBlcmNlbnRhZ2UpID0+IGxvYWRpbmdQcm9ncmVzc0Jhci5zZXRWYWx1ZShsb2FkZWRQZXJjZW50YWdlKSk7XG5cbiAgICAgICAgY29uc29sZS5sb2coJ2xvYWRlZCcpO1xuXG4gICAgICAgIHRoaXMuY2FudmFzLnJlbW92ZVNjZW5lKGxvYWRpbmdTY3JlZW4pO1xuXG4gICAgICAgIGNvbnN0IGJhY2tncm91bmQgPSBsb2FkTWFuYWdlci5nZXRJbWFnZXNCeU5hbWUodGhpcy5iYWNrZ3JvdW5kSW1nc0tleSlbMF07XG5cbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLmJhY2tncm91bmQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kLnNldEJhY2tncm91bmRJbWFnZShuZXcgSW1hZ2VDb21wb25lbnQoYmFja2dyb3VuZCwgMCwgMCwgYmFja2dyb3VuZC5uYXR1cmFsV2lkdGgsIGJhY2tncm91bmQubmF0dXJhbEhlaWdodCwgd2lkdGgsIGhlaWdodCwgMCwgMCwgIGJhY2tncm91bmQubmF0dXJhbFdpZHRoLCBiYWNrZ3JvdW5kLm5hdHVyYWxIZWlnaHQpKTtcblxuICAgICAgICB0aGlzLmNhbnZhcy5hZGRTY2VuZSh0aGlzLmJhY2tncm91bmQpO1xuXG4gICAgICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnNUb0NhbnZhcygpO1xuXG4gICAgICAgIGNvbnN0IGhlYWRzID0gbG9hZE1hbmFnZXIuZ2V0SW1hZ2VzQnlOYW1lKHRoaXMuaGVhZEltZ3NLZXkpO1xuICAgICAgICBjb25zdCBib2RpZXMgPSBsb2FkTWFuYWdlci5nZXRJbWFnZXNCeU5hbWUodGhpcy5ib2R5SW1nc0tleSk7XG4gICAgICAgIGNvbnN0IGxlZnRBcm1zID0gbG9hZE1hbmFnZXIuZ2V0SW1hZ2VzQnlOYW1lKHRoaXMubGVmdEFybUltZ3NLZXkpO1xuICAgICAgICBjb25zdCByaWdodEFybXMgPSBsb2FkTWFuYWdlci5nZXRJbWFnZXNCeU5hbWUodGhpcy5yaWdodEFybUltZ3NLZXkpO1xuICAgICAgICBjb25zdCBsZWdzID0gbG9hZE1hbmFnZXIuZ2V0SW1hZ2VzQnlOYW1lKHRoaXMubGVnSW1nc0tleSk7XG5cbiAgICAgICAgdGhpcy50YXNrRmFjdG9yeSA9IG5ldyBUYXNrRmFjdG9yeSh0aGlzLmxvYWRNYW5hZ2VyLmdldEltYWdlc0J5TmFtZSh0aGlzLnVpSW1nc0tleSkpO1xuICAgICAgICB0aGlzLm1hZ2ljRmFjdG9yeSA9IG5ldyBNYWdpY0ZhY3RvcnkoKTtcbiAgICAgICAgdGhpcy5tb25zdGVyRmFjdG9yeSA9IG5ldyBNb25zdGVyRmFjdG9yeShoZWFkcywgbGVmdEFybXMsIHJpZ2h0QXJtcywgYm9kaWVzLCBsZWdzKTtcblxuICAgICAgICB0aGlzLm1hZ2ljRmFjdG9yeS5hZGRNYWdpY0Fzc2V0cyhsb2FkTWFuYWdlci5nZXRJbWFnZXNCeU5hbWUodGhpcy5tYWdpY0ltZ3NLZXkpLnNsaWNlKDAsIDQpLCBsb2FkTWFuYWdlci5nZXRTb3VuZEJ5TmFtZSh0aGlzLm1hZ2ljU291bmRLZXkpWzBdLCAnbWFnaWNBcnJvdycpO1xuICAgICAgICB0aGlzLm1hZ2ljRmFjdG9yeS5hZGRNYWdpY0Fzc2V0cyhsb2FkTWFuYWdlci5nZXRJbWFnZXNCeU5hbWUodGhpcy5tYWdpY0ltZ3NLZXkpLnNsaWNlKDQsIDQgKyAyKSwgbG9hZE1hbmFnZXIuZ2V0U291bmRCeU5hbWUodGhpcy5tYWdpY1NvdW5kS2V5KVsxXSwgJ2ltcGxvc2lvbicpO1xuXG4gICAgICAgIHRoaXMuc2V0VXBVSSgpO1xuICAgIH0gICBcblxuICAgIHNldFVwVUkobmFtZSA9ICcnKSB7XG4gICAgICAgIGNvbnN0IGxvYWRNYW5hZ2VyID0gdGhpcy5sb2FkTWFuYWdlcjtcblxuICAgICAgICB0aGlzLnVpQ29tcG9uZW50cyA9IG5ldyBDb21wb3NpdGVDb21wb25lbnQoMCwgMCwgd2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG5cbiAgICAgICAgY29uc3Qgc3RhdHVzQmFySW1nID0gbG9hZE1hbmFnZXIuZ2V0SW1hZ2VzQnlOYW1lKHRoaXMudWlJbWdzS2V5KS5zbGljZSg1LCA1ICsgMyk7XG5cbiAgICAgICAgY29uc3Qgc3RhdHVzQmFySW1nT2JnID0ge1xuICAgICAgICAgICAgYmFjazogc3RhdHVzQmFySW1nWzBdLFxuICAgICAgICAgICAgbGVmdDogc3RhdHVzQmFySW1nWzFdLFxuICAgICAgICAgICAgcmlnaHQ6IHN0YXR1c0JhckltZ1syXSxcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBzdGF0dXNCYXIgPSBuZXcgU3RhdHVzQmFyKHdpbmRvdy5pbm5lckhlaWdodCAtIDE1MCwgMCwgd2luZG93LmlubmVyV2lkdGgsIDE1MCwgc3RhdHVzQmFySW1nT2JnKTtcbiAgICAgICAgc3RhdHVzQmFyLnNldEJhY2tncm91bmRDb2xvcignIzAwZmYwMCcpO1xuXG4gICAgICAgIGNvbnN0IGluZm9XaW5kb3dJbWFnZSA9IGxvYWRNYW5hZ2VyLmdldEltYWdlc0J5TmFtZSh0aGlzLnVpSW1nc0tleSlbOF07XG5cbiAgICAgICAgY29uc3QgcGxheWVySW5mb1dpbmRvdyA9IG5ldyBDaGFyYWN0ZXJJbmZvV2luZG93KDEwLCBNYXRoLmNlaWwod2luZG93LmlubmVyV2lkdGggLyAyKSAtIDIwMCAtIDE1MCwgMjAwLCAxMzAsICcnLCAwLCAxMDAsIDAsIHsgYmFjazogaW5mb1dpbmRvd0ltYWdlIH0pO1xuICAgICAgICBjb25zdCBtb25zdGVySW5mb1dpbmRvdyA9IG5ldyBDaGFyYWN0ZXJJbmZvV2luZG93KDEwLCBNYXRoLmNlaWwod2luZG93LmlubmVyV2lkdGggLyAyKSArIDE1MCwgMjAwLCAxMzAsICcnLCAwLCAxMDAsIDAsIHsgYmFjazogaW5mb1dpbmRvd0ltYWdlIH0pO1xuICAgICAgICBzdGF0dXNCYXIuc2V0UGxheWVySW5mb1dpbmRvdyhwbGF5ZXJJbmZvV2luZG93KTtcbiAgICAgICAgc3RhdHVzQmFyLnNldEVuZW15SW5mb1dpbmRvdyhtb25zdGVySW5mb1dpbmRvdyk7XG4gICAgICAgIHBsYXllckluZm9XaW5kb3cuc2V0QmFja2dyb3VuZENvbG9yKCcjZjRmMTQyJyk7XG4gICAgICAgIG1vbnN0ZXJJbmZvV2luZG93LnNldEJhY2tncm91bmRDb2xvcignI2Y0ZjE0MicpO1xuXG4gICAgICAgIHRoaXMudWkuYWRkKHRoaXMudWlDb21wb25lbnRzKTtcblxuICAgICAgICBjb25zdCBtb2RhbFdpbmRvdyA9IHRoaXMuc2hvd05hbWVFbnRlcihuYW1lKTtcblxuICAgICAgICBtb2RhbFdpbmRvdy5hZGRCdXR0b25FdmVudExpc3RlbmVyKGV2ZW50cy5NT1VTRS5NT1VTRV9ET1dOLCAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmFtZSA9IGUudGFyZ2V0LmdldFBhcmVudENvbXBvbmVudCgpLmdldElucHV0VXNlcigpO1xuICAgICAgICAgICAgdGhpcy51aUNvbXBvbmVudHMucmVtb3ZlQ29tcG9uZW50KG1vZGFsV2luZG93KTtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLmdldEh0bWwoKS5zdHlsZS5jdXJzb3IgPSAnYXV0byc7XG4gICAgXG4gICAgICAgICAgICB0aGlzLnVpQ29tcG9uZW50cy5hZGRDb21wb25lbnQoc3RhdHVzQmFyLCB0aGlzLnN0YXR1c0JhcktleSk7XG4gICAgXG4gICAgICAgICAgICB0aGlzLm1haW5Mb2dpYyhuYW1lKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy51aUNvbXBvbmVudHMuYWRkQ29tcG9uZW50KG1vZGFsV2luZG93KTtcblxuICAgICAgICB0aGlzLmNhbnZhcy5hZGRVSSh0aGlzLnVpKTtcbiAgICB9XG5cbiAgICBpbml0TG9hZGluZ1BhdGgoKSB7XG4gICAgICAgIGNvbnN0IGxvYWRNYW5hZ2VyID0gdGhpcy5sb2FkTWFuYWdlcjtcblxuICAgICAgICBsb2FkTWFuYWdlci5hZGRVcmwoe1xuICAgICAgICAgICAgaW1hZ2U6IFtcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLlVJfS9iYXJkYXRhLmpwZ2AsXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5VSX0vdGV4dGZpZWxkLmpwZ2AsXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5VSX0vbGVhdGhlci5qcGdgLFxuICAgICAgICAgICAgICAgIGAke1BBVEguSU1BR0UuVUl9L29rYnV0dG9uLmpwZ2AsXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5VSX0vbWljcm9idXR0b24uanBnYCxcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLlVJfS9zdGF0dXMuanBnYCxcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLlVJfS9zdGF0dXNsZWZ0LmpwZ2AsXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5VSX0vc3RhdHVzcmlnaHQuanBnYCxcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLlVJfS9jaGFyYWN0ZXJpbmZvd2luZG93LmpwZ2AsXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5VSX0vc3BlbGxzZWwuanBnYCxcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLlVJfS90YWJsZS5qcGdgLFxuICAgICAgICAgICAgICAgIGAke1BBVEguSU1BR0UuVUl9L3JlbG9hZGJ1dHRvbi5qcGdgLFxuICAgICAgICAgICAgXVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBpbWFnZTogdGhpcy51aUltZ3NLZXlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbG9hZE1hbmFnZXIuYWRkVXJsKHtcbiAgICAgICAgICAgIGltYWdlOiBbYCR7UEFUSC5JTUFHRS5CQUNLR1JPVU5EX0lNQUdFU30vZHVuZ2Vvbi5qcGdgXVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBpbWFnZTogdGhpcy5iYWNrZ3JvdW5kSW1nc0tleVxuICAgICAgICB9KTtcblxuICAgICAgICBsb2FkTWFuYWdlci5hZGRVcmwoe1xuICAgICAgICAgICAgaW1hZ2U6IFtgJHtQQVRILklNQUdFLk1BSU5fQ0hBUn0vbWFpbkNoYXIucG5nYF1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgaW1hZ2U6IHRoaXMubWFpbkNoYXJJbWdzS2V5XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxvYWRNYW5hZ2VyLmFkZFVybCh7XG4gICAgICAgICAgICBpbWFnZTogW1xuICAgICAgICAgICAgICAgIGAke1BBVEguSU1BR0UuSEVBRF9JTUFHRVN9L2hlYWRfMS5wbmdgLFxuICAgICAgICAgICAgICAgIGAke1BBVEguSU1BR0UuSEVBRF9JTUFHRVN9L2hlYWRfMi5wbmdgLFxuICAgICAgICAgICAgICAgIGAke1BBVEguSU1BR0UuSEVBRF9JTUFHRVN9L2hlYWRfMy5wbmdgLFxuICAgICAgICAgICAgICAgIGAke1BBVEguSU1BR0UuSEVBRF9JTUFHRVN9L2hlYWRfNC5wbmdgLFxuICAgICAgICAgICAgXVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBpbWFnZTogdGhpcy5oZWFkSW1nc0tleVxuICAgICAgICB9KTtcblxuICAgICAgICBsb2FkTWFuYWdlci5hZGRVcmwoe1xuICAgICAgICAgICAgaW1hZ2U6IFtcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLkJPRFlfSU1BR0VTfS9ib2R5XzEucG5nYCxcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLkJPRFlfSU1BR0VTfS9ib2R5XzIucG5nYCxcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLkJPRFlfSU1BR0VTfS9ib2R5XzMucG5nYCxcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLkJPRFlfSU1BR0VTfS9ib2R5XzQucG5nYCxcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgaW1hZ2U6IHRoaXMuYm9keUltZ3NLZXlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbG9hZE1hbmFnZXIuYWRkVXJsKHtcbiAgICAgICAgICAgIGltYWdlOiBbXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5MRUZUX0FSTV9JTUFHRVN9L2FybV8xLnBuZ2AsXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5MRUZUX0FSTV9JTUFHRVN9L2FybV8yLnBuZ2AsXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5MRUZUX0FSTV9JTUFHRVN9L2FybV8zLnBuZ2AsXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5MRUZUX0FSTV9JTUFHRVN9L2FybV80LnBuZ2AsXG4gICAgICAgICAgICBdXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGltYWdlOiB0aGlzLmxlZnRBcm1JbWdzS2V5XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxvYWRNYW5hZ2VyLmFkZFVybCh7XG4gICAgICAgICAgICBpbWFnZTogW1xuICAgICAgICAgICAgICAgIGAke1BBVEguSU1BR0UuUklHSFRfQVJNX0lNQUdFU30vYXJtXzEucG5nYCxcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLlJJR0hUX0FSTV9JTUFHRVN9L2FybV8yLnBuZ2AsXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5SSUdIVF9BUk1fSU1BR0VTfS9hcm1fMy5wbmdgLFxuICAgICAgICAgICAgICAgIGAke1BBVEguSU1BR0UuUklHSFRfQVJNX0lNQUdFU30vYXJtXzQucG5nYCxcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgaW1hZ2U6IHRoaXMucmlnaHRBcm1JbWdzS2V5XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxvYWRNYW5hZ2VyLmFkZFVybCh7XG4gICAgICAgICAgICBpbWFnZTogW1xuICAgICAgICAgICAgICAgIGAke1BBVEguSU1BR0UuTEVHX0lNQUdFU30vbGVnXzEucG5nYCxcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLkxFR19JTUFHRVN9L2xlZ18yLnBuZ2AsXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5MRUdfSU1BR0VTfS9sZWdfMy5wbmdgLFxuICAgICAgICAgICAgICAgIGAke1BBVEguSU1BR0UuTEVHX0lNQUdFU30vbGVnXzQucG5nYCxcbiAgICAgICAgICAgIF1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgaW1hZ2U6IHRoaXMubGVnSW1nc0tleVxuICAgICAgICB9KTtcblxuICAgICAgICBsb2FkTWFuYWdlci5hZGRVcmwoe1xuICAgICAgICAgICAgaW1hZ2U6IFtcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLk1BR0lDfS9tYWdpY0Fycm93L21hZ2ljQXJyb3cucG5nYCxcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLk1BR0lDfS9tYWdpY0Fycm93L21hZ2ljQXJyb3dNb3Rpb25BbmltYXRpb24ucG5nYCxcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLk1BR0lDfS9tYWdpY0Fycm93L21hZ2ljQXJyb3dNb3Rpb25BbmltYXRpb25SZXZlcnNlLnBuZ2AsXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5NQUdJQ30vbWFnaWNBcnJvdy9tYWdpY0Fycm93Qmxvd0FuaW1hdGlvbi5wbmdgLFxuICAgICAgICAgICAgICAgIGAke1BBVEguSU1BR0UuTUFHSUN9L2RlY2F5L2RlY2F5LnBuZ2AsXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5NQUdJQ30vZGVjYXkvZGVjYXlCbG93LnBuZ2AsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgc291bmQ6IFtcbiAgICAgICAgICAgICAgICBgJHtQQVRILlNPVU5ELk1BR0lDfS9tYWdpY0Fycm93L01BR0lDQVJXLm1wM2AsXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5TT1VORC5NQUdJQ30vZGVjYXkvREVDQVkubXAzYFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgaW1hZ2U6IHRoaXMubWFnaWNJbWdzS2V5LFxuICAgICAgICAgICAgc291bmQ6IHRoaXMubWFnaWNTb3VuZEtleVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gbG9hZE1hbmFnZXI7XG4gICAgfVxuXG4gICAgYXN5bmMgbWFpbkxvZ2ljKG5hbWUpIHtcbiAgICAgICAgY29uc3QgbG9hZE1hbmFnZXIgPSB0aGlzLmxvYWRNYW5hZ2VyO1xuICAgICAgICBjb25zdCBtb25zdGVyRmFjdG9yeSA9IHRoaXMubW9uc3RlckZhY3Rvcnk7XG4gICAgICAgIGNvbnN0IHRhc2tGYWN0b3J5ID0gdGhpcy50YXNrRmFjdG9yeTtcbiAgICAgICAgY29uc3QgbWFnaWNGYWN0b3J5ID0gdGhpcy5tYWdpY0ZhY3Rvcnk7XG4gICAgICAgIGNvbnN0IHVpQ29tcG9uZW50cyA9IHRoaXMudWlDb21wb25lbnRzO1xuXG4gICAgICAgIGNvbnN0IHNwZWxsU2VsSW1nID0gbG9hZE1hbmFnZXIuZ2V0SW1hZ2VzQnlOYW1lKHRoaXMudWlJbWdzS2V5KVs5XTtcbiAgICAgICAgY29uc3QgbWFpbkNoYXIgPSBsb2FkTWFuYWdlci5nZXRJbWFnZXNCeU5hbWUodGhpcy5tYWluQ2hhckltZ3NLZXkpWzBdO1xuXG4gICAgICAgIGNvbnN0IG1haW5DaGFyR3JhcGhpYyA9IG5ldyBQbGF5ZXJHcmFwaGljQ29tcG9uZW50KCcxJScsICcxMSUnLCBtYWluQ2hhcik7XG5cbiAgICAgICAgY29uc3QgeyB3aWR0aDogcGxheWVyV2lkdGgsIGhlaWdodDogcGxheWVySGVpZ2h0IH0gPSBtYWluQ2hhckdyYXBoaWMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgbWFpbkNoYXJHcmFwaGljLnNldEJvdW5kaW5nQ2xpZW50UmVjdChNYXRoLmZsb29yKCh3aW5kb3cuaW5uZXJIZWlnaHQgLSAxNTApIC8gMiAtIHBsYXllckhlaWdodCAvIDIpLCBNYXRoLmZsb29yKHdpbmRvdy5pbm5lcldpZHRoIC8gMiAtIHBsYXllcldpZHRoIC0gMTAwKSwgcGxheWVyV2lkdGgsIHBsYXllckhlaWdodCk7XG5cbiAgICAgICAgbGV0IG1vbnN0ZXIgPSBtb25zdGVyRmFjdG9yeS5jcmVhdGVNb25zdGVyKCcxJScsICcxMSUnKTtcbiAgICAgICAgdGhpcy5zZXRFbmVteShtb25zdGVyKTtcbiAgICAgICAgbW9uc3Rlci5hZGRNYWdpYyhtYWdpY0ZhY3RvcnkuY3JlYXRlTWFnaWNBcnJvdyg1LCB0cnVlKSk7XG4gICAgICAgIG1vbnN0ZXIuYWRkTWFnaWMobWFnaWNGYWN0b3J5LmNyZWF0ZUltcGxvc2lvbkFycm93KDUpKTtcblxuICAgICAgICBsZXQgbW9uc3RlcktpbGxlZENvdW50ID0gMDtcblxuICAgICAgICBjb25zdCBwbGF5ZXIgPSBuZXcgQ2hhcmFjdGVyKG5hbWUsIDEwMCwgMTAwLCBtYWluQ2hhckdyYXBoaWMpO1xuXG4gICAgICAgIHBsYXllci5hZGRNYWdpYyhtYWdpY0ZhY3RvcnkuY3JlYXRlTWFnaWNBcnJvdyg0MCkpO1xuICAgICAgICBwbGF5ZXIuYWRkTWFnaWMobWFnaWNGYWN0b3J5LmNyZWF0ZUltcGxvc2lvbkFycm93KDQwKSk7XG5cbiAgICAgICAgdGhpcy5zZXRQbGF5ZXIocGxheWVyKTtcblxuICAgICAgICB3aGlsZShwbGF5ZXIuaXNBbGl2ZSgpKSB7XG4gICAgICAgICAgICBpZiAoIW1vbnN0ZXIuaXNBbGl2ZSgpKSB7XG4gICAgICAgICAgICAgICAgbW9uc3RlciA9IG1vbnN0ZXJGYWN0b3J5LmNyZWF0ZU1vbnN0ZXIoJzElJywgJzExJScpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RW5lbXkobW9uc3Rlcik7XG5cbiAgICAgICAgICAgICAgICBtb25zdGVyLmFkZE1hZ2ljKG1hZ2ljRmFjdG9yeS5jcmVhdGVNYWdpY0Fycm93KDUsIHRydWUpKTtcbiAgICAgICAgICAgICAgICBtb25zdGVyLmFkZE1hZ2ljKG1hZ2ljRmFjdG9yeS5jcmVhdGVJbXBsb3Npb25BcnJvdyg1KSk7XG5cbiAgICAgICAgICAgICAgICBtb25zdGVyS2lsbGVkQ291bnQgKz0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgbWFnaWNTZWxlY3RpbmcgPSBuZXcgTWFnaWNTZWxlY3RpbmdNb2RhbFdpbmRvdyhNYXRoLmNlaWwod2luZG93LmlubmVySGVpZ2h0IC8gMiAtICgxMCArIDEwMCkgLyAyIC0gMTUwIC8gMiksIE1hdGguZmxvb3Iod2luZG93LmlubmVyV2lkdGggLyAyIC0gKDIwICsgMTM2ICogMykgLyAyKSwgMjAgKyAxMzYgKiAzLCAxMCArIDEwMCArIDMgKyAxNiArIDMsIHBsYXllci5nZXRNYWdpY3MoKSwgeyBiYWNrOiBzcGVsbFNlbEltZyB9KTtcbiAgICAgICAgICAgIG1hZ2ljU2VsZWN0aW5nLnNldEJhY2tncm91bmRDb2xvcignI2EwMjU2YicpO1xuICAgICAgICAgICAgbWFnaWNTZWxlY3Rpbmcuc2V0T3ZlcmZsb3coJ3Njcm9sbCcpO1xuIFxuICAgICAgICAgICAgdWlDb21wb25lbnRzLmFkZENvbXBvbmVudChtYWdpY1NlbGVjdGluZyk7XG5cbiAgICAgICAgICAgIGNvbnN0IG1hZ2ljID0gYXdhaXQgbWFnaWNTZWxlY3Rpbmcuc2VsZWN0TWFnaWMoKTtcblxuICAgICAgICAgICAgaWYgKG1hZ2ljID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ21hZ2ljIHNlbGVjdGluZyBlcnJvcicpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB1aUNvbXBvbmVudHMucmVtb3ZlQ29tcG9uZW50KG1hZ2ljU2VsZWN0aW5nKTtcblxuICAgICAgICAgICAgY29uc3QgdGFza1dpbmRvdyA9IHRhc2tGYWN0b3J5LmNyZWF0ZVRhc2soTWF0aC5jZWlsKHdpbmRvdy5pbm5lckhlaWdodCAvIDIpIC0gMzQ0IC8gMiAtIDUwLCBNYXRoLmNlaWwoKHdpbmRvdy5pbm5lcldpZHRoIC0gNDYwKSAvIDIpLCA0NjAsIDM0NCk7XG4gICAgICAgICAgICB0YXNrV2luZG93LnNldEJhY2tncm91bmRDb2xvcignI2ZmZmYwMCcpO1xuXG4gICAgICAgICAgICB1aUNvbXBvbmVudHMuYWRkQ29tcG9uZW50KHRhc2tXaW5kb3cpO1xuXG4gICAgICAgICAgICBjb25zdCBhbnN3ZXJPdXRjb21lID0gYXdhaXQgdGFza1dpbmRvdy5nZXRSZXN1bHQoKTtcblxuICAgICAgICAgICAgdWlDb21wb25lbnRzLnJlbW92ZUNvbXBvbmVudCh0YXNrV2luZG93KTtcblxuICAgICAgICAgICAgaWYgKGFuc3dlck91dGNvbWUpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBwbGF5ZXIuYXR0YWNrKG1vbnN0ZXIsIG1hZ2ljLCB0aGlzLmNhbnZhcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtb25zdGVyLmlzQWxpdmUoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hZ2ljcyA9IG1vbnN0ZXIuZ2V0TWFnaWNzKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAobWFnaWNzLmxlbmd0aCAtIDEpKTtcblxuICAgICAgICAgICAgICAgIGF3YWl0IG1vbnN0ZXIuYXR0YWNrKHBsYXllciwgbWFnaWNzW2luZGV4XSwgdGhpcy5jYW52YXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zaG93UmVzdWx0VGFibGUocGxheWVyLCBtb25zdGVyS2lsbGVkQ291bnQpO1xuICAgIH1cblxuICAgIGFzeW5jIHNob3dMb2FkaW5nU2NyZWVuKCkge1xuICAgICAgICBjb25zdCBwcm9ncmVzc0JhckJhY2tncm91bmQgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgcHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kLnNyYyA9IGAke1BBVEguSU1BR0UuVUl9L2JhcmRhdGEuanBnYDtcbiAgICAgICAgYXdhaXQgY3JlYXRlRmlsZVByb21pc2UocHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kKTtcblxuICAgICAgICBjb25zdCB7IG5hdHVyYWxXaWR0aDogcHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kV2lkdGgsIG5hdHVyYWxIZWlnaHQ6IHByb2dyZXNzQmFyQmFja2dyb3VuZEhlaWdodCB9ID0gcHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kO1xuICAgICAgICBjb25zdCBwcm9ncmVzc0JhckJhY2tncm91bmRDb21wb25lbnQgPSBuZXcgSW1hZ2VDb21wb25lbnQocHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kLCAwLCAwLCBwcm9ncmVzc0JhckJhY2tncm91bmRXaWR0aCwgcHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kSGVpZ2h0LCBwcm9ncmVzc0JhckJhY2tncm91bmRXaWR0aCwgcHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kSGVpZ2h0LCAwLCAwLCBwcm9ncmVzc0JhckJhY2tncm91bmRXaWR0aCwgcHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kSGVpZ2h0KTtcblxuICAgICAgICBjb25zdCBsb2FkaW5nU2NyZWVuID0gbmV3IENvbXBvc2l0ZUNvbXBvbmVudCgwLCAwLCB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcbiAgICAgICAgY29uc3QgbG9hZGluZ1Byb2dyZXNzQmFyQmFja2dyb3VuZENvbXBvbmVudCA9IG5ldyBDb21wb3NpdGVDb21wb25lbnQoMCwgMCwgcHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kV2lkdGgsIHByb2dyZXNzQmFyQmFja2dyb3VuZEhlaWdodCwgbG9hZGluZ1NjcmVlbik7XG4gICAgICAgIGxvYWRpbmdQcm9ncmVzc0JhckJhY2tncm91bmRDb21wb25lbnQuYWxpZ25DZW50ZXIoKTtcbiAgICAgICAgbG9hZGluZ1Byb2dyZXNzQmFyQmFja2dyb3VuZENvbXBvbmVudC5zZXRCYWNrZ3JvdW5kSW1hZ2UocHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kQ29tcG9uZW50KTtcblxuICAgICAgICBsb2FkaW5nU2NyZWVuLnNldEJhY2tncm91bmRDb2xvcignIzAwMDAwMCcpO1xuXG4gICAgICAgIGNvbnN0IGxvYWRpbmdQcm9ncmVzc0JhciA9IG5ldyBQcm9ncmVzc0JhcigwLCAwLCAxMTQsIDE2LCAwLCAxMDAsIDApO1xuICAgICAgICBsb2FkaW5nUHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kQ29tcG9uZW50LmFkZENvbXBvbmVudChsb2FkaW5nUHJvZ3Jlc3NCYXIpO1xuICAgICAgICBsb2FkaW5nUHJvZ3Jlc3NCYXIuYWxpZ25DZW50ZXIoKTtcblxuICAgICAgICBsb2FkaW5nUHJvZ3Jlc3NCYXIuc2V0QmFja2dyb3VuZENvbG9yKCdyZ2JhKDAsIDAsIDAsIDApJyk7XG4gICAgICAgIGxvYWRpbmdQcm9ncmVzc0Jhci5nZXRUZXh0Q29tcG9uZW50KCkuc2V0VGV4dENvbG9yKCcjZmZmZmZmJyk7XG5cbiAgICAgICAgdGhpcy5jYW52YXMuYWRkU2NlbmUobG9hZGluZ1NjcmVlbik7XG5cbiAgICAgICAgbG9hZGluZ1NjcmVlbi5nZXRMb2FkaW5nUHJvZ3Jlc3NCYXIgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gIGxvYWRpbmdQcm9ncmVzc0JhcjtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gbG9hZGluZ1NjcmVlbjtcbiAgICB9XG5cbiAgICBzaG93TmFtZUVudGVyKG5hbWUgPSAnJykge1xuICAgICAgICBjb25zdCB0ZXh0RmllbGRJbWFnZSA9IHRoaXMubG9hZE1hbmFnZXIuZ2V0SW1hZ2VzQnlOYW1lKHRoaXMudWlJbWdzS2V5KVsxXTtcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGg6IHRleHRGaWVsZFdpZHRoLCBuYXR1cmFsSGVpZ2h0OiB0ZXh0RmllbGRIZWlnaHQgfSA9IHRleHRGaWVsZEltYWdlO1xuXG4gICAgICAgIGNvbnN0IG1vZGFsV2luZG93SW1hZ2UgPSB0aGlzLmxvYWRNYW5hZ2VyLmdldEltYWdlc0J5TmFtZSh0aGlzLnVpSW1nc0tleSlbMl07XG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoOiBtb2RhbFdpZHRoLCBuYXR1cmFsSGVpZ2h0OiBtb2RhbEhlaWdodCB9ID0gbW9kYWxXaW5kb3dJbWFnZTtcblxuICAgICAgICBjb25zdCBva0J1dHRvbkltYWdlID0gdGhpcy5sb2FkTWFuYWdlci5nZXRJbWFnZXNCeU5hbWUodGhpcy51aUltZ3NLZXkpWzNdO1xuICAgICAgICBjb25zdCB7IG5hdHVyYWxXaWR0aDogb2tCdXR0b25XaWR0aCwgbmF0dXJhbEhlaWdodDogb2tCdXR0b25IZWlnaHQgfSA9IG9rQnV0dG9uSW1hZ2U7XG5cbiAgICAgICAgY29uc3QgbW9kYWxXaW5kb3cgPSBuZXcgVGV4dElucHV0TW9kYWxXaW5kb3coMCwgMCwgbW9kYWxXaWR0aCwgbW9kYWxIZWlnaHQsICfQktCy0LXQtNC40YLQtSDRgdCy0L7QtSDQuNC80Y86Jyk7XG4gICAgICAgIG1vZGFsV2luZG93LnNldEJhY2tncm91bmRDb2xvcignIzNjNzZhNycpO1xuICAgICAgICBtb2RhbFdpbmRvdy5hbGlnbkNlbnRlcigpO1xuICAgICAgICBtb2RhbFdpbmRvdy5zZXRCYWNrZ3JvdW5kSW1hZ2UobmV3IEltYWdlQ29tcG9uZW50KG1vZGFsV2luZG93SW1hZ2UsIDAsIDAsIG1vZGFsV2lkdGgsIG1vZGFsSGVpZ2h0LCBtb2RhbFdpZHRoLCBtb2RhbEhlaWdodCwgMCwgMCwgbW9kYWxXaWR0aCwgbW9kYWxIZWlnaHQpKTtcblxuICAgICAgICBtb2RhbFdpbmRvdy5nZXRJbnB1dFVzZXJDb21wb25lbnQoKS5zZXRCb3VuZGluZ0NsaWVudFJlY3QodW5kZWZpbmVkLCB1bmRlZmluZWQsIHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQpO1xuICAgICAgICBtb2RhbFdpbmRvdy5nZXRJbnB1dFVzZXJDb21wb25lbnQoKS5zZXRCYWNrZ3JvdW5kSW1hZ2UobmV3IEltYWdlQ29tcG9uZW50KHRleHRGaWVsZEltYWdlLCAwLCAwLCB0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0LCB0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0LCAwLCAwLCB0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0KSk7XG5cbiAgICAgICAgY29uc3Qgb25lR2x5cGhXaWR0aCA9IE1hdGguY2VpbChnZXRUZXh0V2lkdGhXaXRoQ2FudmFzKCd4JywgJ21vbm9zcGFjZScsICcxNnB4JykpO1xuXG4gICAgICAgIG1vZGFsV2luZG93LmdldElucHV0VXNlckNvbXBvbmVudCgpLm1heFRleHRMZW5ndGggPSBNYXRoLmZsb29yKHRleHRGaWVsZFdpZHRoIC8gb25lR2x5cGhXaWR0aCkgKyAxO1xuICAgICAgICBtb2RhbFdpbmRvdy5nZXREZXNjcmlwdGlvbkNvbXBvbmVudCgpLnNldEJhY2tncm91bmRDb2xvcigncmdiYSgwLCAwLCAwLCAwKScpO1xuICAgICAgICBtb2RhbFdpbmRvdy5nZXREZXNjcmlwdGlvbkNvbXBvbmVudCgpLnNldFRleHRDb2xvcignI2ZmZmZmZicpO1xuXG4gICAgICAgIG1vZGFsV2luZG93LmdldE9rQnV0dG9uQ29tcG9uZW50KCkuc2V0Qm91bmRpbmdDbGllbnRSZWN0KG1vZGFsSGVpZ2h0IC0gMTkgLSBva0J1dHRvbkhlaWdodCwgbW9kYWxXaWR0aCAtIDE5IC0gb2tCdXR0b25XaWR0aCAvIDIsIG9rQnV0dG9uV2lkdGggLyAyLCBva0J1dHRvbkhlaWdodCk7XG4gICAgICAgIG1vZGFsV2luZG93LmdldE9rQnV0dG9uQ29tcG9uZW50KCkuc2V0QmFja2dyb3VuZEltYWdlKG5ldyBJbWFnZUNvbXBvbmVudChva0J1dHRvbkltYWdlLCAwLCAwLCBva0J1dHRvbldpZHRoLCBva0J1dHRvbkhlaWdodCwgb2tCdXR0b25XaWR0aCwgb2tCdXR0b25IZWlnaHQsIDAsIDAsIG9rQnV0dG9uV2lkdGggLyAyLCBva0J1dHRvbkhlaWdodCkpO1xuXG4gICAgICAgIG1vZGFsV2luZG93LmdldElucHV0VXNlckNvbXBvbmVudCgpLnNldFRleHQobmFtZSk7XG5cbiAgICAgICAgcmV0dXJuIG1vZGFsV2luZG93O1xuICAgIH1cblxuICAgIHNob3dSZXN1bHRUYWJsZShwbGF5ZXIsIGtpbGxlZE1vbnN0ZXIpIHtcbiAgICAgICAgY29uc3QgdGFibGVJbWcgPSB0aGlzLmxvYWRNYW5hZ2VyLmdldEltYWdlc0J5TmFtZSh0aGlzLnVpSW1nc0tleSlbMTBdO1xuICAgICAgICBjb25zdCByZWxvYWRCdXR0b25JbWcgPSB0aGlzLmxvYWRNYW5hZ2VyLmdldEltYWdlc0J5TmFtZSh0aGlzLnVpSW1nc0tleSlbMTFdO1xuXG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoOiB0YWJsZVdpZHRoLCBuYXR1cmFsSGVpZ2h0OiB0YWJsZUhlaWdodCB9ID0gdGFibGVJbWc7XG4gICAgICAgIGNvbnN0IHRhYmxlSW1hZ2VDb21wb25lbnQgPSBuZXcgSW1hZ2VDb21wb25lbnQodGFibGVJbWcsIDAsIDAsIHRhYmxlV2lkdGgsIHRhYmxlSGVpZ2h0LCB0YWJsZVdpZHRoLCB0YWJsZUhlaWdodCwgMCwgMCwgdGFibGVXaWR0aCwgdGFibGVIZWlnaHQpO1xuXG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoOiByZWxvYWRCdXR0b25XaWR0aCwgbmF0dXJhbEhlaWdodDogcmVsb2FkQnV0dG9uSGVpZ2h0IH0gPSByZWxvYWRCdXR0b25JbWc7XG4gICAgICAgIGNvbnN0IHJlbG9hZEJ1dHRvbkltYWdlQ29tcG9uZW50ID0gbmV3IEltYWdlQ29tcG9uZW50KHJlbG9hZEJ1dHRvbkltZywgMCwgMCwgcmVsb2FkQnV0dG9uV2lkdGgsIHJlbG9hZEJ1dHRvbkhlaWdodCwgcmVsb2FkQnV0dG9uV2lkdGgsIHJlbG9hZEJ1dHRvbkhlaWdodCwgMCwgMCwgcmVsb2FkQnV0dG9uV2lkdGgsIHJlbG9hZEJ1dHRvbkhlaWdodCk7XG5cbiAgICAgICAgdGhpcy5zdG9yYWdlTWFuYWdlci5zYXZlUmVzdWx0KHBsYXllci5nZXROYW1lKCksIGtpbGxlZE1vbnN0ZXIpO1xuXG4gICAgICAgIGNvbnN0IHJlY29yZHMgPSB0aGlzLnN0b3JhZ2VNYW5hZ2VyLmdldFNvcnRlZFJlY29yZHMoKTtcblxuICAgICAgICBjb25zdCByZWNvcmRUYWJsZSA9IG5ldyBUYWJsZSgwLCAwLCB0YWJsZVdpZHRoLCAyNzcgLSAyNSwgcmVjb3Jkcy5sZW5ndGggKyAxLCAyLCAxMzEsIDI1KTtcbiAgICAgICAgdGhpcy51aUNvbXBvbmVudHMuYWRkQ29tcG9uZW50KHJlY29yZFRhYmxlKTtcbiAgICAgICAgcmVjb3JkVGFibGUuYWxpZ25DZW50ZXIoKTtcbiAgICAgICAgcmVjb3JkVGFibGUuc2V0QmFja2dyb3VuZEltYWdlKHRhYmxlSW1hZ2VDb21wb25lbnQpO1xuICAgICAgICByZWNvcmRUYWJsZS5nZXRCYWNrZ3JvdW5kSW1hZ2UoKS5zZXRTaXplKHRhYmxlV2lkdGgsIHRhYmxlSGVpZ2h0KTtcblxuICAgICAgICBjb25zdCBmaXJzdENvbHVtbk5hbWUgPSBuZXcgTGFiZWwoMCwgMCwgTWF0aC5jZWlsKGdldFRleHRXaWR0aFdpdGhDYW52YXMoJ9CY0LzRjzonLCAnbW9ub3NwYWNlJywgMTYpKSwgMTYsICfQmNC80Y86Jyk7XG4gICAgICAgIGNvbnN0IHNlY29uZENvbHVtbk5hbWUgPSBuZXcgTGFiZWwoMCwgMCwgTWF0aC5jZWlsKGdldFRleHRXaWR0aFdpdGhDYW52YXMoJ9Cj0LHQuNGC0L4g0LzQvtC90YHRgtGA0L7QsjonLCAnbW9ub3NwYWNlJywgMTYpKSwgMTYsICfQo9Cx0LjRgtC+INC80L7QvdGB0YLRgNC+0LI6Jyk7XG4gICAgICAgICAgICAgICBcbiAgICAgICAgZmlyc3RDb2x1bW5OYW1lLnNldFRleHRDb2xvcignI2ZmZmZmZicpO1xuICAgICAgICBzZWNvbmRDb2x1bW5OYW1lLnNldFRleHRDb2xvcignI2ZmZmZmZicpO1xuXG4gICAgICAgIHNlY29uZENvbHVtbk5hbWUuc2V0Rm9udFNpemUoMTQpO1xuXG4gICAgICAgIHJlY29yZFRhYmxlLmdldFRhYmxlQ29tcG9uZW50KDAsIDApLmFkZENvbXBvbmVudChmaXJzdENvbHVtbk5hbWUpO1xuICAgICAgICBmaXJzdENvbHVtbk5hbWUuYWxpZ25DZW50ZXIoKTtcblxuICAgICAgICByZWNvcmRUYWJsZS5nZXRUYWJsZUNvbXBvbmVudCgwLCAxKS5hZGRDb21wb25lbnQoc2Vjb25kQ29sdW1uTmFtZSk7XG4gICAgICAgIHNlY29uZENvbHVtbk5hbWUuYWxpZ25DZW50ZXIoKTtcblxuICAgICAgICByZWNvcmRzLmZvckVhY2goKHJlY29yZCwgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBuYW1lLCBtb25zdGVyS2lsbGVkIH0gPSByZWNvcmQ7XG5cbiAgICAgICAgICAgIGlmIChuYW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBuYW1lID0gJyc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IG5hbWVMYWJlbCA9IG5ldyBMYWJlbCgwLCAwLCBNYXRoLmNlaWwoZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyhuYW1lLCAnbW9ub3NwYWNlJywgMTYpKSwgMTYsIG5hbWUpO1xuICAgICAgICAgICAgY29uc3QgbW9uc3RlcktpbGxlZExhYmVsID0gbmV3IExhYmVsKDAsIDAsIE1hdGguY2VpbChnZXRUZXh0V2lkdGhXaXRoQ2FudmFzKG1vbnN0ZXJLaWxsZWQsICdtb25vc3BhY2UnLCAxNikpLCAxNiwgU3RyaW5nKG1vbnN0ZXJLaWxsZWQpKTtcblxuICAgICAgICAgICAgbmFtZUxhYmVsLnNldFRleHRDb2xvcignI2ZmZmZmZicpO1xuICAgICAgICAgICAgbW9uc3RlcktpbGxlZExhYmVsLnNldFRleHRDb2xvcignI2ZmZmZmZicpO1xuXG4gICAgICAgICAgICByZWNvcmRUYWJsZS5nZXRUYWJsZUNvbXBvbmVudCgxICsgaSwgMCkuYWRkQ29tcG9uZW50KG5hbWVMYWJlbCk7XG4gICAgICAgICAgICBuYW1lTGFiZWwuYWxpZ25DZW50ZXIoKTtcblxuICAgICAgICAgICAgcmVjb3JkVGFibGUuZ2V0VGFibGVDb21wb25lbnQoMSArIGksIDEpLmFkZENvbXBvbmVudChtb25zdGVyS2lsbGVkTGFiZWwpO1xuICAgICAgICAgICAgbW9uc3RlcktpbGxlZExhYmVsLmFsaWduQ2VudGVyKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlY29yZFRhYmxlLnNldE92ZXJmbG93KCdzY3JvbGwnKTtcblxuICAgICAgICBjb25zdCB7IHRvcDogdG9wVGFibGUsIHJpZ2h0OiByaWdodFRhYmxlIH0gPSByZWNvcmRUYWJsZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICBjb25zdCByZXN0YXJ0QnV0dG9uID0gbmV3IEJ1dHRvbih0b3BUYWJsZSwgcmlnaHRUYWJsZSArIDUsIHJlbG9hZEJ1dHRvbldpZHRoLCByZWxvYWRCdXR0b25IZWlnaHQsICcnKTtcbiAgICAgICAgcmVzdGFydEJ1dHRvbi5zZXRCYWNrZ3JvdW5kSW1hZ2UocmVsb2FkQnV0dG9uSW1hZ2VDb21wb25lbnQpO1xuXG4gICAgICAgIHJlc3RhcnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihldmVudHMuTU9VU0UuTU9VU0VfRE9XTiwgKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMudWlDb21wb25lbnRzLmRyb3BDaGlsZHJlbigpO1xuXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5wbGF5ZXIuZ2V0TmFtZSgpO1xuXG4gICAgICAgICAgICB0aGlzLnNldFBsYXllcihudWxsKTtcbiAgICAgICAgICAgIHRoaXMuc2V0RW5lbXkobnVsbCk7XG5cbiAgICAgICAgICAgIHRoaXMuY2FudmFzLmdldEh0bWwoKS5zdHlsZS5jdXJzb3IgPSAnYXV0byc7XG5cbiAgICAgICAgICAgIHRoaXMuc2V0VXBVSShuYW1lKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICB0aGlzLnVpQ29tcG9uZW50cy5hZGRDb21wb25lbnQocmVzdGFydEJ1dHRvbiwgJ3Jlc3RhcnQnKTtcblxuICAgICAgICByZXR1cm4gcmVjb3JkVGFibGU7XG4gICAgfVxuXG4gICAgc2V0UGxheWVyKHBsYXllcikge1xuICAgICAgICBpZiAodGhpcy5wbGF5ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLnJlbW92ZVNjZW5lKHRoaXMucGxheWVyLmdldEdyYXBoaWNDb21wb25lbnQoKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllcjtcblxuICAgICAgICBpZiAocGxheWVyID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzdGF0dXNCYXIgPSB0aGlzLnVpQ29tcG9uZW50cy5nZXRDaGlsZENvbXBvbmVudCh0aGlzLnN0YXR1c0JhcktleSk7XG4gICAgICAgIHN0YXR1c0Jhci5zZXRQbGF5ZXJJbmZvKGAke3BsYXllci5nZXROYW1lKCl9OmAsIHBsYXllci5nZXRDdXJyZW50SFAoKSk7XG5cbiAgICAgICAgY29uc3QgcGxheWVyR3JhcGhpY0NvbXBvbmVudCA9IHBsYXllci5nZXRHcmFwaGljQ29tcG9uZW50KCk7XG5cbiAgICAgICAgaWYgKHBsYXllckdyYXBoaWNDb21wb25lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLmFkZFNjZW5lKHBsYXllckdyYXBoaWNDb21wb25lbnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaGVhbHRoQmFyID0gdGhpcy51aUNvbXBvbmVudHMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5zdGF0dXNCYXJLZXkpLmdldFBsYXllckluZm9XaW5kb3coKS5nZXRIZWFsdGhCYXIoKTtcbiAgICAgICAgXG4gICAgICAgIHBsYXllci5hZGRIUENoYW5nZUxpc3RlbmVyKGhlYWx0aEJhci5zZXRWYWx1ZS5iaW5kKGhlYWx0aEJhcikpO1xuICAgIH1cblxuICAgIHNldEVuZW15KGVuZW15KSB7XG4gICAgICAgIGlmICh0aGlzLmVuZW15KSB7XG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5yZW1vdmVTY2VuZSh0aGlzLmVuZW15LmdldEdyYXBoaWNDb21wb25lbnQoKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW5lbXkgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZW5lbXkgPSBlbmVteTtcblxuICAgICAgICBjb25zdCBzdGF0dXNCYXIgPSB0aGlzLnVpQ29tcG9uZW50cy5nZXRDaGlsZENvbXBvbmVudCh0aGlzLnN0YXR1c0JhcktleSk7XG4gICAgICAgIHN0YXR1c0Jhci5zZXRFbmVteUluZm8oYCR7ZW5lbXkuZ2V0TmFtZSgpfTpgLCBlbmVteS5nZXRDdXJyZW50SFAoKSk7XG5cbiAgICAgICAgY29uc3QgZW5lbXlHcmFwaGljQ29tcG9uZW50ID0gZW5lbXkuZ2V0R3JhcGhpY0NvbXBvbmVudCgpO1xuXG4gICAgICAgIGlmIChlbmVteUdyYXBoaWNDb21wb25lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLmFkZFNjZW5lKGVuZW15R3JhcGhpY0NvbXBvbmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBoZWFsdGhCYXIgPSB0aGlzLnVpQ29tcG9uZW50cy5nZXRDaGlsZENvbXBvbmVudCh0aGlzLnN0YXR1c0JhcktleSkuZ2V0RW5lbXlJbmZvV2luZG93KCkuZ2V0SGVhbHRoQmFyKCk7XG4gICAgICAgIFxuICAgICAgICBlbmVteS5hZGRIUENoYW5nZUxpc3RlbmVyKGhlYWx0aEJhci5zZXRWYWx1ZS5iaW5kKGhlYWx0aEJhcikpO1xuICAgIH1cblxuICAgIHNldEV2ZW50TGlzdGVuZXJzVG9DYW52YXMoKSB7XG4gICAgICAgIHRoaXMuY2FudmFzLmdldEh0bWwoKS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ldmVudFF1ZXVlLmFkZCh7XG4gICAgICAgICAgICAgICAgdHlwZTogZXZlbnRzLk1PVVNFLk1PVVNFX0RPV04sXG4gICAgICAgICAgICAgICAgc3VidHlwZTogJ01PVVNFJyxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIG1vdXNlQ29vcmQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogZS5vZmZzZXRZLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogZS5vZmZzZXRYLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5jYW52YXMuZ2V0SHRtbCgpLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5ldmVudFF1ZXVlLmFkZCh7XG4gICAgICAgICAgICAgICAgdHlwZTogZXZlbnRzLktFWUJPQVJELktFWV9ET1dOLFxuICAgICAgICAgICAgICAgIHN1YnR5cGU6ICdLRVlCT0FSRCcsXG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IGUua2V5XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5jYW52YXMuZ2V0SHRtbCgpLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRRdWV1ZS5hZGQoe1xuICAgICAgICAgICAgICAgIHR5cGU6IGV2ZW50cy5LRVlCT0FSRC5LRVlfUFJFU1MsXG4gICAgICAgICAgICAgICAgc3VidHlwZTogJ0tFWUJPQVJEJyxcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogZS5rZXlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jYW52YXMuZ2V0SHRtbCgpLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmV2ZW50UXVldWUuYWRkKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBldmVudHMuTU9VU0UuTU9VU0VfTU9WRSxcbiAgICAgICAgICAgICAgICBzdWJ0eXBlOiAnTU9VU0UnLFxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgbW91c2VDb29yZDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBlLm9mZnNldFksXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBlLm9mZnNldFgsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbWFpbih0aW1lKSB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLm1haW4pO1xuXG4gICAgICAgIGlmICh0aW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXZUaW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZUaW1lID0gdGltZTtcbiAgICAgICAgICAgIH1cbiAgICBcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG5cbiAgICAgICAgICAgIHRoaXMucmVuZGVyKHRpbWUgLSB0aGlzLnByZXZUaW1lKVxuICAgIFxuICAgICAgICAgICAgdGhpcy5wcmV2VGltZSA9IHRpbWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIHdoaWxlICh0aGlzLmV2ZW50UXVldWUuaGFzTmV4dCgpKSB7XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMuZXZlbnRRdWV1ZS5nZXROZXh0KCk7XG4gICAgXG4gICAgICAgICAgICB0aGlzLnVpLmhhbmRsZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlbmRlcih0aW1lU3RhbXApIHtcbiAgICAgICAgdGhpcy5jYW52YXMuZHJhdyh0aW1lU3RhbXApO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=