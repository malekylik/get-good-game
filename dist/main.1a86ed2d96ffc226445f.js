!function(t){function e(e){for(var s,r,a=e[0],h=e[1],l=e[2],c=0,g=[];c<a.length;c++)r=a[c],o[r]&&g.push(o[r][0]),o[r]=0;for(s in h)Object.prototype.hasOwnProperty.call(h,s)&&(t[s]=h[s]);for(d&&d(e);g.length;)g.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,a=1;a<n.length;a++){var h=n[a];0!==o[h]&&(s=!1)}s&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var s={},o={0:0},i=[];function r(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=s,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(n,s,function(e){return t[e]}.bind(null,s));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var a=window.webpackJsonp=window.webpackJsonp||[],h=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var d=h;i.push([3,1]),n()}({3:function(t,e,n){"use strict";n.r(e);class s{constructor(t,e){this.htmlComponent=document.createElement("canvas"),this.htmlComponent.setAttribute("tabindex",0),this.context=this.htmlComponent.getContext("2d"),void 0===t&&(t=1366),void 0===e&&(e=635),this.setSize(t,e),document.body.appendChild(this.htmlComponent),this.scenes=[],this.uis=[]}getHtml(){return this.htmlComponent}getContext(){return this.context}setSize(t,e){this.width=t,this.height=e,this.htmlComponent.style.width=`${t}px`,this.htmlComponent.style.height=`${e}px`,this.context.canvas.width=t,this.context.canvas.height=e}getSize(){return{width:this.width,height:this.height}}clear(t="#000000"){this.context.fillStyle=t,this.context.fillRect(0,0,this.width,this.height)}addScene(t){this.scenes.push(t)}addUI(t){this.uis.push(t)}removeScene(t){const e=this.scenes.indexOf(t);return 0!=~e&&(this.scenes.splice(e,1),!0)}resetScenes(){this.scenes=[]}resetUI(){this.uis=[]}draw(t){this.clear();for(let e of this.scenes)e.draw(this.context,t);for(let e of this.uis)for(let n of e.uiComponents)n.draw(this.context,t)}}class o{constructor(){this.queue=[],this.queueIndex=0}add(t){this.queue.push(t)}getNext(){if(0===this.queue.length)return null;if(this.queueIndex<this.queue.length){const t=this.queue[this.queueIndex];return this.queueIndex+=1,t}return this.queueIndex=0,this.queue=[],null}hasNext(){const t=!!(this.queue.length-this.queueIndex);return t||0===this.queue.length||(this.queueIndex=0,this.queue=[]),t}remain(){return this.queue.length-this.queueIndex}}var i={MOUSE:{MOUSE_MOVE:"mousemove",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_DOWN:"mousedown",MOUSE_UP:"mouseup"},KEYBOARD:{KEY_PRESS:"keypress",KEY_DOWN:"keydown"},ANIMATION:{ANIMATION_END:"animationend"}};class r{constructor(t){this.selected=null,this.hovered=null,this.uiComponents=[],this.tabTree=[],this.tabIndex=-1,this.canvas=t}updateTabTree(){this.tabTree=[];for(let t of this.uiComponents)t.traverse(t=>{t.tabable&&this.tabTree.push(t)});this.tabIndex=this.tabTree.indexOf(this.selected)}resetCursorToArrow(){"auto"!==this.canvas.style.cursor&&(this.canvas.style.cursor="auto")}getMostDeepElement(t){let e=0,n=-1;return t.forEach(({depth:t},s)=>{t>=e&&(e=t,n=s)}),t[n].o}changeHoveredElement(t){null!==this.hovered&&(this.hovered.handlers.handle({...event,type:i.MOUSE.MOUSE_LEAVE,target:this.hovered,relatedTarget:t}),this.hovered.setHovered(!1)),null!==t&&t.handlers.handle({...event,type:i.MOUSE.MOUSE_ENTER,target:t,relatedTarget:this.hovered}),this.hovered=t}changeSelectedElement(t){this.selected&&(this.selected.isSelected=!1),this.selected=t,null!==t&&(t.isSelected=!0),this.tabIndex=this.tabTree.indexOf(this.selected)}dropUI(){this.uiComponents=[],this.changeSelectedElement(null)}handleMouseEvent(t){for(let e of this.uiComponents){const n=e.checkForCollision({...t.payload.mouseCoord,width:1,height:1});let s=null;null!==n?(s=this.getMostDeepElement(n),t.target=s):this.resetCursorToArrow(),this.hovered!==s&&this.changeHoveredElement(s),t.type!==i.MOUSE.MOUSE_UP&&t.type!==i.MOUSE.MOUSE_DOWN||this.selected!==s&&this.changeSelectedElement(s),null!==s&&(n.sort((t,e)=>e.depth-t.depth),n.forEach(({o:e})=>{e.handlers.handle(t)}))}}handleKeyboardEvent(t){const e=this.selected;t.target=e,e.handlers.handle(t);let n=e.getParentComponent();for(;null!==n;)n.handlers.handle(t),n=n.getParentComponent()}handleEvent(t){t.cancelBubble=!1,i[t.subtype]===i.MOUSE&&this.handleMouseEvent(t),i[t.subtype]===i.KEYBOARD&&("Tab"===t.payload.key?this.setNextSelectedElement():this.selected&&this.handleKeyboardEvent(t))}setNextSelectedElement(){const t=this.tabTree[(this.tabIndex+1)%this.tabTree.length]||null;null!==t&&this.changeSelectedElement(t)}add(t){this.uiComponents.push(t),this.updateTabTree()}remove(t){const e=this.uiComponents.indexOf(t);~e&&(this.uiComponents.splice(e,1),this.updateTabTree())}}var a=n(0);class h{constructor(t,e,n,s){this.metric={top:t,left:e,width:n,height:s},this.blinkTime=500,this.elapsedTime=0,this.color="#000000"}setPosition(t,e){this.metric.top=t,this.metric.left=e}setColor(t="#000000"){this.color=t}draw(t,e){t.save(),this.elapsedTime<this.blinkTime&&(t.strokeStyle!==this.color&&(t.strokeStyle=this.color),t.beginPath(),t.moveTo(this.metric.left,this.metric.top),t.lineTo(this.metric.left,Math.round(this.metric.top+this.metric.height+.2*this.metric.height)),t.stroke()),this.elapsedTime+=e,this.elapsedTime>2*this.blinkTime&&(this.elapsedTime=0),t.restore()}}class l{isInside(t,e){return t.left<e.left+e.width&&t.left+t.width>e.left&&t.top<e.top+e.height&&t.height+t.top>e.top}}class d{constructor(t){this.animatedProperties={},Object(a.merge)(this.animatedProperties,t.properties),this.animations={}}setAnimation(t,e,n,s){this.animations[t]={animationFunc:s,timeCount:n,time:1e3*e,elapseTime:0,animationTimesPast:0}}deleteAnimation(t){delete this.animations[t]}resetAnimatedProperties(t){this.animatedProperties={},t.hovered?Object(a.merge)(this.animatedProperties,t.hoverProperties):Object(a.merge)(this.animatedProperties,t.properties)}incrementAnimationTimesPast(t,e,n){e.elapseTime>e.time&&(e.elapseTime=0,this.resetAnimatedProperties(n),"infinite"!==e.timeCount&&(e.animationTimesPast+=1,e.animationTimesPast>=e.timeCount&&(delete this.animations[t],n.handlers.handle({target:n,type:i.ANIMATION.ANIMATION_END,subtype:"ANIMATION",payload:{animationName:t}}))))}animate(t,e,n){Object.keys(this.animations).forEach(s=>{const o=this.animations[s];o.animationFunc(t,e.properties,this.animatedProperties,o.elapseTime/o.time,e),o.elapseTime+=n,this.incrementAnimationTimesPast(s,o,e)})}}class c{constructor(){this[i.MOUSE.MOUSE_MOVE]=[],this[i.MOUSE.MOUSE_UP]=[],this[i.MOUSE.MOUSE_DOWN]=[],this[i.MOUSE.MOUSE_ENTER]=[],this[i.MOUSE.MOUSE_LEAVE]=[],this[i.KEYBOARD.KEY_PRESS]=[],this[i.KEYBOARD.KEY_DOWN]=[],this[i.ANIMATION.ANIMATION_END]=[]}handle(t){const e=this[t.type];if(e)for(let n of e)n(t)}addEventListener(t,e){this[t]&&this[t].push(e)}removeEventListener(t,e){if(this[t]){const n=this[t].findIndex(t=>t===e);~n&&this[t].splice(n,1)}}}const g=document.createElement("canvas").getContext("2d"),u=(t,e,n)=>(g.font=`${n}px ${e}`,g.measureText(t).width);class m{constructor(t=0,e=0,n=0,s=0,o=null,r){this.parentComponent=o,this.properties={},this.properties.drawBorder=!1,this.properties.overflow="visible",this.hovered=!1,this.isSelected=!1,this.drawBorder=!1,this.tabable=!1,this.properties.color={backgroundColor:"rgba(0,0,0,0)",borderColor:"rgb(77, 144, 254)"},this.backgroundImage=null,this.onremove=null,this.properties.top=t,this.properties.left=e,this.properties.width=n,this.properties.height=s,this.properties.cursor="auto",this.collision=new l,this.animations=new d(this),this.handlers=new c,this.handlers.addEventListener(i.MOUSE.MOUSE_MOVE,this.handleHover),({top:t,left:e,width:n,height:s}=this.convertFromPercentageToPixel(t,e,n,s)),this.hoverProperties={},Object(a.merge)(this.hoverProperties,this.properties),this.setBoundingClientRect(t,e,n,s),this.scrollXOffset=0,this.scrollYOffset=0,null!==o?(o.addComponent(this,r),Object(a.merge)(this.initialBoundingClientRect,this.properties.boundingClientRect)):(this.initialBoundingClientRect={},Object(a.merge)(this.initialBoundingClientRect,this.properties.boundingClientRect))}addEventListener(t,e){this.handlers.addEventListener(t,e)}removeEventListener(t,e){this.handlers.removeEventListener(t,e)}convertFromPercentageToPixel(t,e,n,s){const o=this.getParentComponent();let i,r;const a=/%/,h=Math.floor;return null===o?(i=window.innerWidth,r=window.innerHeight):({width:i,height:r}=o.getBoundingClientRect()),"string"==typeof t&&a.test(t)&&(t=h(parseFloat(t)/100*r)),"string"==typeof e&&a.test(e)&&(e=h(parseFloat(e)/100*i)),"string"==typeof n&&a.test(n)&&(n=h(parseFloat(n)/100*i)),"string"==typeof s&&a.test(s)&&(s=h(parseFloat(s)/100*r)),{top:t,left:e,width:n,height:s}}traverse(t){return t(this)}alignCenter(t,e){const n=this.getParentComponent();let s=0,o=0;void 0!==t&&void 0!==e?(s=t,o=e):null!==n?({width:s,height:o}=n.getBoundingClientRect()):(s=window.innerWidth,o=window.innerHeight);const{width:i,height:r}=this.getBoundingClientRect();let a=Math.round((o-r)/2),h=Math.round((s-i)/2);this.setBoundingClientRect(a,h,i,r)}setBackgroundImage(t=null){this.backgroundImage=t;const{width:e,height:n}=this.getBoundingClientRect();this.backgroundImage.setSize(e,n)}calculateTotalWidthComponent(t,e,n,s,o){const i=Object(a.get)(t,o);e[String(s)]=n+i}handleHover(t){const e=t.target,n=t.canvas;n.style.cursor!==e.properties.cursor&&(n.style.cursor=e.properties.cursor),!0!==e.hovered&&(e.hovered=!0,Object(a.merge)(e.animations.animatedProperties,e.hoverProperties))}getBoundingClientRect(){return this.animations.animatedProperties.boundingClientRect}setHovered(t){this.hovered!==t&&(this.hovered=t,t?Object(a.merge)(this.animations.animatedProperties,this.hoverProperties):Object(a.merge)(this.animations.animatedProperties,this.properties))}setBoundingClientRect(t,e,n,s){const o=this.getBoundingClientRect();let i,r,h,l;o&&({top:i,left:r,width:h,height:l}=o),void 0===t&&o&&"number"!=typeof t&&(t=i),void 0===e&&o&&"number"!=typeof e&&(e=r),void 0===n&&o&&"number"!=typeof n&&(n=h),void 0===s&&o&&"number"!=typeof s&&(s=l),this.properties.top=t,this.properties.left=e,this.properties.width=n,this.properties.height=s,this.properties.boundingClientRect={top:t,left:e,width:n,height:s,right:e+n,bottom:t+s},this.animations.animatedProperties.boundingClientRect={},this.hoverProperties.boundingClientRect={},Object(a.merge)(this.animations.animatedProperties.boundingClientRect,this.properties.boundingClientRect),Object(a.merge)(this.hoverProperties.boundingClientRect,this.properties.boundingClientRect)}setBackgroundColor(t="#000000"){this.properties.color.backgroundColor=t,this.hoverProperties.color.backgroundColor=t,this.animations.animatedProperties.color.backgroundColor=t}setBorderColor(t="#000000"){this.properties.color.borderColor=t,this.hoverProperties.color.borderColor=t,this.animations.animatedProperties.color.borderColor=t}setParentComponent(t){this.parentComponent=t;let{top:e,left:n,width:s,height:o}=this.properties;({top:e,left:n,width:s,height:o}=this.convertFromPercentageToPixel(e,n,s,o)),this.setBoundingClientRect(e,n,s,o),this.initialBoundingClientRect={},Object(a.merge)(this.initialBoundingClientRect,this.properties.boundingClientRect)}setOverflow(t){if(this.properties.overflow=t,this.hoverProperties.overflow=t,this.animations.animatedProperties.overflow=t,"scroll"===t){const t=this.calculateTotalHeightComponent(),e=this.calculateTotalWidthComponent(),{width:n,height:s}=this.getBoundingClientRect();t>s&&(this.scrollY=new C("vertical",t,this)),e>n&&(this.scrollX=new C("horizontal",e,this))}}getParentComponent(){return this.parentComponent}getBackgroundImage(){return this.backgroundImage}getOverflow(){return this.properties.overflow}getAbsoluteCoord(){let{top:t,left:e}=this.getBoundingClientRect(),n=this.getParentComponent();for(;null!==n;){const{top:s,left:o}=n.getBoundingClientRect();t+=s,e+=o,n=n.getParentComponent()}return{top:t,left:e}}addComponent(t){}removeComponent(t){}setContextProperties(t,e){this.animations.animate(t,this,e)}paintComponent(t,e){let{top:n,left:s,width:o,height:i}=this.getBoundingClientRect(),r=this.animations.animatedProperties.color;if(t.fillStyle=r.backgroundColor,t.fillRect(s,n,o,i),"scroll"===this.properties.overflow||"overflow"===this.properties.overflow){const e=new Path2D;e.rect(s,n,o,i),t.clip(e,"nonzero")}null!==this.backgroundImage&&this.backgroundImage.draw(t,s,n),this.drawBorder&&this.isSelected&&(t.strokeStyle=r.borderColor,t.strokeRect(s,n,o,i))}drawComponent(t,e){this.setContextProperties(t,e),this.paintComponent(t,e)}draw(t,e){t.save();const n=this.getParentComponent();if(null!==n&&t.translate(n.getBoundingClientRect().left,n.getBoundingClientRect().top),this.drawComponent(t,e),this.children)for(let n of this.children)n.component.draw(t,e);t.restore()}}class p extends m{constructor(t=0,e=0,n=0,s=0,o=null){super(t,e,n,s,o),this.children=[]}addComponent(t,e){t.setParentComponent(this),void 0!==e&&"string"==typeof e?this.children.push({component:t,name:e}):this.children.push({component:t,name:Object(a.uniqueId)("component ")})}removeComponent(t){const e=this.children.findIndex(({component:e})=>e===t);return 0!=~e&&("function"==typeof this.children[e].component.onremove&&this.children[e].component.onremove(),this.children.splice(e,1),!0)}getChildComponent(t){if("number"==typeof t&&this.children.length<t&&t>=0)return this.children[t].component;const e=this.children.find(e=>e.name===t);return e?e.component:null}dropChildren(){this.children=[]}traverse(t){if(!t(this)&&this.children)for(let e of this.children){const{component:n}=e;if(n.traverse)n.traverse(t);else{if(t(n))return}}}setScrollYOffer(t){this.scrollYOffset=t,this.children.forEach(({component:e})=>{if(e instanceof C)return;const{top:n}=e.initialBoundingClientRect;e.setBoundingClientRect(n+t);const s=this.getBackgroundImage();s&&s.setScrollYOffer(s.y+t)})}setScrollXOffer(t){this.scrollXOffset=t,this.children.forEach(({component:e})=>{if(e instanceof C)return;const{left:n}=e.initialBoundingClientRect;e.setBoundingClientRect(void 0,n+t);const s=this.getBackgroundImage();s&&s.setScrollXOffer(s.x+t)})}calculateTotalWidthComponent(){if(0===this.children.length)return null;let t=this.children[0].component;const{left:e,width:n}=t.getBoundingClientRect();let s=e+n;for(let t=1;t<this.children.length;t++){const e=this.children[t].component;let{left:n,width:o}=e.getBoundingClientRect();n+o>s&&(s=n+o)}return s}calculateTotalHeightComponent(){if(0===this.children.length)return null;let t=this.children[0].component;const{top:e,height:n}=t.getBoundingClientRect();let s=e+n;for(let t=1;t<this.children.length;t++){const e=this.children[t].component;let{top:n,height:o}=e.getBoundingClientRect();n+o>s&&(s=n+o)}return s}getAbsoluteCoord(){let t=this.getParentComponent(),{top:e,left:n}=this.getBoundingClientRect();for(;null!==t;){const{top:s,left:o}=t.getBoundingClientRect();e+=s,n+=o,t=t.getParentComponent()}return{top:e,left:n}}checkForCollision(t){const e=[];let n=1;return this.traverse(s=>{const{width:o,height:i}=s.getBoundingClientRect(),{top:r,left:a}=s.getAbsoluteCoord(),h={top:r,left:a,width:o,height:i};let l=1,d=s.getParentComponent();const c=[];for(;null!==d;)l+=1,"scroll"!==d.getOverflow()&&"overflow"!==d.getOverflow()||c.push(d),d=d.getParentComponent();if(0!==c.length)for(let t=0;t<c.length;t++){const{top:e,left:n}=c[t].getAbsoluteCoord(),{width:o,height:i}=c[t].getBoundingClientRect();if(!s.collision.isInside(h,{top:e,left:n,width:o,height:i}))return null}this.collision.isInside(h,t)&&(e.push({o:s,depth:l}),l>n&&(n=l))}),0!==e.length?e:null}}class C extends p{constructor(t,e,n){let s,o=window.innerWidth,r=window.innerHeight;n&&({width:o,height:r}=n.getBoundingClientRect()),"vertical"===t?super(0,o-17,17,s=r,n):super(r-17,0,s=o,17,n),this.prevButtonHandler=this.prevButtonHandler.bind(this),this.nextButtonHandler=this.nextButtonHandler.bind(this),this.childWidth=e,this.orientation=t,this.setBackgroundColor("#F1F1F1");const{prevButton:a,nextButton:h}=this.createScrollButtons(t,s,17);"vertical"===t?(this.partOfParent=r/e,this.parAndChildDif=e-r):(this.partOfParent=o/e,this.parAndChildDif=e-o),this.scroll=this.createScroll(t,s,17,this.partOfParent),this.currentChildPos=0,this.part=10/this.scrollPosMax,this.scrollPos=0,a.addEventListener(i.MOUSE.MOUSE_DOWN,this.prevButtonHandler),h.addEventListener(i.MOUSE.MOUSE_DOWN,this.nextButtonHandler)}prevButtonHandler(t){const e=this.getParentComponent(),n=this.scroll;this.scrollPos+10<0?(this.scrollPos+=10,this.currentChildPos+=this.part*this.parAndChildDif):(this.scrollPos=0,this.currentChildPos=0),"vertical"===this.orientation?(n.setBoundingClientRect(-this.scrollPos),e.setScrollYOffer(Math.round(this.currentChildPos))):(n.setBoundingClientRect(void 0,-this.scrollPos),e.setScrollXOffer(Math.round(this.currentChildPos)))}nextButtonHandler(t){const e=this.getParentComponent(),n=this.scroll;this.scrollPos-10>-this.scrollPosMax?(this.scrollPos-=10,this.currentChildPos-=this.part*this.parAndChildDif):(this.scrollPos=-this.scrollPosMax,this.currentChildPos=-this.parAndChildDif),"vertical"===this.orientation?(n.setBoundingClientRect(-this.scrollPos),e.setScrollYOffer(Math.round(this.currentChildPos))):(n.setBoundingClientRect(void 0,-this.scrollPos),e.setScrollXOffer(Math.round(this.currentChildPos)))}getScrollButtonsChar(t){let e=String.fromCharCode(parseInt("25c4",16)),n=String.fromCharCode(parseInt("25ba",16));return"vertical"===t&&(e=String.fromCharCode(parseInt("25b2",16)),n=String.fromCharCode(parseInt("25bc",16))),{prevButtonText:e,nextButtonText:n}}createScroll(t,e,n,s){let o;const i=e-3*n;let r;return o="vertical"===t?new p(n,0,n,i,this):new p(0,n,i,n,this),(r="vertical"===t?new m(0,2,n-4,Math.floor(s*i),o):new m(2,0,Math.floor(s*i),n-4,o)).setBackgroundColor("#C1C1C1"),this.scrollPosMax=i-Math.floor(s*i),r}createScrollButtons(t,e,n){let s,{prevButtonText:o,nextButtonText:i}=this.getScrollButtonsChar(t);const r=new f(0,0,n,n,o,this);return s="vertical"===t?new f(e-2*n,0,n,n,i,this):new f(0,e-2*n,n,n,i,this),r.setBackgroundColor("#F1F1F1"),s.setBackgroundColor("#F1F1F1"),r.hoverProperties.color.backgroundColor="#D2D2D2",s.hoverProperties.color.backgroundColor="#D2D2D2",{prevButton:r,nextButton:s}}}class f extends m{constructor(t=0,e=0,n=0,s=0,o="",i=null){super(t,e,n,s,i);const r=u(o,"monospace",16);this.label=new w(Math.floor(s/2)-8,Math.floor(n/2)-Math.floor(r/2),r+1,16,o),this.properties.cursor="pointer"}paintComponent(t,e){super.paintComponent(t,e);const{top:n,left:s}=this.getBoundingClientRect();t.save(),t.translate(s,n),this.label.draw(t,e),t.restore()}}class w extends m{constructor(t=0,e=0,n=0,s=0,o="",r=null){super(t,e,n,s,r),this.text=o,this.properties.color.textColor="#000000",this.properties.textProperties={textAlign:"left",textBaseline:"top",fontSize:16,fontFamily:"monospace"},this.maxTextLength="infinite",this.editable=!1,this.handlers.addEventListener(i.MOUSE.MOUSE_DOWN,this.handleMouseDown),this.handlers.addEventListener(i.KEYBOARD.KEY_PRESS,this.handleKeyPress),this.handlers.addEventListener(i.KEYBOARD.KEY_DOWN,this.handleKeyDown),this.linesMetric=[],this.textLines=[],this.cursorPosition={row:0,column:0,index:0},this.properties.cursor="text",Object(a.merge)(this.animations.animatedProperties,this.properties),Object(a.merge)(this.hoverProperties,this.properties),this.neededToRecalculate={needed:!0,row:0},this.cursor=new h(0,0,1,this.properties.textProperties.fontSize)}checkCollisionWithGlyphs(t,e,n){let s=!1;for(let o=0;o<this.glyphPosition.length;o++){const i=this.glyphPosition[o];for(let r=0;r<i.length;r++){const{top:a,left:h,width:l,height:d}=i[r];if(s=this.collision.isInside({top:a+t,left:h+e,width:l,height:d},n))return{top:a,left:h,row:o,column:r,index:this.textLines[o].startOfLine+r}}}return null}checkCollisionWithLines(t,e,n){let s=!1;for(let o=0;o<this.linesMetric.length;o++){const{top:i,left:r,width:a,height:h}=this.linesMetric[o];if(s=this.collision.isInside({top:i+t,left:r+e,width:this.getBoundingClientRect().width,height:h},n))return{top:i,width:a,row:o,column:this.glyphPosition[o].length,index:this.textLines[o].startOfLine+this.glyphPosition[o].length}}return null}handleMouseDown(t){if(t.target.editable){const e=t.target;if(""===e.text)return e.cursor.setPosition(0,0),void(e.cursorPosition={row:0,column:0,index:0});const n={top:t.payload.mouseCoord.top,left:t.payload.mouseCoord.left,width:1,height:1},{top:s,left:o}=e.getAbsoluteCoord(),i=e.checkCollisionWithGlyphs(s,o,n);if(null!==i){const{top:t,left:n,row:s,column:o,index:r}=i;return e.cursor.setPosition(t,n),void(e.cursorPosition={row:s,column:o,index:r})}const r=e.checkCollisionWithLines(s,o,n);if(null!==r){const{top:t,width:n,row:s,column:o,index:i}=r;return e.cursor.setPosition(t,n),void(e.cursorPosition={row:s,column:o,index:i})}const{top:a,width:h}=e.linesMetric[e.linesMetric.length-1];e.cursor.setPosition(a,h),e.cursorPosition={row:e.linesMetric.length-1,column:e.glyphPosition[e.glyphPosition.length-1].length,index:e.textLines[e.glyphPosition.length-1].startOfLine+e.glyphPosition[e.glyphPosition.length-1].length}}}handleKeyPress(t){if(t.target.editable){const e=t.target;if("number"==typeof e.maxTextLength&&e.text.length>=e.maxTextLength)return;if("Delete"===t.payload.key)return;if("Backspace"===t.payload.key)return;if("Enter"===t.payload.key)return;e.text=e.insertGlyph(t.payload.key,e.cursorPosition.index,e.text),e.cursorPosition.index+=1,e.neededToRecalculate.needed=!0}}handleKeyDown(t){if(t.target.editable){const e=t.target;let n=t.payload.key,s=e.cursorPosition.index;if("Delete"===n){if(s>=e.text.length)return;e.text=e.deleteGlyph(s,e.text)}else if("Backspace"===n){if(0===s)return;e.text=e.deleteGlyph(s-1,e.text),s-=1}else{if(" "===n)return void e.handleKeyPress(t);if("ArrowRight"===n){if(s>=e.text.length)return;s+=1}else if("ArrowLeft"===n){if(0===s)return;s-=1}else if("ArrowUp"===n){if(0===s)return;const t=e.textLines[e.cursorPosition.row-1]&&e.textLines[e.cursorPosition.row-1].line.length||-1,n=e.textLines[e.cursorPosition.row].line.length;(s-=Math.max(t,n))<0&&(s=0)}else if("ArrowDown"===n){if(s>=e.text.length)return;const t=e.textLines[e.cursorPosition.row].line.length,n=e.textLines[e.cursorPosition.row+1]&&e.textLines[e.cursorPosition.row+1].line.length||-1;(s+=Math.max(t,n))>=e.text.length&&(s=e.text.length)}}e.cursorPosition.index=s,e.neededToRecalculate.needed=!0}}deleteGlyph(t,e){return e.slice(0,t)+e.slice(t+1)}insertGlyph(t,e,n){return e>=n.length?n+t:0===e?t+n:n.slice(0,e)+t+n.slice(e)}getText(){return this.text}setText(t=""){this.neededToRecalculate.needed=!0,this.text=t}setFontSize(t=16){this.properties.textProperties.fontSize=t}setTextColor(t="#000000"){this.properties.color.textColor=t}setFont(t){this.textProperties.font=t}setCursorPositionFrom2D(t,e){0!==this.glyphPosition.length?e>=this.glyphPosition[t].length?this.cursor.setPosition(this.glyphPosition[t][e-1].top,this.glyphPosition[t][e-1].left+this.glyphPosition[t][e-1].width):this.cursor.setPosition(this.glyphPosition[t][e].top,this.glyphPosition[t][e].left):this.cursor.setPosition(0,0)}setContextProperties(t,e){t.fillStyle=this.animations.animatedProperties.color.textColor,t.font=`${this.animations.animatedProperties.textProperties.fontSize}px ${this.animations.animatedProperties.textProperties.fontFamily}`,t.textAlign=this.animations.animatedProperties.textProperties.textAlign,t.textBaseline=this.animations.animatedProperties.textProperties.textBaseline,super.setContextProperties(t,e)}calculateLines(t){const e=this.getBoundingClientRect().width,n=this.animations.animatedProperties.textProperties.fontSize;this.textLines=[],this.linesMetric=[];let s=0,o=0,i=0,r="";this.text.split("").forEach(a=>{if(o=t.measureText(a).width,s+o<e)return r+=a,void(s+=o);this.linesMetric.push({top:this.textLines.length*n,left:0,width:s,height:n}),this.textLines.push({startOfLine:i,line:r}),i+=r.length,o=t.measureText(a).width,s=o,r=a}),""!==r&&(this.linesMetric.push({top:this.textLines.length*n,left:0,width:t.measureText(r).width,height:n}),this.textLines.push({startOfLine:i,line:r})),this.calculateGlyphPosition(t)}calculateGlyphPosition(t){this.glyphPosition=[];const e=this.animations.animatedProperties.textProperties.fontSize;this.textLines.forEach(({line:n},s)=>{const o=[];let i=0;n.split("").forEach(n=>{const r=t.measureText(n).width;o.push({glyph:n,left:i,top:e*s,width:r,height:e}),i+=r}),this.glyphPosition.push(o)})}setCursorToEnd(){this.cursorPosition.index=this.text.length,this.neededToRecalculate.needed=!0}convertIndexTo2DPosition(t){let e=0,n=0;for(let n=0;n<this.textLines.length&&this.textLines[n].startOfLine<=t;n++)e=n;return 0!==this.textLines.length?(n=t-this.textLines[e].startOfLine)>=this.glyphPosition[e].length&&(n=this.glyphPosition[e].length,t=this.textLines[e].startOfLine+n):(n=0,t=0),{row:e,column:n,index:t}}paintComponent(t,e){super.paintComponent(t,e);let{top:n,left:s}=this.getBoundingClientRect();if(t.save(),t.translate(s,n),this.neededToRecalculate.needed){this.calculateLines(t,this.text,this.neededToRecalculate.row);const{row:e,column:n,index:s}=this.convertIndexTo2DPosition(this.cursorPosition.index);this.cursorPosition.row=e,this.cursorPosition.column=n,this.cursorPosition.index=s,this.setCursorPositionFrom2D(e,n),this.neededToRecalculate.needed=!1}t.fillStyle=this.properties.color.textColor,t.font=`${this.properties.textProperties.fontSize}px ${this.properties.textProperties.fontFamily}`,this.textLines.forEach(({line:e},n)=>{t.fillText(e,0,this.linesMetric[n].top)}),this.isSelected&&this.editable&&this.cursor.draw(t,e),t.restore()}}class y{constructor(t,e=0,n=0,s,o,i,r,a=0,h=0,l,d){this.htmlComponent=t,this.x=e,this.y=n,void 0!==i&&(this.width=i),void 0!==r&&(this.height=r),void 0!==l&&(this.sWidth=l),void 0!==d&&(this.sHeight=d),this.naturalWidth=s,this.naturalHeight=o,this.offsetX=0,this.offsetY=0,this.scrollXOffset=0,this.scrollYOffset=0,this.sx=a,this.sy=h}setSize(t,e){this.width=t,this.height=e,this.recalculateFrames()}setScrollXOffer(t){this.scrollXOffset=t}setScrollYOffer(t){this.scrollYOffset=t}setDXPosition(t,e){this.x=t,this.y=e}recalculateFrames(){void 0!==this.naturalWidth?(this.xFramesCount=Math.floor((this.naturalWidth-this.sx)/this.sWidth),this.xFramesCount<1&&(this.xFramesCount=1)):this.xFramesCount=1,void 0!==this.naturalHeight?(this.yFramesCount=Math.floor((this.naturalHeight-this.sy)/this.sHeight),this.yFramesCount<1&&(this.yFramesCount=1)):this.yFramesCount=1,this.currentXFrame=1,this.currentYFrame=1}getHtml(){return this.htmlComponent}getXFramesCount(){return this.xFramesCount}getYFramesCount(){return this.yFramesCount}getFramesCount(){return this.xFramesCount*this.yFramesCount}getRemainXFramesCount(){return this.xFramesCount-this.currentXFrame}getRemainYFramesCount(){return this.yFramesCount-this.currentYFrame}getRemainFramesCount(){return(this.xFramesCount-this.currentXFrame)*(this.yFramesCount-this.currentYFrame)}setNextFrame(){this.currentXFrame+1>this.xFramesCount?this.currentYFrame+1>this.yFramesCount?(this.currentXFrame=1,this.currentYFrame=1):(this.currentYFrame+=1,this.currentXFrame=1):this.currentXFrame+=1,this.offsetX=this.sx+this.sWidth*(this.currentXFrame-1),this.offsetY=this.sy+this.sHeight*(this.currentYFrame-1)}setFrame(t){let e=this.getFramesCount(),n=Math.floor(e*t)+1;n>e&&(n=e);let s=this.getXFramesCount();n<s?(this.currentXFrame=n,this.currentYFrame=1):(this.currentYFrame=Math.ceil(n/s),this.currentXFrame=n-(this.currentYFrame-1)*s),this.offsetX=this.sx+this.sWidth*(this.currentXFrame-1),this.offsetY=this.sy+this.sHeight*(this.currentYFrame-1)}setOffset(t){let e=this.naturalWidth-this.sWidth,n=this.getYFramesCount()*e,s=Math.floor(n*t),o=Math.floor(s/this.sWidth);this.offsetY=this.sHeight*Math.floor(s/e),this.offsetX=s-o*this.sWidth}draw(t,e,n){let s=this.x,o=this.y;void 0!==e&&void 0!==n&&(s=e,o=n),void 0!==this.width?t.drawImage(this.htmlComponent,this.offsetX,this.offsetY,this.sWidth,this.sHeight,s+this.scrollXOffset,o+this.scrollYOffset,this.width,this.height):t.drawImage(this.htmlComponent,s+this.scrollXOffset,o+this.scrollYOffset)}}class x extends p{constructor(t=0,e=0,n=0,s=0,o,i,r=null){super(t,e,n,s,r);const a=Math.ceil(n/2),h=Math.ceil(s/2),l=Math.ceil((u(o,"monospace",16)+1)/2),d=Math.ceil(.6*a),c=Math.ceil(u("x","monospace",16)),g=new w(h-10-20-3,a-d,2*l,20,o),m=new w(h-10,a-d,2*d,20,""),p=new f(2*h-50-5,2*a-100-5,100,50,"");m.editable=!0,m.tabable=!0,m.drawBorder=!0,m.setBackgroundColor("#bb0000"),m.maxTextLength=Math.floor(d/c*2),g.setBackgroundColor("#00bbbb"),p.setBackgroundColor("#aaaaaa"),p.tabable=!0,p.drawBorder=!0,m.setTextColor("#FFFF00"),m.cursor.setColor("#08B600"),this.descriptionKey="description",this.userInputKey="userinput",this.buttonKey="button",this.addComponent(g,this.descriptionKey),this.addComponent(m,this.userInputKey),this.addComponent(p,this.buttonKey),this.initEvents(p,i)}initEvents(t,e){const n=()=>{t.isSelected&&t.getBackgroundImage().setFrame(1)},s=()=>{t.removeEventListener(i.MOUSE.MOUSE_ENTER,n),t.getBackgroundImage().setFrame(0)};t.addEventListener(i.MOUSE.MOUSE_DOWN,()=>{t.getBackgroundImage().setFrame(1),t.addEventListener(i.MOUSE.MOUSE_ENTER,n)}),e.addEventListener(i.MOUSE.MOUSE_UP,s),t.addEventListener(i.MOUSE.MOUSE_LEAVE,()=>{t.isSelected&&t.getBackgroundImage().setFrame(0)}),this.onremove=(()=>{e.removeEventListener(i.MOUSE.MOUSE_UP,s)})}addButtonEventListener(t,e){this.getChildComponent(this.buttonKey).addEventListener(t,e)}removeButtonEventListener(t,e){this.getChildComponent(this.buttonKey).removeEventListener(t,e)}getOkButtonComponent(){return this.getChildComponent(this.buttonKey)}getDescriptionComponent(){return this.getChildComponent(this.descriptionKey)}getInputUserComponent(){return this.getChildComponent(this.userInputKey)}getInputUser(){return this.getChildComponent(this.userInputKey).text}}class M extends p{constructor(t=0,e=0,n=0,s=0,o=[],i={},r=null){super(t,e,n,s,r),this.magics=[...o],this.totalWidth=0;const a=i.back,{naturalWidth:h,naturalHeight:l}=a,d=new y(a,0,0,h,l,h,l,0,0,h,l);this.setBackgroundImage(d),this.fillWithMagics()}fillWithMagics(){this.magics.forEach(t=>{const e=t.getGraphicComponent(),{width:n,height:s}=e.getBoundingClientRect(),o=t.getName(),i=Math.ceil(u(o,"monospace",16));e.drawBorder=!0,e.setBoundingClientRect(0,0,n,s);const r=new p(5,this.totalWidth+5,n,s+3+16),a=new w(0,0,i,16,o);a.properties.cursor="auto",r.addComponent(e,"picture"),r.addComponent(a,"name"),a.alignCenter(),a.setBoundingClientRect(s+3),a.setTextColor("#E8D478"),t.getGraphicComponent().tabable=!0,this.addComponent(r,t.getName()),this.totalWidth+=5+n})}addMagicSelectingEventListener(t,e){this.getChildComponent(this.buttonKey),this.magics.forEach(n=>{n.getGraphicComponent().addEventListener(t,e)})}findMagicByGraphicComponent(t){const e=this.magics.find(e=>{const n=e.getGraphicComponent();return t===n});return e||null}getMagic(t){return this.magics[t]||null}selectMagic(){return new Promise(t=>{this.addMagicSelectingEventListener(i.MOUSE.MOUSE_UP,e=>{t(e.target.getParentComponent().getParentComponent().findMagicByGraphicComponent(e.target))}),this.addEventListener(i.KEYBOARD.KEY_PRESS,e=>{"Enter"===e.payload.key&&t(e.target.getParentComponent().getParentComponent().findMagicByGraphicComponent(e.target))})})}}class I extends p{constructor(t=0,e=0,n=0,s=0,o,i,r,a=null){super(t,e,n,s,a),this.minValue=o,this.maxValue=i,this.currentValue=r,this.oneInPixel=(n-2)/(i-o);const h=new m(1,1,this.oneInPixel*(r-o),s-2);h.setBackgroundColor("#aa0000"),this.setBackgroundColor("#ffffff"),this.barComponentKey="bar";const l=`${r}/${i}`,d=Math.ceil(u(l,"monospace",16)),c=new w(0,0,d,16,l);this.labelComponentKey="label",this.addComponent(h,this.barComponentKey),this.addComponent(c,this.labelComponentKey),c.alignCenter()}getTextComponent(){return this.getChildComponent(this.labelComponentKey)}getBarComponent(){return this.getChildComponent(this.barComponentKey)}setBarColor(t="#aa0000"){this.getChildComponent(this.barComponentKey).setBackgroundColor(t)}setValue(t){this.currentValue=t;const e=this.getChildComponent(this.barComponentKey),{top:n,left:s,height:o}=e.getBoundingClientRect();e.setBoundingClientRect(n,s,Math.floor(t*this.oneInPixel),o);const i=`${t}/${this.maxValue}`,r=this.getChildComponent(this.labelComponentKey);r.setText(i);const{height:a}=r.getBoundingClientRect(),h=Math.ceil(u(i,"monospace",16))+1;r.setBoundingClientRect(0,0,h,a),r.alignCenter()}}class E extends p{constructor(t=0,e=0,n=0,s=0,o,i=null){super(t,e,n,s,i);const{naturalWidth:r,naturalHeight:a}=o,h=new y(o,0,0,r,a,r,a,0,0,r,a),l=new p(0,0,r,a,this);l.alignCenter(),l.setBackgroundImage(h),this.setBackgroundColor("#000000");const d=new I(0,0,114,16,0,100,0);l.addComponent(d),d.alignCenter(),d.setBackgroundColor("rgba(0, 0, 0, 0)"),d.getTextComponent().setTextColor("#ffffff"),this.loadingProgressBar=d}getLoadingProgressBar(){return this.loadingProgressBar}}class B extends p{constructor(t=0,e=0,n=0,s=0,o={},i=null){super(t,e,n,s,i),this.enemyInfoWindowKey="enemy",this.playerInfoWindowKey="player",this.setBackground(o.left,o.right,o.back)}setBackground(t,e,n){const s=this.getBoundingClientRect().width,{naturalWidth:o,naturalHeight:i}=n,{naturalWidth:r,naturalHeight:a}=t,{naturalWidth:h,naturalHeight:l}=e,d=new y(n,0,0,o,i,o,i,0,0,o,i),c=new y(t,0,0,r,a,r,a,0,0,r,a),g=new y(e,0,0,h,l,h,l,0,0,h,l);let u=0;for(;u<s;){const t=new m(0,u,o,i);t.setBackgroundImage(d),this.addComponent(t),u+=o}const p=new m(0,0,r,a);p.setBackgroundImage(c),this.addComponent(p);const C=new m(0,s-h,h,l);C.setBackgroundImage(g),this.addComponent(C)}getPlayerInfoWindow(){return this.getChildComponent(this.playerInfoWindowKey)}getEnemyInfoWindow(){return this.getChildComponent(this.enemyInfoWindowKey)}setEnemyInfoWindow(t){const e=this.getChildComponent(this.enemyInfoWindowKey);e&&this.removeComponent(e),this.addComponent(t,this.enemyInfoWindowKey)}setPlayerInfoWindow(t){const e=this.getChildComponent(this.playerInfoWindowKey);e&&this.removeComponent(e),this.addComponent(t,this.playerInfoWindowKey)}setEnemyInfo(t,e){const n=this.getChildComponent(this.enemyInfoWindowKey);n.getChildComponent(n.healthBarKey).setValue(e);const s=n.getChildComponent(n.nameLabelKey);s.setText(t);const{top:o,left:i,height:r}=s.getBoundingClientRect(),a=Math.ceil(u(t,s.properties.textProperties.fontFamily,s.properties.textProperties.fontSize));s.setBoundingClientRect(o,i,a,r)}setPlayerInfo(t,e){const n=this.getChildComponent(this.playerInfoWindowKey);n.getChildComponent(n.healthBarKey).setValue(e);const s=n.getChildComponent(n.nameLabelKey);s.setText(t);const{top:o,left:i,height:r}=s.getBoundingClientRect(),a=Math.ceil(u(t,s.properties.textProperties.fontFamily,s.properties.textProperties.fontSize));s.setBoundingClientRect(o,i,a,r)}}class A extends p{constructor(t=0,e=0,n=0,s=0,o="",i,r,a,h={},l=null){super(t,e,n,s,l);const d=Math.ceil(u(`${o}:`,"monospace",16)),c=new w(15,10,d+1,16,`${o}:`),g=new I(34,10,n-24,25,i,r,a);this.nameLabelKey="namelabel",this.healthBarKey="healtbar",c.setTextColor("#ffffff");const{naturalWidth:m,naturalHeight:p}=h.back,C=new y(h.back,0,0,m,p,m,p,0,0,m,p);this.addComponent(c,this.nameLabelKey),this.addComponent(g,this.healthBarKey),this.setBackgroundImage(C)}getHealthBar(){return this.getChildComponent(this.healthBarKey)}}class b extends p{constructor(t=0,e=0,n=0,s=0,o=0,r=0,a=0,h=0,l=null){super(t,e,n,s,l),this.columnCount=r,this.rowCount=o,this.arrowKeyHandler=this.arrowKeyHandler.bind(this);let d=0;for(let t=0;t<o;t++){let e=0;for(let n=0;n<r;n++){const s=new p(d,e,a,h);this.addComponent(s,String(t*r+n)),s.setBackgroundColor("rgba(0, 0, 0, 0)"),e+=a}d+=h}this.addEventListener(i.KEYBOARD.KEY_DOWN,this.arrowKeyHandler)}arrowKeyHandler(t){const e=this.scrollX,n=this.scrollY,s=t.payload.key;e&&("ArrowLeft"===s&&e.prevButtonHandler(t),"ArrowRight"===s&&e.nextButtonHandler(t)),n&&("ArrowUp"===s&&n.prevButtonHandler(t),"ArrowDown"===s&&n.nextButtonHandler(t))}getTableComponent(t=0,e=0){const n=this.getChildComponent(String(t*this.columnCount+e));return n||null}}const v=t=>new Promise(e=>{const n=new XMLHttpRequest;n.open("HEAD",t,!0),n.onreadystatechange=(()=>{n.readyState==n.DONE&&e(n.getResponseHeader("Content-Length"))}),n.send()}),S=(t,e,n)=>new Promise(s=>{const o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="arraybuffer";let i=-1;o.onload=(t=>{const e=new Blob([o.response]);s(window.URL.createObjectURL(e))}),o.onprogress=(({loaded:t})=>{t!==i&&(i=t,e(t,n))}),o.send()}),T=t=>new Promise(e=>{t.onload=(t=>{e(t.srcElement)})});class k{constructor(){this.totalSize=0,this.currentLoadedSize=0,this.imageUrl=[],this.loadedImages=[],this.soundUrl=[],this.loadedSound=[]}addUrl(t,e){const n=t.sound,s=t.image,o=e.sound,i=e.image;s&&this.updateArray(this.imageUrl,s,i),n&&this.updateArray(this.soundUrl,n,o)}updateArray(t,e,n){let s=t.findIndex(({name:t})=>t===n);~s?t[s].urls=[...t[s].urls,...e]:t.push({urls:[...e],name:n})}async calculateTotalSize(){const t=[];let e=0;this.imageUrl.forEach(({urls:n})=>{n.forEach(n=>{t.push(v(n)),e+=1})}),this.soundUrl.forEach(({urls:e})=>{e.forEach(e=>{t.push(v(e))})});const n=await Promise.all(t);return this.totalSize=n.reduce((t,e)=>t+parseInt(e,10),0),this.imagesSize=n.slice(0,e),this.soundSize=n.slice(e),this.totalSize}async load(t){const e=[],n={},s=(e,s)=>{n[s]=e;let o=0;const i=Object.keys(n);for(let t=0;t<i.length;t++)o+=n[i[t]];this.currentLoadedSize=o;const r=Math.round(this.currentLoadedSize/this.totalSize*100);t&&t(r)};let o=0,i=0;this.imageUrl.forEach(({urls:t})=>{t.forEach(t=>{e.push(S(t,s,i)),i+=1,o+=1})}),this.soundUrl.forEach(({urls:t})=>{t.forEach(t=>{e.push(S(t,s,i)),i+=1})});const r=await Promise.all(e),a=r.slice(0,o).map(t=>{const e=new Image;return e.src=t,T(e)}),h=r.slice(o).map(t=>{const e=new Audio;return e.src=t,e}),l=[...a];let d=await Promise.all(l);const c=this.getGroupedLoadedAssets([...d,...h]);return this.imageUrl=[],this.soundUrl=[],this.loaded={...this.loadedImages,...c},c}getGroupedLoadedAssets(t){const e={images:[],sound:[]};let n=0;for(let s=0;s<this.imageUrl.length;s++){const o=this.imageUrl[s].urls.length,i=this.imageUrl[s].name;e.images.push({images:t.slice(n,n+o),name:i}),n+=o}for(let s=0;s<this.soundUrl.length;s++){const o=this.soundUrl[s].urls.length,i=this.soundUrl[s].name;e.sound.push({sound:t.slice(n,n+o),name:i}),n+=o}return e}getImagesByName(t){const e=this.loaded.images.findIndex(({name:e})=>e===t);return~e?this.loaded.images[e].images:null}getSoundByName(t){const e=this.loaded.sound.findIndex(({name:e})=>e===t);return~e?this.loaded.sound[e].sound:null}}class K{constructor(){this.keys=[],this.records=[],this.maxRecordsNumber=10;for(let t=0;t<localStorage.length;t++){const e=localStorage.key(t);e.match(/malekylik-game/)&&this.keys.push(e)}this.parseRecords()}saveResult(t,e){const n=this.maxRecordsNumber;this.records.push({name:t,monsterKilled:e}),this.records.sort((t,e)=>t.time-e.time);for(let t=0;t<this.records.length&&t<n;t++){const{name:e,monsterKilled:n}=this.records[t],s=`name=${e};monsterKilled=${n};`;localStorage.setItem("malekylik-game="+t,s)}this.records.length>n&&(this.records=this.records.slice(0,n))}parseRecords(){for(let t=0;t<this.keys.length;t++){const e=localStorage.getItem(this.keys[t]).split(";"),n={name:e[0].split("=")[1],monsterKilled:e[1].split("=")[1]};this.records.push(n)}}getSortedRecords(){return this.records.sort((t,e)=>e.monsterKilled-t.monsterKilled),this.records}}var P={IMAGE:{HEAD_IMAGES:"./assets/images/monsters/heads",BODY_IMAGES:"./assets/images/monsters/bodies",LEFT_ARM_IMAGES:"./assets/images/monsters/arms/left",RIGHT_ARM_IMAGES:"./assets/images/monsters/arms/right",LEG_IMAGES:"./assets/images/monsters/legs",BACKGROUND_IMAGES:"./assets/images",MAIN_CHAR:"./assets/images",MAGIC:"./assets/images/magic",UI:"./assets/images/ui",TASK:{NAME:"./assets/images/task/name",NAME_COUNTRY_BY_FLAG:"./assets/images/task/nameCountryByFlag"}},SOUND:{MAGIC:"./assets/sound/magic"}};class O extends p{constructor(t,e,n,s,o,i,r,a=null){const{naturalHeight:h}=n,{naturalWidth:l,naturalHeight:d}=i,{naturalWidth:c}=s,{naturalWidth:g}=o,{naturalHeight:u}=r;super(t,e,c+l+g,h+d+u-30,a);const{headComponent:m,bodyComponent:p,leftArmComponent:C,rightArmComponent:f,legComponent:w}=this.initMonsterParts(n,i,s,o,r);this.addComponent(p,"body"),this.addComponent(m,"head"),this.addComponent(w,"leg"),this.addComponent(C,"leftarm"),this.addComponent(f,"rightarm"),this.initAnimationToHead(m)}initMonsterParts(t,e,n,s,o){const{naturalWidth:i,naturalHeight:r}=t,{naturalWidth:a,naturalHeight:h}=e,{naturalWidth:l,naturalHeight:d}=n,{naturalWidth:c,naturalHeight:g}=s,{naturalWidth:u,naturalHeight:p}=o,{width:C,height:f}=this.getBoundingClientRect(),w=new m(f-p-h,C/2-a/2,a,h);w.setBackgroundImage(new y(e,0,0,a,h,a,h,0,0,a,h));const x=new m(f-p-h-r+30,C/2-i/2-15,i,r);x.setBackgroundImage(new y(t,0,0,i,r,i,r,0,0,i,r));const M=new m(f-p,C/2-u/2-13,u,p);M.setBackgroundImage(new y(o,0,0,u,p,u,p,0,0,u,p));const I=new m(f-p-h+45,C/2-15,l,d);I.setBackgroundImage(new y(n,0,0,l,d,l,d,0,0,l,d));const E=new m(f-p-h+40,C/2-89,c,g);return E.setBackgroundImage(new y(s,0,0,c,g,c,g,0,0,c,g)),{headComponent:x,bodyComponent:w,leftArmComponent:I,rightArmComponent:E,legComponent:M}}initAnimationToHead(t){const e=Math.floor(30),n=-e/500,s=-e/500;t.animations.setAnimation("headMoving",2,"infinite",(t,e,o,i,r)=>{let a;i<=.25?a=n:i>.25&&i<=.75?a=.06:i>.75&&(a=s),o.boundingClientRect.top+=a})}}class R{constructor(t,e,n,s=null){this.name=t,this.currentHP=n,this.maxHP=e,this.graphicComponent=s,this.magics=[],this.hpChangeListeners=[]}getGraphicComponent(){return this.graphicComponent}async attack(t,e,n){e?(await e.attack(this,t,n),t.takeAttack(e.damage)):t.takeAttack(5)}takeAttack(t){return this.currentHP-=t,this.currentHP<0?(this.currentHP=0,!0):(this.hpChangeListeners.forEach(t=>{t(this.currentHP)}),!1)}addMagic(t){this.magics.push(t)}getMagics(){return this.magics}getName(){return this.name}getCurrentHP(){return this.currentHP}getMaxHP(){return this.maxHP}isAlive(){return this.currentHP>0}addHPChangeListener(t){this.hpChangeListeners.push(t)}}const F=["Ужасный","Сопливый","Адский","Безбожный","Безжалостный","Буйный","Дикий","Дьявольский","Жестокий","Зверский","Злобный","Наглый","Неистовый","Неудержимый","Сатанинский","Сумасшедший"],L=["Огр","Гном","Гоблин","Вампир","Демон","Зомби","Оборотень","Тролль"],U=["Том","Макс","Дима","Денис","Артем","Вадим","Вася","Гена","Женя","Илья","Кирилл","Макар","Никита","Олег","Паша","Рома"];class _{constructor(t,e,n,s,o){this.headImgs=[...t],this.leftArmImgs=[...e],this.rightArmImgs=[...n],this.bodyImgs=[...s],this.legImgs=[...o]}createMonster(t,e){const n=Math.random,s=Math.round,o=s(n()*(this.headImgs.length-1)),i=s(n()*(this.leftArmImgs.length-1)),r=s(n()*(this.rightArmImgs.length-1)),a=s(n()*(this.bodyImgs.length-1)),h=s(n()*(this.legImgs.length-1)),l=new O(0,0,this.headImgs[o],this.leftArmImgs[i],this.rightArmImgs[r],this.bodyImgs[a],this.legImgs[h]),{width:d,height:c}=l.getBoundingClientRect();l.setBoundingClientRect(Math.floor((e-150)/2-c/2),Math.floor(t/2+100),d,c);const g=F[s(n()*(F.length-1))],u=L[s(n()*(L.length-1))],m=U[s(n()*(U.length-1))];return new R(`${g} ${u} ${m}`,100,100,l)}}var G=[{country:"Австралия",capital:"канберра",flagImage:`${P.IMAGE.TASK.NAME_COUNTRY_BY_FLAG}/australia.png`},{country:"Австрия",capital:"вена",flagImage:`${P.IMAGE.TASK.NAME_COUNTRY_BY_FLAG}/austria.png`},{country:"Беларусь",capital:"минск",flagImage:`${P.IMAGE.TASK.NAME_COUNTRY_BY_FLAG}/belarus.png`},{country:"Бразилия",capital:"бразилиа",flagImage:`${P.IMAGE.TASK.NAME_COUNTRY_BY_FLAG}/brazil.png`},{country:"Великобритания",capital:"лондон",flagImage:`${P.IMAGE.TASK.NAME_COUNTRY_BY_FLAG}/unitedkingdom.png`},{country:"Греция",capital:"афины",flagImage:`${P.IMAGE.TASK.NAME_COUNTRY_BY_FLAG}/greece.png`},{country:"Египет",capital:"каир",flagImage:`${P.IMAGE.TASK.NAME_COUNTRY_BY_FLAG}/egypt.png`},{country:"Индия",capital:"дели",flagImage:`${P.IMAGE.TASK.NAME_COUNTRY_BY_FLAG}/india.png`},{country:"Испания",capital:"мадрид",flagImage:`${P.IMAGE.TASK.NAME_COUNTRY_BY_FLAG}/spain.png`},{country:"Италия",capital:"рим",flagImage:`${P.IMAGE.TASK.NAME_COUNTRY_BY_FLAG}/italy.png`},{country:"Казахстан",capital:"астана",flagImage:`${P.IMAGE.TASK.NAME_COUNTRY_BY_FLAG}/kazakhstan.png`},{country:"Китай",capital:"пекин",flagImage:`${P.IMAGE.TASK.NAME_COUNTRY_BY_FLAG}/china.png`},{country:"Корея Северная",capital:"пхеньян",flagImage:`${P.IMAGE.TASK.NAME_COUNTRY_BY_FLAG}/northkorea.png`},{country:"Корея Южная",capital:"сеул",flagImage:`${P.IMAGE.TASK.NAME_COUNTRY_BY_FLAG}/southkorea.png`},{country:"Российская Федерация",capital:"москва",flagImage:`${P.IMAGE.TASK.NAME_COUNTRY_BY_FLAG}/russia.png`},{country:"США",capital:"вашингтон",flagImage:`${P.IMAGE.TASK.NAME_COUNTRY_BY_FLAG}/unitedstates.png`},{country:"Украина",capital:"киев",flagImage:`${P.IMAGE.TASK.NAME_COUNTRY_BY_FLAG}/ukraine.png`},{country:"Япония",capital:"токио",flagImage:`${P.IMAGE.TASK.NAME_COUNTRY_BY_FLAG}/japan.png`}];var N=[{names:["alligator","crocodile"],image:`${P.IMAGE.TASK.NAME}/alligator.jpg`},{names:["bear"],image:`${P.IMAGE.TASK.NAME}/bear.jpg`},{names:["crow"],image:`${P.IMAGE.TASK.NAME}/crow.jpg`},{names:["dolphin"],image:`${P.IMAGE.TASK.NAME}/dolphin.jpg`},{names:["fox"],image:`${P.IMAGE.TASK.NAME}/fox.jpg`},{names:["tiger"],image:`${P.IMAGE.TASK.NAME}/tiger.jpg`},{names:["lion","lev","lew"],image:`${P.IMAGE.TASK.NAME}/lion.jpg`},{names:["cat","male cat"],image:`${P.IMAGE.TASK.NAME}/cat.jpg`},{names:["dog"],image:`${P.IMAGE.TASK.NAME}/dog.jpg`},{names:["horse"],image:`${P.IMAGE.TASK.NAME}/horse.jpg`},{names:["zebra"],image:`${P.IMAGE.TASK.NAME}/zebra.jpg`}];class Y extends p{constructor(t=0,e=0,n=0,s=0,o="",i={},r,a=null){super(t,e,n,s,a);const h=Math.ceil(n/2);let l=Math.ceil(u(o,"monospace","16px")/2);l>h-20&&(l=h-20);const d=new w(10,h-l,2*l,30,o),c=new f(0,0,100,100,"");d.setBackgroundColor("#00bbbb"),c.setBackgroundColor("#aaaaaa"),this.descriptionKey="description",this.buttonKey="button",this.addComponent(d,this.descriptionKey),this.addComponent(c,this.buttonKey),d.setBackgroundColor("rgba(0, 0, 0, 0)"),d.setTextColor("#ffffff");const g=i.images.modalWindowImage,{naturalWidth:m,naturalHeight:p}=g,C=i.images.okButtonImage,{naturalWidth:x,naturalHeight:M}=C;this.setBackgroundImage(new y(g,0,0,m,p,m,p,0,0,m,p));c.setBoundingClientRect(p-19-M,m-19-x/2,x/2,M),c.setBackgroundImage(new y(C,0,0,x,M,x,M,0,0,x/2,M)),c.tabable=!0,c.drawBorder=!0,this.initEvents(c,r)}initEvents(t,e){const n=()=>{t.isSelected&&t.getBackgroundImage().setFrame(1)},s=()=>{t.removeEventListener(i.MOUSE.MOUSE_ENTER,n)};t.addEventListener(i.MOUSE.MOUSE_DOWN,()=>{t.getBackgroundImage().setFrame(1),t.addEventListener(i.MOUSE.MOUSE_ENTER,n)}),e.addEventListener(i.MOUSE.MOUSE_UP,s),t.addEventListener(i.MOUSE.MOUSE_LEAVE,()=>{t.isSelected&&t.getBackgroundImage().setFrame(0)}),this.onremove=(()=>{e.removeEventListener(i.MOUSE.MOUSE_UP,s)})}getDefaultComponent(){return this.getOkButtonComponent()}getOkButtonComponent(){return this.getChildComponent(this.buttonKey)}getTaskDescriptionComponent(){return this.getChildComponent(this.descriptionKey)}addButtonEventListener(t,e){this.getChildComponent(this.buttonKey).addEventListener(t,e)}answerIsRight(){return!1}getResult(){return new Promise(t=>{this.addButtonEventListener(i.MOUSE.MOUSE_UP,()=>{this.getOkButtonComponent().getBackgroundImage().setFrame(0),t(this.answerIsRight())}),this.addEventListener(i.KEYBOARD.KEY_PRESS,e=>{"Enter"===e.payload.key&&!0!==e.cancelBubble&&t(this.answerIsRight())})})}}const H=[{charPresentation:"+",perform:(t,e)=>t+e},{charPresentation:"-",perform:(t,e)=>t-e},{charPresentation:"x",perform:(t,e)=>t*e}];var W=[{word:"age",translate:["возраст","век","эпоха","период","стареть"]},{word:"appear",translate:["появляться","казаться","предстать"]},{word:"artist",translate:["художник","артист"]},{word:"autumn",translate:["осень","осенний"]},{word:"bay",translate:["залив","бухта","отсек","губа"]},{word:"beak",translate:["клюв"]},{word:"bloom",translate:["цветение","расцвет","цвести","расцвести"]},{word:"bumpy",translate:["ухабистый","неровный"]},{word:"burst",translate:["взрыв","вспышка","разрыв","лопнуть","разрывать"]},{word:"buzz",translate:["гудеть","жужжать","гул","жужжание","слухи"]},{word:"care",translate:["забота","уход","заботиться","ухаживать"]},{word:"check",translate:["проверка","чек","контроль","проверять","контролировать"]},{word:"chilly",translate:["холодно","сухо","зябко","холодный","прохладный","зябкий","промозглый"]},{word:"comfort",translate:["комфорт","удобства","уют","утешить","утешать"]},{word:"community",translate:["сообщество","община","общество","общность"]},{word:"country",translate:["страна","местность","загородный"]},{word:"covered",translate:["крытый","покрытый"]},{word:"cradle",translate:["колыбель","люлька","гнездо"]},{word:"dangle",translate:["мотаться","болтаться","свисать","качаться"]},{word:"decision",translate:["решение"]},{word:"delicious",translate:["вкусно","восхитительный"]},{word:"dentist",translate:["дантист","зубной врач"]},{word:"dew",translate:["роса"]},{word:"disappear",translate:["исчезать","пропадать"]},{word:"dusty",translate:["пыльный"]},{word:"edge",translate:["край","преимущество","кромка"]},{word:"farmer",translate:["фермер","колхозник"]},{word:"fear",translate:["страх","боязнь","опасение","бояться","опасаться"]},{word:"firefly",translate:["светляк","светлячок"]},{word:"fix",translate:["фиксировать","исправлять","устанавливать","чинить"]},{word:"fluffy",translate:["пушистый"]},{word:"follow",translate:["следовать","следить","придерживаться","идти"]},{word:"gallop",translate:["галопом","галоп","скачка","проскакать","скакать галопом","галопировать"]},{word:"gentle",translate:["нежный","мягкий","вежливый"]},{word:"glance",translate:["взгляд","зрение","вид","зрелище","прицел","увидеть"]},{word:"glossy",translate:["глянцевый","блестящий"]},{word:"glow",translate:["пылать","светиться","пылать","свечение","жар","румянец"]},{word:"goal",translate:["цель","гол","задача"]},{word:"half",translate:["половина","часть","наполовину"]},{word:"healthy",translate:["здоровый","полезный"]},{word:"hoof",translate:["копыто","нога"]},{word:"include",translate:["включать"]},{word:"invitation",translate:["приглашение"]},{word:"knight",translate:["рыцарь"]},{word:"lazy",translate:["ленивый"]},{word:"leaf",translate:["лист","листовой"]},{word:"leak",translate:["утечка","течь","просачиваться"]},{word:"library",translate:["библиотека","библиотечный"]},{word:"market",translate:["рынок","базар","продавать","рыночный"]},{word:"melt",translate:["таять","плавиться","растопить","плавиться","плавить"]},{word:"miserable",translate:["несчастный","жалкий","убогий"]},{word:"month",translate:["месяц"]},{word:"muddy",translate:["мутить","грязный","мутный","тусклый"]},{word:"museum",translate:["музей"]},{word:"note",translate:["заметка","внимание","примечание","записка"]},{word:"pair",translate:["пара","чета","парный"]},{word:"patient",translate:["пациент","терпеливый","пациент","больной"]},{word:"peaceful",translate:["мирное","спокойный","мирный"]},{word:"peck",translate:["клевать","долбить","клевок"]},{word:"pilot",translate:["пилот","летчик","пилотировать"]},{word:"plan",translate:["план","схема","проект","замысел","планировать"]},{word:"pointy",translate:["заостренный"]},{word:"pond",translate:["пруд","водоем","бассейн"]},{word:"president",translate:["президент","председатель"]},{word:"protect",translate:["защищать","охранять","беречь","оберегать"]},{word:"race",translate:["раса","гонки","гонка","род"]},{word:"reach",translate:["достичь","охват","досягаемость","достигать","связаться","доходить"]},{word:"relax",translate:["расслабиться","отдыхать","расслабляться"]},{word:"rotten",translate:["гнилой","прогнивший","тухлый"]},{word:"round",translate:["круглый","раунд","тур","круг","вокруг","кругом","округлять"]},{word:"row",translate:["ряд","грести"]},{word:"sail",translate:["паруса","парус","плыть","плавать"]},{word:"scene",translate:["сцена","картина","эпизод","место действия"]},{word:"scrub",translate:["скраб","кустарник","скрести","тереть"]},{word:"shade",translate:["тень","оттенок"]},{word:"ship",translate:["корабль","судно"]},{word:"shore",translate:["берег","побережье","береговой","подпирать"]},{word:"silky",translate:["шелковистый","шелковый"]},{word:"slide",translate:["горка","слайд","скольжение","ползун","скользить"]},{word:"sniff",translate:["сопение","вдох","нюхать","вдыхать","сопеть"]},{word:"soapy",translate:["мыльный","мылкий"]},{word:"sparkle",translate:["искриться","сверкать","блистать","блестеть","блеск","сияние","искорка","сверкание"]},{word:"spotted",translate:["пятнистый","запятнанный"]},{word:"spring",translate:["весна","пружина","рессора","источник","родник","весенний","возникать"]},{word:"stare",translate:["глазеть","пялиться","поглазеть","пристальный взгляд"]},{word:"summer",translate:["лето"]},{word:"supplies",translate:["предметы снабжения","запас","припасы"]},{word:"tangled",translate:["запутанный"]},{word:"tent",translate:["палатка","навес"]},{word:"tomorrow",translate:["завтра","завтрашний день","завтрашний"]},{word:"trade",translate:["сделка","торговля","торговать","торговый"]},{word:"warm",translate:["тепло","теплый","горячий","жаркий","нагреваться","согревать","греть"]},{word:"wave",translate:["волна","волновой","махать","махнуть","размахивать","развеваться"]},{word:"week",translate:["неделю","неделя"]},{word:"wiggle",translate:["покачивание","покачиваться","извиваться","покачивать","ерзать","покачивание"]},{word:"winter",translate:["зима","зимний"]},{word:"wish",translate:["желание","пожелание","желать"]},{word:"yesterday",translate:["вчера","вчерашний день"]},{word:"young",translate:["молодой","юный","молодежь"]}];const D=window.SpeechRecognition||window.webkitSpeechRecognition;class $ extends m{constructor(t=0,e=0,n=0,s=0,o,r=null){super(t,e,n,s,r),this.properties.cursor="pointer";const a=t+s,h=e+n;this.cellCount=o;this.originCoord={x:e+20,y:a-20},this.xAxisCoord={x:h-10,y:this.originCoord.y},this.yAxisCoord={x:this.originCoord.x,y:t+10},this.lastCellXAxisCoord={x:this.xAxisCoord.x-20,y:this.xAxisCoord.y},this.lastCellYAxisCoord={x:this.yAxisCoord.x,y:this.yAxisCoord.y+20},this.xAxisArrow={leftPoint:{x:this.xAxisCoord.x-6,y:this.xAxisCoord.y-8},rightPoint:{x:this.xAxisCoord.x-6,y:this.xAxisCoord.y+8}},this.yAxisArrow={leftPoint:{x:this.yAxisCoord.x-8,y:this.yAxisCoord.y+6},rightPoint:{x:this.yAxisCoord.x+8,y:this.yAxisCoord.y+6}},this.xAxisWidth=this.lastCellXAxisCoord.x-this.originCoord.x,this.yAxisWidth=this.originCoord.y-this.lastCellYAxisCoord.y,this.oneCellX=this.xAxisWidth/(o+1),this.oneCellY=this.yAxisWidth/(o+1),this.point=null,this.onchartchange=null,this.addEventListener(i.MOUSE.MOUSE_DOWN,this.handleClick)}handleClick(t){const e=t.target,{top:n,left:s}=e.getAbsoluteCoord(),{top:o,left:i}=t.payload.mouseCoord,r=o-n+e.getBoundingClientRect().top,a=i-s+e.getBoundingClientRect().left;if(r<e.lastCellYAxisCoord.y+e.oneCellY/2||r>e.originCoord.y||a<e.originCoord.x||a>e.lastCellXAxisCoord.x-e.oneCellX/2)e.point=null;else{const t=Math.round((e.originCoord.y-r)/e.oneCellY),n=Math.round((a-e.originCoord.x)/e.oneCellX);e.setPoint(n,t)}"function"==typeof e.onchartchange&&e.onchartchange(e.point)}getPoint(){return null===this.point?null:{x:this.point.x,y:this.point.y}}paintChartAxises(t,e,n){t.strokeStyle="#000000",t.lineWidth=3,t.beginPath(),t.moveTo(e,n),t.lineTo(this.xAxisCoord.x,this.xAxisCoord.y),t.moveTo(this.xAxisCoord.x,this.xAxisCoord.y),t.lineTo(this.xAxisArrow.leftPoint.x,this.xAxisArrow.leftPoint.y),t.moveTo(this.xAxisCoord.x,this.xAxisCoord.y),t.lineTo(this.xAxisArrow.rightPoint.x,this.xAxisArrow.rightPoint.y),t.moveTo(this.yAxisCoord.x,this.yAxisCoord.y),t.lineTo(this.yAxisArrow.leftPoint.x,this.yAxisArrow.leftPoint.y),t.moveTo(this.yAxisCoord.x,this.yAxisCoord.y),t.lineTo(this.yAxisArrow.rightPoint.x,this.yAxisArrow.rightPoint.y),t.moveTo(e,n),t.lineTo(this.yAxisCoord.x,this.yAxisCoord.y),t.stroke(),t.fillStyle="#000000",t.font="16px monospace",t.textBaseline="top",t.textAlign="center",t.fillText("0",e,n)}paintChartGrid(t,e,n){t.strokeStyle="#777777",t.lineWidth=2,t.beginPath();const s=this.lastCellYAxisCoord.y+this.oneCellY;for(let o=1;o<this.cellCount+1;o++){const i=e+o*this.oneCellX;t.moveTo(i,n),t.lineTo(i,s),t.fillText(String(o),i,n)}t.textBaseline="middle",t.textAlign="right";const o=this.lastCellXAxisCoord.x-this.oneCellX;for(let s=1;s<this.cellCount+1;s++){const i=n-(this.cellCount+1-s)*this.oneCellY;t.moveTo(e,i),t.lineTo(o,i),t.fillText(String(this.cellCount+1-s),e-3,i)}t.stroke()}paintPoint(t){t.save(),t.strokeStyle="#aa0000",t.beginPath(),t.arc(this.point.pointCoord.x,this.point.pointCoord.y,5,0,2*Math.PI),t.clip(),t.stroke(),t.fillStyle="#aa0000",t.fillRect(this.point.pointCoord.x-10,this.point.pointCoord.y-10,20,20),t.restore()}paintComponent(t,e){t.save(),super.paintComponent(t,e);const{top:n,left:s,width:o,height:i}=this.getBoundingClientRect(),{x:r,y:a}=this.originCoord;t.fillStyle="#ffffff",t.fillRect(s,n,o,i),this.paintChartAxises(t,r,a),this.paintChartGrid(t,r,a),null!==this.point&&this.paintPoint(t),t.restore()}setPoint(t,e){t>this.cellCount||t<0||e>this.cellCount||e<0?this.point=null:this.point={x:t,y:e,pointCoord:{x:this.originCoord.x+this.oneCellX*t,y:this.originCoord.y-this.oneCellY*e}}}}const j=(t,e,n,s)=>{let o,i=t,r=e;return i/n>r/s?(i>n&&(i=n),o=i/t,(r=Math.round(e*o))>s&&(r=s)):(r>s&&(r=s),o=r/e,(i=Math.round(t*o))>n&&(i=n)),{taskImageWidthProp:i,taskImageHeightProp:r}};class X extends Y{constructor(t=0,e=0,n=0,s=0,o={},i=null){super(t,e,n,s,"Назови то, что нарисовано на картинке одним словом на английском:",o,i);const r=o.images.textFieldImage,{naturalWidth:a,naturalHeight:h}=r,l=o.images.nameImage,{naturalWidth:d,naturalHeight:c}=l,g=Math.ceil(s/2),p=Math.round(h/2),C=new w(g-p,5,a,h,"");C.tabable=!0,C.editable=!0,C.drawBorder=!0,C.setBackgroundColor("#bb0000");const f=Math.ceil(u("x","monospace","16px"));C.maxTextLength=Math.floor(a/f)+1,C.setBackgroundImage(new y(r,0,0,a,h,a,h,0,0,a,h)),C.setTextColor("#FFFF00"),C.cursor.setColor("#08B600"),this.answerKey="answer",this.addComponent(C,this.answerKey),C.alignCenter();const{top:x,height:M}=super.getOkButtonComponent().getBoundingClientRect();C.setBoundingClientRect(x+Math.round((M-h)/2));const{bottom:I,left:E}=super.getTaskDescriptionComponent().getBoundingClientRect();let{taskImageWidthProp:B,taskImageHeightProp:A}=j(d,c,n-2*E,s-(s-x)-I-20);this.taskImageKey="task";const b=new m(0,0,B,A);b.setBackgroundImage(new y(l,0,0,d,c,B,A,0,0,d,c)),this.addComponent(b,this.taskImageKey),b.alignCenter(),b.setBoundingClientRect(I+10),this.imageNames=o.additional.name.taskNames}getDefaultComponent(){return this.getChildComponent(this.answerKey)}answerIsRight(){const t=this.getChildComponent(this.answerKey).getText().trim().toLowerCase(),e=this.imageNames;let n=!1;for(let s=0;s<e.length;s++)if(n=t===e[s])return n;return n}}const z=[{charPresentation:"+",perform:(t,e)=>t+e},{charPresentation:"-",perform:(t,e)=>t-e},{charPresentation:"*",perform:(t,e)=>t*e}];const q=["black","blue","brown","green","orange","pink","red","white","yellow"];const V=[function(){const t=Math.round(8*Math.random())+2,e=Math.round(8*Math.random())+2;this.getTaskText=(()=>`Дан прямоугольный треугольник, у которого первый катет равен ${t}, а второй - ${e}. Найди его площадь. Ответ округли до целого числа:`),this.answer=Math.round(.5*t*e)},function(){const t=Math.round(8*Math.random())+2,e=Math.round(8*Math.random())+2;this.getTaskText=(()=>`Дан треугольник, у которого основание равно ${t}, а высота ${e}. Найди его площадь. Ответ округли до целого числа:`),this.answer=Math.round(.5*t*e)}];class Q extends Y{constructor(t=0,e=0,n=0,s=0,o={},i=null){super(t,e,n,s,"Назови страну по флагу:",o,i);const r=o.images.textFieldImage,{naturalWidth:a,naturalHeight:h}=r,l=o.images.nameCountryByFlagImage,{naturalWidth:d,naturalHeight:c}=l,g=Math.ceil(s/2),p=Math.round(h/2),C=new w(g-p,5,a,h,"");C.tabable=!0,C.editable=!0,C.drawBorder=!0,C.setBackgroundColor("#bb0000");const f=Math.ceil(u("x","monospace","16px"));C.maxTextLength=Math.floor(a/f)+1,C.setBackgroundImage(new y(r,0,0,a,h,a,h,0,0,a,h)),C.setTextColor("#FFFF00"),C.cursor.setColor("#08B600"),this.answerKey="answer",this.addComponent(C,this.answerKey),C.alignCenter();const{top:x,height:M}=super.getOkButtonComponent().getBoundingClientRect();C.setBoundingClientRect(x+Math.round((M-h)/2));const{bottom:I,left:E}=super.getTaskDescriptionComponent().getBoundingClientRect();let{taskImageWidthProp:B,taskImageHeightProp:A}=j(d,c,n-2*E,s-(s-x)-I-20);this.taskImageKey="task";const b=new m(0,0,B,A);b.setBackgroundImage(new y(l,0,0,d,c,B,A,0,0,d,c)),this.addComponent(b,this.taskImageKey),b.alignCenter(),this.answer=o.additional.nameCountryByFlag.answer}getDefaultComponent(){return this.getChildComponent(this.answerKey)}answerIsRight(){return this.getChildComponent(this.answerKey).getText().trim().toLowerCase()===this.answer}}const J=[class extends Y{constructor(t=0,e=0,n=0,s=0,o={},i=null){super(t,e,n,s,"Переведи слово:",o,i),this.wordObj=W[Math.round(Math.random()*(W.length-1))];const r=o.images.textFieldImage,{naturalWidth:a,naturalHeight:h}=r,l=`${this.wordObj.word}: `,d=Math.ceil(s/2),c=Math.ceil((u(l,"monospace",16)+1)/2),g=Math.round(h/2),m=new w(d-h-g,5,2*c,h,l),p=new w(d-g,5,a,h,"");p.editable=!0,p.tabable=!0,p.drawBorder=!0,p.setBackgroundColor("#bb0000");const C=Math.ceil(u("x","monospace",16));p.maxTextLength=Math.floor(a/C)+1,p.setBackgroundImage(new y(r,0,0,a,h,a,h,0,0,a,h)),p.setTextColor("#FFFF00"),p.cursor.setColor("#08B600"),m.setBackgroundColor("rgba(0, 0, 0, 0)"),m.setTextColor("#ffffff"),this.descriptionKey="description",this.expressionKey="expression",this.answerKey="answer",this.buttonKey="button",this.addComponent(m,this.expressionKey),this.addComponent(p,this.answerKey),p.alignCenter(),m.setBoundingClientRect(void 0,p.getBoundingClientRect().left)}getDefaultComponent(){return this.getChildComponent(this.answerKey)}answerIsRight(){const t=this.getChildComponent(this.answerKey).getText().trim().toLowerCase(),e=this.wordObj.translate;let n=!1;for(let s=0;s<e.length;s++)if(n=t===e[s])return n;return n}},class extends Y{constructor(t=0,e=0,n=0,s=0,o={},i=null){super(t,e,n,s,"Решите данное выражение:",o,i);const r=H[Math.round(Math.random()*(H.length-1))],a=o.images.textFieldImage,{naturalWidth:h,naturalHeight:l}=a,{firstOperand:d,secondOperand:c}=this.getOperands(r);this.taskRightAnswer=r.perform(d,c);const g=`${d} ${r.charPresentation} ${c} =`,m=Math.ceil(n/2),p=Math.ceil(s/2),C=Math.ceil((u(g,"monospace","16px")+1)/2),f=Math.ceil((u("9999","monospace","16px")+1)/2),x=f+C+3,M=Math.round(l/2),I=new w(p-M,m-x,2*C,l,g),E=new w(p-M,m-x+2*C+3,2*f,l,"");I.setBackgroundColor("rgba(0, 0, 0, 0)"),I.setTextColor("#ffffff"),E.editable=!0,E.tabable=!0,E.drawBorder=!0,E.setBackgroundColor("rgba(0, 0, 0, 0)"),E.setBackgroundImage(new y(a,0,0,h,l,h,l,0,0,h,l)),E.maxTextLength=4,E.setTextColor("#FFFF00"),E.cursor.setColor("#08B600"),this.expressionKey="expression",this.answerKey="answer",this.addComponent(I,this.expressionKey),this.addComponent(E,this.answerKey)}getDefaultComponent(){return this.getChildComponent(this.answerKey)}getOperands(t){let e=1,n=1;if(e=Math.round(50*Math.random()),"x"===t.charPresentation)if(0===e)n=Math.round(50*Math.random());else{const t=Math.ceil(100/e);n=Math.floor(Math.random()*t)}else n=Math.round(50*Math.random());return{firstOperand:e,secondOperand:n}}answerIsRight(){return parseFloat(this.getChildComponent(this.answerKey).getText())===this.taskRightAnswer}},class extends Y{constructor(t=0,e=0,n=0,s=0,o={},i=null){const r={x:Math.round(10*Math.random()),y:Math.round(10*Math.random())};super(t,e,n,s,`Поставте точку с координатами (${r.x}:${r.y}):`,o,i),this.onChartChange=this.onChartChange.bind(this),this.onInputChange=this.onInputChange.bind(this);const a=super.getTaskDescriptionComponent().getBoundingClientRect(),h=super.getOkButtonComponent().getBoundingClientRect();this.chartBoundingClientBox={top:a.bottom+5,left:20,bottom:s-20,right:h.left-5},this.point=r,this.chartBoundingClientBox.width=this.chartBoundingClientBox.right-this.chartBoundingClientBox.left,this.chartBoundingClientBox.height=this.chartBoundingClientBox.bottom-this.chartBoundingClientBox.top,this.chartKey="chart";const l=new $(this.chartBoundingClientBox.top,this.chartBoundingClientBox.left,this.chartBoundingClientBox.width,this.chartBoundingClientBox.height,10);l.onchartchange=this.onChartChange,this.addComponent(l,this.chartKey),this.initLabels(o)}getDefaultComponent(){return this.getXInput()}onChartChange(t){const e=this.getXInput(),n=this.getYInput();null!==t?(e.setText(String(t.x)),n.setText(String(t.y))):(e.setText(""),n.setText(""))}onInputChange(){const t=parseInt(this.getXInput().getText(),10),e=parseInt(this.getYInput().getText(),10),n=this.getChartComponent();t==t&&e==e?n.setPoint(t,e):n.setPoint(-1,-1)}getXInput(){return this.getChildComponent(this.xLabelInputKey)}getYInput(){return this.getChildComponent(this.yLabelInputKey)}initLabels(t){const e=t.images.textFieldImage,{naturalWidth:n,naturalHeight:s}=e;this.xLabelKey="xlabel",this.xLabelInputKey="xlabelinput",this.yLabelKey="ylabel",this.yLabelInputKey="ylabelinput";const o=s,r=Math.ceil(u("X:","monospace",o)),a=new w(this.chartBoundingClientBox.top,this.chartBoundingClientBox.right+5,r,o,"X:");a.setTextColor("#ffffff"),this.addComponent(a,this.xLabelKey);const h=new w(this.chartBoundingClientBox.top,a.getBoundingClientRect().right+3,r,o,"");h.editable=!0,h.tabable=!0,h.drawBorder=!0,h.setBackgroundImage(new y(e,0,0,n,s,n,s,0,0,n,s)),h.setBackgroundColor("#bb0000"),h.maxTextLength=2,h.setTextColor("#FFFF00"),h.cursor.setColor("#08B600"),this.addComponent(h,this.xLabelInputKey);const l=new w(a.getBoundingClientRect().bottom+5,this.chartBoundingClientBox.right+5,r,o,"Y:");l.setTextColor("#ffffff"),this.addComponent(l,this.yLabelKey);const d=new w(l.getBoundingClientRect().top,l.getBoundingClientRect().right+3,r,o,"");d.editable=!0,d.tabable=!0,d.drawBorder=!0,d.setBackgroundImage(new y(e,0,0,n,s,n,s,0,0,n,s)),d.setBackgroundColor("#bb0000"),d.maxTextLength=2,d.setTextColor("#FFFF00"),d.cursor.setColor("#08B600"),this.addComponent(d,this.yLabelInputKey),h.addEventListener(i.KEYBOARD.KEY_DOWN,this.onInputChange),h.addEventListener(i.KEYBOARD.KEY_PRESS,this.onInputChange),d.addEventListener(i.KEYBOARD.KEY_DOWN,this.onInputChange),d.addEventListener(i.KEYBOARD.KEY_PRESS,this.onInputChange)}answerIsRight(){const t=this.getChartComponent().getPoint();return null!==t&&this.point.x===t.x&&this.point.y===t.y}getChartComponent(){return this.getChildComponent(this.chartKey)}},class extends Y{constructor(t=0,e=0,n=0,s=0,o={},i=null){super(t,e,n,s,"Переведите число из десетичной в двоичную систему счисления:",o,i);const r=o.images.textFieldImage,{naturalWidth:a,naturalHeight:h}=r;this.numberToConvert=Math.round(32*Math.random());const l=`Число для перевода ${this.numberToConvert}:`,d=Math.round(h/2),c=Math.ceil(s/2),g=Math.ceil((u(l,"monospace","16px")+1)/2),m=new w(c-h-d,5,2*g,h,l),p=new w(c-d,5,a,h,"");p.tabable=!0,p.editable=!0,p.drawBorder=!0,p.setBackgroundColor("#bb0000"),p.maxTextLength=8,p.setBackgroundImage(new y(r,0,0,a,h,a,h,0,0,a,h)),p.setTextColor("#FFFF00"),p.cursor.setColor("#08B600"),m.setBackgroundColor("rgba(0, 0, 0, 0)"),m.setTextColor("#ffffff"),this.descriptionKey="description",this.expressionKey="expression",this.answerKey="answer",this.buttonKey="button",this.addComponent(m,this.expressionKey),this.addComponent(p,this.answerKey),p.alignCenter(),m.setBoundingClientRect(void 0,p.getBoundingClientRect().left)}getDefaultComponent(){return this.getChildComponent(this.answerKey)}answerIsRight(){return this.getChildComponent(this.answerKey).getText().trim().toLowerCase()===this.numberToConvert.toString(2)}},X,Q,class extends Y{constructor(t=0,e=0,n=0,s=0,o={},i=null){super(t,e,n,s,"Одно из слагаемых данно. Напиши второе слагаемое, чтобы сумма давала верное равенство:",o,i);const r=o.images.textFieldImage,{naturalWidth:a,naturalHeight:h}=r,l=this.initTask(),d=Math.ceil(s/2),c=Math.round(h/2),g=Math.ceil((u(l,"monospace","16px")+1)/2),m=new w(d-h-c,5,2*g,h,l),p=new w(d-c,5,a,h,"");p.tabable=!0,p.editable=!0,p.drawBorder=!0,p.setBackgroundColor("#bb0000"),p.maxTextLength=2,p.setBackgroundImage(new y(r,0,0,a,h,a,h,0,0,a,h)),p.setTextColor("#FFFF00"),p.cursor.setColor("#08B600"),m.setBackgroundColor("rgba(0, 0, 0, 0)"),m.setTextColor("#ffffff"),this.descriptionKey="description",this.expressionKey="expression",this.answerKey="answer",this.buttonKey="button",this.addComponent(m,this.expressionKey),this.addComponent(p,this.answerKey),p.alignCenter(),m.setBoundingClientRect(void 0,p.getBoundingClientRect().left)}getDefaultComponent(){return this.getChildComponent(this.answerKey)}initTask(){let t,e=Math.round(97*Math.random())+2,n=Math.round(Math.random()*(e-2))+1;return this.number=e-n,t=Math.round(Math.random())?`? + ${n} = ${e}`:`${n} + ? = ${e}`}answerIsRight(){return parseInt(this.getChildComponent(this.answerKey).getText())===this.number}},class extends Y{constructor(t=0,e=0,n=0,s=0,o={},i=null){super(t,e,n,s,"Какой знак ты поставишь между этими числами (>, < или =):",o,i);const r=o.images.textFieldImage,{naturalWidth:a,naturalHeight:h}=r;this.first=Math.round(100*Math.random()),this.second=Math.round(100*Math.random());const l=`${this.first} ? ${this.second}:`,d=Math.round(h/2),c=Math.ceil(s/2),g=Math.ceil((u(l,"monospace","16px")+1)/2),m=new w(c-h-d,5,2*g,h,l),p=new w(c-d,5,a,h,"");p.editable=!0,p.tabable=!0,p.drawBorder=!0,p.setBackgroundColor("#bb0000"),p.maxTextLength=1,p.setBackgroundImage(new y(r,0,0,a,h,a,h,0,0,a,h)),p.setTextColor("#FFFF00"),p.cursor.setColor("#08B600"),m.setBackgroundColor("rgba(0, 0, 0, 0)"),m.setTextColor("#ffffff"),this.descriptionKey="description",this.expressionKey="expression",this.answerKey="answer",this.buttonKey="button",this.addComponent(m,this.expressionKey),this.addComponent(p,this.answerKey),p.alignCenter(),m.setBoundingClientRect(void 0,p.getBoundingClientRect().left)}getDefaultComponent(){return this.getChildComponent(this.answerKey)}answerIsRight(){const t=this.getChildComponent(this.answerKey).getText();return">"===t?this.first>this.second:"<"===t?this.first<this.second:"="===t&&this.first===this.second}},class extends Y{constructor(t=0,e=0,n=0,s=0,o={},i=null){super(t,e,n,s,"В этом ряду есть закономерность, закончи его:",o,i);const r=o.images.textFieldImage,{naturalWidth:a,naturalHeight:h}=r;this.number=Math.round(95*Math.random())+4;const l=this.createSequenceText(),d=Math.round(h/2),c=Math.ceil(s/2),g=Math.ceil((u(l,"monospace","16px")+1)/2),m=new w(c-h-d,5,2*g,h,l),p=new w(c-d,5,a,h,"");p.editable=!0,p.tabable=!0,p.drawBorder=!0,p.setBackgroundColor("#bb0000"),p.maxTextLength=2,p.setBackgroundImage(new y(r,0,0,a,h,a,h,0,0,a,h)),p.setTextColor("#FFFF00"),p.cursor.setColor("#08B600"),m.setBackgroundColor("rgba(0, 0, 0, 0)"),m.setTextColor("#ffffff"),this.descriptionKey="description",this.expressionKey="expression",this.answerKey="answer",this.buttonKey="button",this.addComponent(m,this.expressionKey),this.addComponent(p,this.answerKey),p.alignCenter(),m.setBoundingClientRect(void 0,p.getBoundingClientRect().left)}getDefaultComponent(){return this.getChildComponent(this.answerKey)}createSequenceText(){let t=Math.floor(this.number/4),e=0;e=t>10?Math.round(8*Math.random())+1:Math.round(Math.random()*(t-1))+1;let n=this.number-1*e,s=this.number-2*e,o=this.number-3*e;return`${this.number-4*e}, ${o}, ${s}, ${n}, ?:`}answerIsRight(){return parseInt(this.getChildComponent(this.answerKey).getText(),10)===this.number}},class extends Y{constructor(t=0,e=0,n=0,s=0,o={},i=null){super(t,e,n,s,"В выражении пропущен арифметический знак. Выбери подходящий из +, - и *:",o,i);const r=z[Math.round(Math.random()*(z.length-1))],a=o.images.textFieldImage,{naturalWidth:h,naturalHeight:l}=a,{firstOperand:d,secondOperand:c}=this.getOperands(r),g=r.perform(d,c);this.operationCharPresentation=r.charPresentation;const m=`${d} ? ${c} = ${g}`,p=Math.round(l/2),C=Math.ceil(s/2),f=Math.ceil((u(m,"monospace","16px")+1)/2),x=new w(C-l-p,5,2*f,l,m),M=new w(C-p,5,h,l,"");M.editable=!0,M.tabable=!0,M.drawBorder=!0,M.setBackgroundColor("#bb0000"),M.maxTextLength=1,M.setBackgroundImage(new y(a,0,0,h,l,h,l,0,0,h,l)),M.setTextColor("#FFFF00"),M.cursor.setColor("#08B600"),x.setBackgroundColor("rgba(0, 0, 0, 0)"),x.setTextColor("#ffffff"),this.descriptionKey="description",this.expressionKey="expression",this.answerKey="answer",this.buttonKey="button",this.addComponent(x,this.expressionKey),this.addComponent(M,this.answerKey),M.alignCenter(),x.setBoundingClientRect(void 0,M.getBoundingClientRect().left)}getDefaultComponent(){return this.getChildComponent(this.answerKey)}getOperands(t){let e=1,n=1;if(e=Math.round(50*Math.random()),"*"===t.charPresentation)if(0===e)n=Math.round(50*Math.random());else{const t=Math.ceil(100/e);n=Math.floor(Math.random()*t)}else n=Math.round(50*Math.random());return{firstOperand:e,secondOperand:n}}answerIsRight(){return this.getChildComponent(this.answerKey).getText()===this.operationCharPresentation}},class extends Y{constructor(t=0,e=0,n=0,s=0,o={},i=null){super(t,e,n,s,"Назови цвет на английском:",o,i);const r=o.images.textFieldImage,{naturalWidth:a,naturalHeight:h}=r,l=Math.ceil(s/2),d=Math.round(h/2),c=new w(l-d,5,a,h,"");this.colorName=q[Math.round(Math.random()*(q.length-1))],c.tabable=!0,c.editable=!0,c.drawBorder=!0,c.setBackgroundColor("#bb0000");const g=Math.ceil(u("x","monospace","16px"));c.maxTextLength=Math.floor(a/g)+1,c.setBackgroundImage(new y(r,0,0,a,h,a,h,0,0,a,h)),c.setTextColor("#FFFF00"),c.cursor.setColor("#08B600"),this.answerKey="answer",this.addComponent(c,this.answerKey),c.alignCenter();const{top:p,height:C}=super.getOkButtonComponent().getBoundingClientRect();c.setBoundingClientRect(p+Math.round((C-h)/2)),this.taskColorKey="task";const f=new m(0,0,Math.floor(n/2),Math.floor(s/2));f.setBackgroundColor(this.colorName),this.addComponent(f,this.taskColorKey),f.alignCenter()}getDefaultComponent(){return this.getChildComponent(this.answerKey)}answerIsRight(){return this.colorName===this.getChildComponent(this.answerKey).getText().trim().toLowerCase()}},class extends Y{constructor(t=0,e=0,n=0,s=0,o={},i=null){super(t,e,n,s,"Вычисли площадь треугольника:",o,i);const r=new(V[Math.round(Math.random()*(V.length-1))]),a=o.images.textFieldImage,{naturalWidth:h,naturalHeight:l}=a;this.answer=r.answer;const d=r.getTaskText(),c=Math.ceil(s/2),g=Math.ceil(u(d,"monospace","16px")),m=16*Math.ceil(g/h),p=Math.round(l/2),C=new w(c-p-m-8,5,h,m,d),f=new w(c-p,5,h,l,"");f.editable=!0,f.tabable=!0,f.drawBorder=!0,f.setBackgroundColor("#bb0000"),f.maxTextLength=2,f.setBackgroundImage(new y(a,0,0,h,l,h,l,0,0,h,l)),f.setTextColor("#FFFF00"),f.cursor.setColor("#08B600"),C.setBackgroundColor("rgba(0, 0, 0, 0)"),C.setTextColor("#ffffff"),this.descriptionKey="description",this.expressionKey="expression",this.answerKey="answer",this.buttonKey="button",this.addComponent(C,this.expressionKey),this.addComponent(f,this.answerKey),f.alignCenter(),C.setBoundingClientRect(void 0,f.getBoundingClientRect().left)}getDefaultComponent(){return this.getChildComponent(this.answerKey)}answerIsRight(){return parseInt(this.getChildComponent(this.answerKey).getText(),10)===this.answer}},class extends Y{constructor(t=0,e=0,n=0,s=0,o={},i=null){super(t,e,n,s,"Произнесите слово:",o,i);const r=o.images.textFieldImage,{naturalWidth:a,naturalHeight:h}=r,l=o.images.microButtonImage,{naturalWidth:d,naturalHeight:c}=l;this.word=W[Math.round(Math.random()*(W.length-1))].word;const g=`${this.word}: `,m=Math.ceil(s/2),p=Math.ceil((u(g,"monospace","16px")+1)/2),C=Math.round(h/2),x=new w(m-h-C,5,2*p,h,g),M=new w(m-C,5,a,h,""),I=new f(m-Math.round(c/2),n-10-d,d/2,c,"");I.setBackgroundImage(new y(l,0,0,d,c,d,c,0,0,d/2,c)),M.setBackgroundImage(new y(r,0,0,a,h,a,h,0,0,a,h)),M.setTextColor("#FFFF00"),M.properties.cursor="auto",x.setBackgroundColor("rgba(0, 0, 0, 0)"),x.setTextColor("#ffffff");const E=Math.ceil(u("x","monospace","16px"));M.maxTextLength=Math.floor((n-10)/E),I.setBackgroundColor("#aaaaaa"),I.tabable=!0,I.drawBorder=!0,this.expressionKey="expression",this.answerKey="answer",this.microButtonKey="microbutton",this.addComponent(x,this.expressionKey),this.addComponent(M,this.answerKey),this.addComponent(I,this.microButtonKey),M.alignCenter(),I.alignCenter(),x.setBoundingClientRect(void 0,M.getBoundingClientRect().left),I.setBoundingClientRect(void 0,M.getBoundingClientRect().right+5),this.initSpeechRecognition(),this.setSpeechEventHandler()}initSpeechRecognition(){const t=new D;return t.lang="en-US",t.interimResults=!1,t.maxAlternatives=1,this.recognition=t,t}getDefaultComponent(){return this.getChildComponent(this.microButtonKey)}setSpeechEventHandler(){const t=this.getChildComponent(this.microButtonKey),e=this.getChildComponent(this.answerKey),n=this.recognition;let s=!1;const o=e=>{e.cancelBubble=!0,s?(n.stop(),s=!1,t.getBackgroundImage().setFrame(0)):(n.start(),s=!0,t.getBackgroundImage().setFrame(1))};t.addEventListener(i.KEYBOARD.KEY_PRESS,o),t.addEventListener(i.MOUSE.MOUSE_DOWN,o),n.onresult=(t=>{t.results.length>0&&e.setText(t.results[0][0].transcript)}),n.onspeechend=(()=>{n.stop(),s=!1,t.getBackgroundImage().setFrame(0)}),n.onerror=(e=>{console.log("Error occurred in recognition: "+e.error),t.getBackgroundImage().setFrame(0)})}answerIsRight(){return this.getChildComponent(this.answerKey).getText().toLowerCase()===this.word}},class extends Y{constructor(t=0,e=0,n=0,s=0,o={},i=null){super(t,e,n,s,"Напиши столицу этой страны:",o,i);const r=G[Math.round(Math.random()*(G.length-1))];this.answer=r.capital;const a=o.images.textFieldImage,{naturalWidth:h,naturalHeight:l}=a,d=`${r.country}: `,c=Math.ceil(s/2),g=Math.ceil((u(d,"monospace","16px")+1)/2),m=Math.round(l/2),p=new w(c-l-m,5,2*g,l,d),C=new w(c-m,5,h,l,"");C.editable=!0,C.tabable=!0,C.drawBorder=!0,C.setBackgroundColor("#bb0000");const f=Math.ceil(u("x","monospace","16px"));C.maxTextLength=Math.floor(h/f)+1,C.setBackgroundImage(new y(a,0,0,h,l,h,l,0,0,h,l)),C.setTextColor("#FFFF00"),C.cursor.setColor("#08B600"),p.setBackgroundColor("rgba(0, 0, 0, 0)"),p.setTextColor("#ffffff"),this.descriptionKey="description",this.expressionKey="expression",this.answerKey="answer",this.buttonKey="button",this.addComponent(p,this.expressionKey),this.addComponent(C,this.answerKey),C.alignCenter(),p.setBoundingClientRect(void 0,C.getBoundingClientRect().left)}getDefaultComponent(){return this.getChildComponent(this.answerKey)}answerIsRight(){return this.getChildComponent(this.answerKey).getText().trim().toLowerCase()===this.answer}},class extends Y{constructor(t=0,e=0,n=0,s=0,o={},i=null){super(t,e,n,s,"Напиши пропущеную букву:",o,i);const r=W[Math.round(Math.random()*(W.length-1))].word,a=Math.round(Math.random()*(r.length-1));this.answer=r[a];const h=o.images.textFieldImage,{naturalWidth:l,naturalHeight:d}=h,c=`${r.replace(r[a],"?")}: `,g=Math.ceil(s/2),m=Math.ceil((u(c,"monospace","16px")+1)/2),p=Math.round(d/2),C=new w(g-d-p,5,2*m,d,c),f=new w(g-p,5,l,d,"");f.editable=!0,f.tabable=!0,f.drawBorder=!0,f.setBackgroundColor("#bb0000"),f.maxTextLength=1,f.setBackgroundImage(new y(h,0,0,l,d,l,d,0,0,l,d)),f.setTextColor("#FFFF00"),f.cursor.setColor("#08B600"),C.setBackgroundColor("rgba(0, 0, 0, 0)"),C.setTextColor("#ffffff"),this.descriptionKey="description",this.expressionKey="expression",this.answerKey="answer",this.buttonKey="button",this.addComponent(C,this.expressionKey),this.addComponent(f,this.answerKey),f.alignCenter(),C.setBoundingClientRect(void 0,f.getBoundingClientRect().left)}getDefaultComponent(){return this.getChildComponent(this.answerKey)}answerIsRight(){return this.getChildComponent(this.answerKey).getText().toLowerCase()===this.answer}}];class Z{constructor(t,e){this.uiImages=t,this.nameTaskImages=e.slice(0,N.length),this.nameCountryByFlagTaskImages=e.slice(N.length,N.length+G.length)}createTask(t,e,n,s,o){const i={images:{textFieldImage:this.uiImages[1],modalWindowImage:this.uiImages[2],okButtonImage:this.uiImages[3],microButtonImage:this.uiImages[4]},additional:{}},r=J[Math.round(Math.random()*(J.length-1))];if(r===X){const t=Math.round(Math.random()*(this.nameTaskImages.length-1));i.additional.name={taskNames:N[t].names},i.images.nameImage=this.nameTaskImages[t]}if(r===Q){const t=Math.round(Math.random()*(this.nameCountryByFlagTaskImages.length-1));i.additional.nameCountryByFlag={answer:G[t].country.toLocaleLowerCase()},i.images.nameCountryByFlagImage=this.nameCountryByFlagTaskImages[t]}return new r(t,e,n,s,i,o)}}class tt{constructor(t,e,n){this.name=t,this.damage=e,this.graphicComponent=n}getGraphicComponent(){return this.graphicComponent}getName(){return this.name}getDamage(){return this.damage}}class et extends tt{constructor(t,e,n,s,o){super(t,e,n),this.attackAnimations=s,this.moveIndex=0,this.explosionIndex=1,this.sound=o}getGraphicComponent(){return this.graphicComponent}getName(){return this.name}getDamage(){return this.damage}arrowMove(t,e,n,s){const o=this.attackAnimations[this.moveIndex];let r=t-n+Math.floor(e/4);return o.animations.setAnimation("move",.924,1,(t,e,s,o,i)=>{i.backgroundImage.setFrame(o),i.setBoundingClientRect(void 0,n+r*o)}),new Promise(t=>{o.addEventListener(i.ANIMATION.ANIMATION_END,()=>{s.removeScene(o),t()})})}explode(t){const e=this.attackAnimations[this.explosionIndex];return e.animations.setAnimation("explode",.924,1,(t,e,n,s,o)=>{o.backgroundImage.setFrame(s)}),new Promise(n=>{e.addEventListener(i.ANIMATION.ANIMATION_END,()=>{t.removeScene(e),n()})})}async attack(t,e,n){const s=this.attackAnimations[this.moveIndex],o=this.attackAnimations[this.explosionIndex],{left:i,width:r}=t.getGraphicComponent().getBoundingClientRect(),{top:a,left:h,height:l}=e.getGraphicComponent().getBoundingClientRect();s.setBoundingClientRect(a+Math.floor(l/2),i),n.addScene(s),this.sound.play(),await this.arrowMove(h,r,i,n),o.setBoundingClientRect(a+Math.floor(l/2),h+Math.floor(r/4)),n.addScene(o),await this.explode(n)}}class nt extends tt{constructor(t,e,n,s,o){super(t,e,n),this.attackAnimations=s,this.implosionIndex=0,this.sound=o}getGraphicComponent(){return this.graphicComponent}getName(){return this.name}getDamage(){return this.damage}async attack(t,e,n){const{top:s,left:o,width:r}=e.getGraphicComponent().getBoundingClientRect(),a=this.attackAnimations[this.implosionIndex];a.animations.setAnimation("implosion",.924,1,(t,e,n,s,o)=>{o.backgroundImage.setFrame(s)}),a.setBoundingClientRect(s,Math.floor(o+r/3)),this.sound.play(),n.addScene(a),await new Promise(t=>{a.addEventListener(i.ANIMATION.ANIMATION_END,e=>{n.removeScene(a),t()})})}}class st extends m{constructor(t,e,n,s,o=null){const{naturalWidth:i,naturalHeight:r}=s,a=i*n,h=r*n;super(t,e,a,h,o),s instanceof Image&&this.setBackgroundImage(new y(s,0,0,i,r,a,h,0,0,i,r)),this.properties.cursor="pointer"}}class ot{constructor(){this.assets={}}addMagicAssets(t,e,n){this.assets[n]={images:t,sound:e}}createMagicArrow(t,e=!1){if(!this.assets.magicArrow)return null;const n=this.assets.magicArrow.images,s=n[0],o=n[3];let i=n[1];e&&(i=n[2]);let{naturalWidth:r,naturalHeight:a}=i;const h=new y(i,0,0,r,a,r/14,a,0,0,r/14,a),l=new m(0,0,r/14,a);l.setBackgroundImage(h),({naturalWidth:r,naturalHeight:a}=o);const d=new y(o,0,0,r,a,r/14,a,0,0,r/14,a),c=new m(0,0,r/14,a);c.setBackgroundImage(d);const g=new st(10,10,2,s);return new et("Волшебная стрела",t,g,[l,c],this.assets.magicArrow.sound)}createImplosionArrow(t){if(!this.assets.implosion)return null;const e=this.assets.implosion.images,n=e[0],s=e[1];let{naturalWidth:o,naturalHeight:i}=s;const r=new y(s,0,0,o,i,o/19,i,0,0,o/19,i),a=new m(0,0,o/19,i);a.setBackgroundImage(r);const h=new st(10,10,2,n);return new nt("Взрыв",t,h,[a],this.assets.implosion.sound)}}class it extends m{constructor(t,e,n,s=null){const{naturalWidth:o,naturalHeight:i}=n;super(t,e,o,i,s),this.setBackgroundImage(new y(n,0,0,o,i,o,i,0,0,o,i))}}const rt=9,at=32,ht=37,lt=38,dt=39,ct=40;window.onload=(()=>{window.addEventListener("keydown",function(t){[rt,at,ht,lt,dt,ct].indexOf(t.keyCode)>-1&&t.preventDefault()},!1);new class{constructor(){this.initTextKeys(),this.loadManager=new k,this.storageManager=new K,this.canvas=new s,this.eventQueue=new o,this.ui=new r(this.canvas),this.uiComponents;const{width:t,height:e}=this.canvas.getSize();this.background=new m(0,0,t,e),this.init(),this.main=this.main.bind(this),this.main(0)}initTextKeys(){this.backgroundImgsKey="background",this.mainCharImgsKey="mainchar",this.headImgsKey="heads",this.bodyImgsKey="bodies",this.leftArmImgsKey="leftarms",this.rightArmImgsKey="rightarms",this.legImgsKey="legs",this.magicImgsKey="magics",this.uiImgsKey="ui",this.taskImgsKey="task",this.magicSoundKey="magics",this.statusBarKey="statusbar"}async init(){const t=await this.showLoadingScreen(),e=t.getLoadingProgressBar();this.initLoadingPath();const n=this.loadManager;await n.calculateTotalSize(),await n.load(t=>e.setValue(t)),this.canvas.removeScene(t),this.initBackgroundImage(n),this.setEventListenersToCanvas();const s=n.getImagesByName(this.headImgsKey),o=n.getImagesByName(this.bodyImgsKey),i=n.getImagesByName(this.leftArmImgsKey),r=n.getImagesByName(this.rightArmImgsKey),a=n.getImagesByName(this.legImgsKey);this.monsterFactory=new _(s,i,r,o,a),this.taskFactory=new Z(this.loadManager.getImagesByName(this.uiImgsKey),this.loadManager.getImagesByName(this.taskImgsKey)),this.magicFactory=new ot,this.magicFactory.addMagicAssets(n.getImagesByName(this.magicImgsKey).slice(0,4),n.getSoundByName(this.magicSoundKey)[0],"magicArrow"),this.magicFactory.addMagicAssets(n.getImagesByName(this.magicImgsKey).slice(4,6),n.getSoundByName(this.magicSoundKey)[1],"implosion"),this.canvas.getHtml().focus(),this.setUpUI()}initBackgroundImage(t){const e=t.getImagesByName(this.backgroundImgsKey)[0],{width:n,height:s}=this.background.getBoundingClientRect();this.background.setBackgroundImage(new y(e,0,0,e.naturalWidth,e.naturalHeight,n,s,0,0,e.naturalWidth,e.naturalHeight)),this.canvas.addScene(this.background)}setUpUI(t=""){const e=this.loadManager,{width:n,height:s}=this.canvas.getSize();this.uiComponents=new p(0,0,n,s);const o=e.getImagesByName(this.uiImgsKey).slice(5,8),r={back:o[0],left:o[1],right:o[2]},a=new B(s-150,0,n,150,r);a.setBackgroundColor("#00ff00");const h=e.getImagesByName(this.uiImgsKey)[8],l=new A(10,Math.ceil(n/2)-260-150,260,130,"",0,100,0,{back:h}),d=new A(10,Math.ceil(n/2)+150,260,130,"",0,100,0,{back:h});a.setPlayerInfoWindow(l),a.setEnemyInfoWindow(d),l.setBackgroundColor("#f4f142"),d.setBackgroundColor("#f4f142"),this.ui.add(this.uiComponents);const c=this.showNameEnter(t),g=()=>{const t=c.getInputUser();c.getOkButtonComponent().getBackgroundImage().setFrame(0),this.uiComponents.removeComponent(c),this.canvas.getHtml().style.cursor="auto",this.uiComponents.addComponent(a,this.statusBarKey),this.ui.changeSelectedElement(null),this.mainLogic(t)};c.addEventListener(i.KEYBOARD.KEY_PRESS,t=>{"Enter"===t.payload.key&&g()}),c.addButtonEventListener(i.MOUSE.MOUSE_UP,g),this.uiComponents.addComponent(c),this.canvas.addUI(this.ui),this.ui.changeSelectedElement(c.getInputUserComponent()),this.ui.updateTabTree(),c.getInputUserComponent().setCursorToEnd()}initLoadingPath(){const t=this.loadManager;return t.addUrl({image:[`${P.IMAGE.UI}/bardata.jpg`,`${P.IMAGE.UI}/textfield.jpg`,`${P.IMAGE.UI}/leather.jpg`,`${P.IMAGE.UI}/okbutton.jpg`,`${P.IMAGE.UI}/microbutton.jpg`,`${P.IMAGE.UI}/status.jpg`,`${P.IMAGE.UI}/statusleft.jpg`,`${P.IMAGE.UI}/statusright.jpg`,`${P.IMAGE.UI}/characterinfowindow.jpg`,`${P.IMAGE.UI}/spellsel.jpg`,`${P.IMAGE.UI}/table.jpg`,`${P.IMAGE.UI}/reloadbutton.jpg`]},{image:this.uiImgsKey}),t.addUrl({image:[`${P.IMAGE.BACKGROUND_IMAGES}/dungeon.jpg`]},{image:this.backgroundImgsKey}),t.addUrl({image:[`${P.IMAGE.MAIN_CHAR}/mainChar.png`]},{image:this.mainCharImgsKey}),t.addUrl({image:[`${P.IMAGE.HEAD_IMAGES}/head_1.png`,`${P.IMAGE.HEAD_IMAGES}/head_2.png`,`${P.IMAGE.HEAD_IMAGES}/head_3.png`,`${P.IMAGE.HEAD_IMAGES}/head_4.png`]},{image:this.headImgsKey}),t.addUrl({image:[`${P.IMAGE.BODY_IMAGES}/body_1.png`,`${P.IMAGE.BODY_IMAGES}/body_2.png`,`${P.IMAGE.BODY_IMAGES}/body_3.png`,`${P.IMAGE.BODY_IMAGES}/body_4.png`]},{image:this.bodyImgsKey}),t.addUrl({image:[`${P.IMAGE.LEFT_ARM_IMAGES}/arm_1.png`,`${P.IMAGE.LEFT_ARM_IMAGES}/arm_2.png`,`${P.IMAGE.LEFT_ARM_IMAGES}/arm_3.png`,`${P.IMAGE.LEFT_ARM_IMAGES}/arm_4.png`]},{image:this.leftArmImgsKey}),t.addUrl({image:[`${P.IMAGE.RIGHT_ARM_IMAGES}/arm_1.png`,`${P.IMAGE.RIGHT_ARM_IMAGES}/arm_2.png`,`${P.IMAGE.RIGHT_ARM_IMAGES}/arm_3.png`,`${P.IMAGE.RIGHT_ARM_IMAGES}/arm_4.png`]},{image:this.rightArmImgsKey}),t.addUrl({image:[`${P.IMAGE.LEG_IMAGES}/leg_1.png`,`${P.IMAGE.LEG_IMAGES}/leg_2.png`,`${P.IMAGE.LEG_IMAGES}/leg_3.png`,`${P.IMAGE.LEG_IMAGES}/leg_4.png`]},{image:this.legImgsKey}),t.addUrl({image:[`${P.IMAGE.MAGIC}/magicArrow/magicArrow.png`,`${P.IMAGE.MAGIC}/magicArrow/magicArrowMotionAnimation.png`,`${P.IMAGE.MAGIC}/magicArrow/magicArrowMotionAnimationReverse.png`,`${P.IMAGE.MAGIC}/magicArrow/magicArrowBlowAnimation.png`,`${P.IMAGE.MAGIC}/decay/decay.png`,`${P.IMAGE.MAGIC}/decay/decayBlow.png`],sound:[`${P.SOUND.MAGIC}/magicArrow/MAGICARW.mp3`,`${P.SOUND.MAGIC}/decay/DECAY.mp3`]},{image:this.magicImgsKey,sound:this.magicSoundKey}),t.addUrl({image:[...N.map(({image:t})=>t),...G.map(({flagImage:t})=>t)]},{image:this.taskImgsKey}),t}async mainLogic(t){const e=this.loadManager,n=this.taskFactory,s=this.magicFactory,o=this.uiComponents,{width:i,height:r}=this.canvas.getSize(),a=e.getImagesByName(this.uiImgsKey)[9],h=e.getImagesByName(this.mainCharImgsKey)[0],l=new it("1%","11%",h),{width:d,height:c}=l.getBoundingClientRect();l.setBoundingClientRect(Math.floor((r-150)/2-c/2),Math.floor(i/2-d-100),d,c);let g=null,u=-1;const m=new R(t,100,100,l);for(m.addMagic(s.createMagicArrow(40)),m.addMagic(s.createImplosionArrow(40)),this.setPlayer(m);m.isAlive();){null!==g&&g.isAlive()||(g=this.createMonster(s,i,r,5),u+=1);const t=new M(Math.ceil(r/2-55-75),Math.floor(i/2-214),428,132,m.getMagics(),{back:a});t.setBackgroundColor("#a0256b"),t.setOverflow("scroll"),o.addComponent(t),this.ui.updateTabTree(),this.ui.changeSelectedElement(t.getMagic(0).getGraphicComponent());const e=await t.selectMagic();if(null===e){console.log("magic selecting error");break}o.removeComponent(t);const h=n.createTask(Math.ceil(r/2)-172-50,Math.ceil((i-460)/2),460,344,o);h.setBackgroundColor("#ffff00"),o.addComponent(h),this.ui.updateTabTree(),this.ui.changeSelectedElement(h.getDefaultComponent());const l=await h.getResult();if(o.removeComponent(h),l&&await m.attack(g,e,this.canvas),g.isAlive()){const t=g.getMagics(),e=Math.round(Math.random()*(t.length-1));await g.attack(m,t[e],this.canvas)}}this.showResultTable(m,u)}createMonster(t,e,n,s){const o=this.monsterFactory.createMonster(e,n);return this.setEnemy(o),o.addMagic(t.createMagicArrow(s,!0)),o.addMagic(t.createImplosionArrow(s)),o}async showLoadingScreen(){const{width:t,height:e}=this.canvas.getSize(),n=new Image;n.src=`${P.IMAGE.UI}/bardata.jpg`,await T(n);const s=new E(0,0,t,e,n);return this.canvas.addScene(s),s}showNameEnter(t=""){const e=this.loadManager.getImagesByName(this.uiImgsKey)[1],{naturalWidth:n,naturalHeight:s}=e,o=this.loadManager.getImagesByName(this.uiImgsKey)[2],{naturalWidth:i,naturalHeight:r}=o,a=this.loadManager.getImagesByName(this.uiImgsKey)[3],{naturalWidth:h,naturalHeight:l}=a,{width:d,height:c}=this.canvas.getSize(),g=new x(0,0,i,r,"Введите свое имя:",this.uiComponents);g.setBackgroundColor("#3c76a7"),g.alignCenter(d,c),g.setBackgroundImage(new y(o,0,0,i,r,i,r,0,0,i,r));const m=g.getInputUserComponent();m.setBoundingClientRect(void 0,void 0,n,s),m.setBackgroundImage(new y(e,0,0,n,s,n,s,0,0,n,s));const p=Math.ceil(u("x","monospace",16));g.getInputUserComponent().maxTextLength=Math.floor(n/p)+1,g.getDescriptionComponent().setBackgroundColor("rgba(0, 0, 0, 0)"),g.getDescriptionComponent().setTextColor("#ffffff");const C=g.getOkButtonComponent();return C.setBoundingClientRect(r-19-l,i-19-h/2,h/2,l),C.setBackgroundImage(new y(a,0,0,h,l,h,l,0,0,h/2,l)),g.getInputUserComponent().setText(t),g}showResultTable(t,e){const n=this.loadManager.getImagesByName(this.uiImgsKey)[10],s=this.loadManager.getImagesByName(this.uiImgsKey)[11],{naturalWidth:o,naturalHeight:i}=n,r=new y(n,0,0,o,i,o,i,0,0,o,i),{naturalWidth:a,naturalHeight:h}=s,l=new y(s,0,0,a,h,a/2,h,0,0,a/2,h);this.storageManager.saveResult(t.getName(),e);const d=this.storageManager.getSortedRecords(),c=new b(0,0,o,i-25,d.length+1,2,Math.floor(o/2),25);this.uiComponents.addComponent(c),c.alignCenter(),c.setBackgroundImage(r),c.getBackgroundImage().setSize(o,i),this.fillTable(c,d),c.setOverflow("scroll");const{top:g,right:u}=c.getBoundingClientRect(),m=new f(g,u+5,a/2,h,"");return m.setBackgroundImage(l),m.tabable=!0,m.drawBorder=!0,c.tabable=!0,c.drawBorder=!0,this.initTableHandlers(c,m),this.uiComponents.addComponent(m,"restart"),this.ui.changeSelectedElement(c),this.ui.updateTabTree(),c}initTableHandlers(t,e){const n=()=>{this.ui.dropUI();const t=this.player.getName();this.setPlayer(null),this.setEnemy(null),this.canvas.getHtml().style.cursor="auto",this.canvas.resetUI(),this.setUpUI(t)},s=()=>{e.isSelected&&e.getBackgroundImage().setFrame(1)},o=()=>{e.removeEventListener(i.MOUSE.MOUSE_ENTER,s)};e.addEventListener(i.MOUSE.MOUSE_DOWN,()=>{e.getBackgroundImage().setFrame(1)}),e.addEventListener(i.MOUSE.MOUSE_DOWN,()=>{e.getBackgroundImage().setFrame(1),e.addEventListener(i.MOUSE.MOUSE_ENTER,s)}),this.uiComponents.addEventListener(i.MOUSE.MOUSE_UP,o),e.onremove=(()=>{this.uiComponents.removeEventListener(i.MOUSE.MOUSE_UP,o)}),e.addEventListener(i.MOUSE.MOUSE_LEAVE,()=>{e.isSelected&&e.getBackgroundImage().setFrame(0)}),e.addEventListener(i.MOUSE.MOUSE_UP,()=>{e.getBackgroundImage().setFrame(0),n()}),e.addEventListener(i.KEYBOARD.KEY_PRESS,t=>{"Enter"===t.payload.key&&n()}),t.addEventListener(i.KEYBOARD.KEY_PRESS,t=>{"Enter"===t.payload.key&&n()})}fillTable(t,e){const n=new w(0,0,Math.ceil(u("Имя:","monospace",16)),16,"Имя:"),s=new w(0,0,Math.ceil(u("Убито монстров:","monospace",16)),16,"Убито монстров:");n.setTextColor("#ffffff"),s.setTextColor("#ffffff"),s.setFontSize(14),t.getTableComponent(0,0).addComponent(n),n.alignCenter(),t.getTableComponent(0,1).addComponent(s),s.alignCenter(),e.forEach((e,n)=>{const{name:s,monsterKilled:o}=e;void 0===s&&(s="");const i=new w(0,0,Math.ceil(u(s,"monospace",16)),16,s),r=new w(0,0,Math.ceil(u(o,"monospace",16)),16,String(o));i.setTextColor("#ffffff"),r.setTextColor("#ffffff"),t.getTableComponent(1+n,0).addComponent(i),i.alignCenter(),t.getTableComponent(1+n,1).addComponent(r),r.alignCenter()})}setPlayer(t){if(this.player&&this.canvas.removeScene(this.player.getGraphicComponent()),this.player=t,null===t)return;const e=this.uiComponents.getChildComponent(this.statusBarKey);e.setPlayerInfo(`${t.getName()}:`,t.getCurrentHP());const n=t.getGraphicComponent();null!==n&&this.canvas.addScene(n);const s=e.getPlayerInfoWindow().getHealthBar();t.addHPChangeListener(s.setValue.bind(s))}setEnemy(t){if(this.enemy&&this.canvas.removeScene(this.enemy.getGraphicComponent()),null===t)return;this.enemy=t;const e=this.uiComponents.getChildComponent(this.statusBarKey);e.setEnemyInfo(`${t.getName()}:`,t.getCurrentHP());const n=t.getGraphicComponent();null!==n&&this.canvas.addScene(n);const s=e.getEnemyInfoWindow().getHealthBar();t.addHPChangeListener(s.setValue.bind(s))}setEventListenersToCanvas(){const t=this.canvas.getHtml();t.addEventListener("mouseup",e=>{this.eventQueue.add({type:i.MOUSE.MOUSE_UP,subtype:"MOUSE",canvas:t,payload:{mouseCoord:{top:e.offsetY,left:e.offsetX}}})}),t.addEventListener("mousedown",e=>{this.eventQueue.add({type:i.MOUSE.MOUSE_DOWN,subtype:"MOUSE",canvas:t,payload:{mouseCoord:{top:e.offsetY,left:e.offsetX}}})}),t.addEventListener("keydown",t=>{this.eventQueue.add({type:i.KEYBOARD.KEY_DOWN,subtype:"KEYBOARD",payload:{key:t.key}})}),t.addEventListener("keypress",t=>{this.eventQueue.add({type:i.KEYBOARD.KEY_PRESS,subtype:"KEYBOARD",payload:{key:t.key}})}),t.addEventListener("mousemove",e=>{this.eventQueue.add({type:i.MOUSE.MOUSE_MOVE,subtype:"MOUSE",canvas:t,payload:{mouseCoord:{top:e.offsetY,left:e.offsetX}}})}),t.addEventListener("blur",()=>{this.ui.changeSelectedElement(null)})}main(t){requestAnimationFrame(this.main),void 0!==t&&(void 0===this.prevTime&&(this.prevTime=t),this.update(),this.render(t-this.prevTime),this.prevTime=t)}update(){for(;this.eventQueue.hasNext();){const t=this.eventQueue.getNext();this.ui.handleEvent(t)}}render(t){this.canvas.draw(t)}}})}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NhbnZhcy9DYW52YXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V2ZW50L0V2ZW50UXVldWUvRXZlbnRRdWV1ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZXZlbnQvZXZlbnRzL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVUkvVUkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VJL0N1cnNvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQ29sbGlzaW9uL0NvbGxpc2lvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQW5pbWF0aW9uL0FuaW1hdGFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V2ZW50L0V2ZW50c0hhbmRsZXIvRXZlbnRzSGFuZGxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvdGV4dFdpZHRoLmpzIiwid2VicGFjazovLy8uL3NyYy9VSS9Db21wb25lbnQvQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9VSS9Db21wb25lbnQvTGFiZWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VJL0ltYWdlQ29tcG9uZW50L0ltYWdlQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9VSS9Nb2RhbFdpbmRvd3MvVGV4dElucHV0TW9kYWxXaW5kb3cvVGV4dElucHV0TW9kYWxXaW5kb3cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VJL01vZGFsV2luZG93cy9NYWdpY1NlbGVjdGluZ01vZGFsV2luZG93LmpzIiwid2VicGFjazovLy8uL3NyYy9VSS9Db21wb25lbnQvUHJvZ3Jlc3NCYXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VJL0xvYWRpbmdTY3JlZW4vTG9hZGluZ1NjcmVlbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVUkvQ29tcG9uZW50L1N0YXR1c0Jhci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVUkvQ29tcG9uZW50L0NoYXJhY3RlckluZm9XaW5kb3cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VJL0NvbXBvbmVudC9UYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvZmlsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvTWFuYWdlcnMvTG9hZE1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL01hbmFnZXJzL1N0b3JhZ2VNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9wYXRoL3BhdGguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dyYXBoaWNDb21wb25lbnQvTW9uc3RlckdyYXBoaWNDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0NoYXJhY3Rlci9DaGFyYWN0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0ZhY3Rvcmllcy9Nb25zdGVyRmFjdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGljdGlvbmFyaWVzL2NvdW50cnlNYXAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RpY3Rpb25hcmllcy9uYW1lVGFza01hcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVUkvTW9kYWxXaW5kb3dzL1Rhc2tNb2RhbFdpbmRvdy9UYXNrTW9kYWxXaW5kb3cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VJL01vZGFsV2luZG93cy9UYXNrTW9kYWxXaW5kb3cvU29sdmVFeHByZXNzaW9uVGFza1dpbmRvdy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZGljdGlvbmFyaWVzL2RpY3Rpb25hcnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VJL01vZGFsV2luZG93cy9UYXNrTW9kYWxXaW5kb3cvTGlzdGVuaW5nVGFza01vZGFsV2luZG93LmpzIiwid2VicGFjazovLy8uL3NyYy9VSS9Db21wb25lbnQvQ2hhcnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL2ltYWdlLmpzIiwid2VicGFjazovLy8uL3NyYy9VSS9Nb2RhbFdpbmRvd3MvVGFza01vZGFsV2luZG93L05hbWVUYXNrTW9kYWxXaW5kb3cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VJL01vZGFsV2luZG93cy9UYXNrTW9kYWxXaW5kb3cvQ2hvc2VSaWdodE9wZXJhdGlvblRhc2tNb2RhbFdpbmRvdy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVUkvTW9kYWxXaW5kb3dzL1Rhc2tNb2RhbFdpbmRvdy9OYW1lQ29sb3JUYXNrTW9kYWxXaW5kb3cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VJL01vZGFsV2luZG93cy9UYXNrTW9kYWxXaW5kb3cvQ2FsY3VsYXRlVHJpYW5nbGVBcmVhVGFza01vZGFsV2luZG93LmpzIiwid2VicGFjazovLy8uL3NyYy9VSS9Nb2RhbFdpbmRvd3MvVGFza01vZGFsV2luZG93L05hbWVDb3VudHJ5QnlGbGFnSW1hZ2VUYXNrTW9kYWxXaW5kb3cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0ZhY3Rvcmllcy9UYXNrRmFjdG9yeS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVUkvTW9kYWxXaW5kb3dzL1Rhc2tNb2RhbFdpbmRvdy9UcmFuc2xhdGVUYXNrTW9kYWxXaW5kb3cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VJL01vZGFsV2luZG93cy9UYXNrTW9kYWxXaW5kb3cvU2V0UG9pbnRBdENoYXJ0VGFza01vZGFsV2luZG93LmpzIiwid2VicGFjazovLy8uL3NyYy9VSS9Nb2RhbFdpbmRvd3MvVGFza01vZGFsV2luZG93L0NvbnZlcnRGcm9tRGVjVG9CaW5UYXNrTW9kYWxXaW5kb3cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VJL01vZGFsV2luZG93cy9UYXNrTW9kYWxXaW5kb3cvTnVtYmVyQ29tcG9zaXRpb25UYXNrTW9kYWxXaW5kb3cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VJL01vZGFsV2luZG93cy9UYXNrTW9kYWxXaW5kb3cvQ29tcGFyZVR3b051bWJlcnNUYXNrTW9kYWxXaW5kb3cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1VJL01vZGFsV2luZG93cy9UYXNrTW9kYWxXaW5kb3cvQ29udGludWVOdW1iZXJTZXF1ZW5jZVRhc2tNb2RhbFdpbmRvdy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVUkvTW9kYWxXaW5kb3dzL1Rhc2tNb2RhbFdpbmRvdy9Db3VudHJ5Q2FwaXRhbFRhc2tNb2RhbFdpbmRvdy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvVUkvTW9kYWxXaW5kb3dzL1Rhc2tNb2RhbFdpbmRvdy9JbnNlcnRNaXNzZWRMZXR0ZXJUYXNrTW9kYWxXaW5kb3cuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL01hZ2ljL01hZ2ljLmpzIiwid2VicGFjazovLy8uL3NyYy9NYWdpYy9NYWdpY0Fycm93LmpzIiwid2VicGFjazovLy8uL3NyYy9NYWdpYy9JbXBsb3Npb24uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0dyYXBoaWNDb21wb25lbnQvTWFnaWNHcmFwaGljQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9GYWN0b3JpZXMvTWFnaWNGYWN0b3J5LmpzIiwid2VicGFjazovLy8uL3NyYy9HcmFwaGljQ29tcG9uZW50L1BsYXllckdyYXBjaGljQ29tcG9uZW50LmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvR2FtZS9HYW1lLmpzIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucENhbGxiYWNrIiwiZGF0YSIsIm1vZHVsZUlkIiwiY2h1bmtJZCIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJleGVjdXRlTW9kdWxlcyIsImkiLCJyZXNvbHZlcyIsImxlbmd0aCIsImluc3RhbGxlZENodW5rcyIsInB1c2giLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJtb2R1bGVzIiwicGFyZW50SnNvbnBGdW5jdGlvbiIsInNoaWZ0IiwiZGVmZXJyZWRNb2R1bGVzIiwiYXBwbHkiLCJjaGVja0RlZmVycmVkTW9kdWxlcyIsInJlc3VsdCIsImRlZmVycmVkTW9kdWxlIiwiZnVsZmlsbGVkIiwiaiIsImRlcElkIiwic3BsaWNlIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInMiLCJpbnN0YWxsZWRNb2R1bGVzIiwiMCIsImV4cG9ydHMiLCJtb2R1bGUiLCJsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInAiLCJqc29ucEFycmF5Iiwid2luZG93Iiwib2xkSnNvbnBGdW5jdGlvbiIsInNsaWNlIiwiQ2FudmFzIiwiW29iamVjdCBPYmplY3RdIiwid2lkdGgiLCJoZWlnaHQiLCJ0aGlzIiwiaHRtbENvbXBvbmVudCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImNvbnRleHQiLCJnZXRDb250ZXh0IiwidW5kZWZpbmVkIiwic2V0U2l6ZSIsImJvZHkiLCJhcHBlbmRDaGlsZCIsInNjZW5lcyIsInVpcyIsInN0eWxlIiwiY2FudmFzIiwiY29sb3IiLCJmaWxsU3R5bGUiLCJmaWxsUmVjdCIsInNjZW5lIiwidWkiLCJpbmRleCIsImluZGV4T2YiLCJlbGFwc2VUaW1lIiwiY2xlYXIiLCJkcmF3IiwidWlDb21wb25lbnQiLCJ1aUNvbXBvbmVudHMiLCJFdmVudFF1ZXVlIiwicXVldWUiLCJxdWV1ZUluZGV4IiwiZXZlbnQiLCJoYXNOZXh0IiwiZXZlbnRzX2V2ZW50cyIsIk1PVVNFIiwiTU9VU0VfTU9WRSIsIk1PVVNFX0VOVEVSIiwiTU9VU0VfTEVBVkUiLCJNT1VTRV9ET1dOIiwiTU9VU0VfVVAiLCJLRVlCT0FSRCIsIktFWV9QUkVTUyIsIktFWV9ET1dOIiwiQU5JTUFUSU9OIiwiQU5JTUFUSU9OX0VORCIsIlVJX1VJIiwic2VsZWN0ZWQiLCJob3ZlcmVkIiwidGFiVHJlZSIsInRhYkluZGV4IiwidHJhdmVyc2UiLCJ0YWJhYmxlIiwiY3Vyc29yIiwiZWxlbWVudHMiLCJtb3N0RGVwdGgiLCJmb3JFYWNoIiwiZGVwdGgiLCJlbGVtZW50IiwiaGFuZGxlcnMiLCJoYW5kbGUiLCJ0eXBlIiwidGFyZ2V0IiwicmVsYXRlZFRhcmdldCIsInNldEhvdmVyZWQiLCJpc1NlbGVjdGVkIiwiY2hhbmdlU2VsZWN0ZWRFbGVtZW50IiwiY2hlY2tGb3JDb2xsaXNpb24iLCJwYXlsb2FkIiwibW91c2VDb29yZCIsImdldE1vc3REZWVwRWxlbWVudCIsInJlc2V0Q3Vyc29yVG9BcnJvdyIsImNoYW5nZUhvdmVyZWRFbGVtZW50Iiwic29ydCIsInBhcmVudCIsImdldFBhcmVudENvbXBvbmVudCIsImNhbmNlbEJ1YmJsZSIsInN1YnR5cGUiLCJoYW5kbGVNb3VzZUV2ZW50Iiwic2V0TmV4dFNlbGVjdGVkRWxlbWVudCIsImhhbmRsZUtleWJvYXJkRXZlbnQiLCJuZXh0IiwiY29tcG9uZW50IiwidXBkYXRlVGFiVHJlZSIsIkN1cnNvciIsInRvcCIsImxlZnQiLCJtZXRyaWMiLCJibGlua1RpbWUiLCJlbGFwc2VkVGltZSIsInNhdmUiLCJzdHJva2VTdHlsZSIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsIk1hdGgiLCJyb3VuZCIsInN0cm9rZSIsInJlc3RvcmUiLCJDb2xsaXNpb24iLCJmaXJzdE1ldHJpYyIsInNlY29uZE1ldHJpYyIsIkFuaW1hdGFibGVfQW5pbWF0YWJsZSIsImFuaW1hdGVkUHJvcGVydGllcyIsImxvZGFzaCIsInByb3BlcnRpZXMiLCJhbmltYXRpb25zIiwidGltZSIsInRpbWVDb3VudCIsImFuaW1hdGlvbkZ1bmMiLCJhbmltYXRpb25UaW1lc1Bhc3QiLCJob3ZlclByb3BlcnRpZXMiLCJhbmltYXRpb25OYW1lIiwiYW5pbWF0aW9uIiwicmVzZXRBbmltYXRlZFByb3BlcnRpZXMiLCJrZXlzIiwiaW5jcmVtZW50QW5pbWF0aW9uVGltZXNQYXN0IiwiRXZlbnRzSGFuZGxlcl9FdmVudHNIYW5kbGVyIiwiaGFuZGxlciIsImZpbmRJbmRleCIsInJlZ2lzdGVyZWRFdmVudCIsImdldFRleHRXaWR0aFdpdGhDYW52YXMiLCJ0ZXh0IiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwiZm9udCIsIm1lYXN1cmVUZXh0IiwiQ29tcG9uZW50X0NvbXBvbmVudCIsInBhcmVudENvbXBvbmVudCIsImRyYXdCb3JkZXIiLCJvdmVyZmxvdyIsImJhY2tncm91bmRDb2xvciIsImJvcmRlckNvbG9yIiwiYmFja2dyb3VuZEltYWdlIiwib25yZW1vdmUiLCJjb2xsaXNpb24iLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlSG92ZXIiLCJjb252ZXJ0RnJvbVBlcmNlbnRhZ2VUb1BpeGVsIiwic2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwic2Nyb2xsWE9mZnNldCIsInNjcm9sbFlPZmZzZXQiLCJhZGRDb21wb25lbnQiLCJpbml0aWFsQm91bmRpbmdDbGllbnRSZWN0IiwiYm91bmRpbmdDbGllbnRSZWN0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInBhcmVudFdpZHRoIiwicGFyZW50SGVpZ2h0IiwicmVnIiwiZmxvb3IiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ0ZXN0IiwicGFyc2VGbG9hdCIsImNhbGxiYWNrIiwicmVsYXRpdmVFbGVtZW50V2lkdGgiLCJyZWxhdGl2ZUVsZW1lbnRIZWlnaHQiLCJjZW50cmVkVG9wIiwiY2VudHJlZExlZnQiLCJpbWFnZSIsInN1bVBhdGgiLCJzdW0iLCJwcm9wIiwiU3RyaW5nIiwiZSIsInByZXZCb3VuZGluZ0JveCIsInByZXZUb3AiLCJwcmV2TGVmdCIsInByZXZXaWR0aCIsInByZXZIZWlnaHQiLCJyaWdodCIsImJvdHRvbSIsInRvdGFsSGVpZ2h0IiwiY2FsY3VsYXRlVG90YWxIZWlnaHRDb21wb25lbnQiLCJ0b3RhbFdpZHRoIiwiY2FsY3VsYXRlVG90YWxXaWR0aENvbXBvbmVudCIsInNjcm9sbFkiLCJDb21wb25lbnRfU2Nyb2xsQmFyIiwic2Nyb2xsWCIsInBhcmVudFRvcCIsInBhcmVudExlZnQiLCJhbmltYXRlIiwicGF0aCIsIlBhdGgyRCIsInJlY3QiLCJjbGlwIiwic3Ryb2tlUmVjdCIsInNldENvbnRleHRQcm9wZXJ0aWVzIiwicGFpbnRDb21wb25lbnQiLCJ0cmFuc2xhdGUiLCJkcmF3Q29tcG9uZW50IiwiY2hpbGRyZW4iLCJDb21wb25lbnRfQ29tcG9zaXRlQ29tcG9uZW50Iiwic3VwZXIiLCJzZXRQYXJlbnRDb21wb25lbnQiLCJjaGlsZENvbXBvbmVudCIsImNoaWxkIiwiZmluZCIsInNjcm9sbFlPZmZlciIsImdldEJhY2tncm91bmRJbWFnZSIsInNldFNjcm9sbFlPZmZlciIsInkiLCJzY3JvbGxYT2ZmZXIiLCJzZXRTY3JvbGxYT2ZmZXIiLCJ4IiwibWF4Q29tcG9uZW50IiwibWF4Iiwib2JqZWN0TWV0cmljIiwiZWxlbWVudEluc2lkZSIsImJpZ2dlc3REZXB0aCIsImFic29sdXRlVG9wIiwiYWJzb2x1dGVMZWZ0IiwiZ2V0QWJzb2x1dGVDb29yZCIsIm9Db29yZCIsInBhcmVudE92ZXJmbG93IiwiZ2V0T3ZlcmZsb3ciLCJpc0luc2lkZSIsIm9yaWVudGF0aW9uIiwiY2hpbGRXaWR0aCIsInByZXZCdXR0b25IYW5kbGVyIiwibmV4dEJ1dHRvbkhhbmRsZXIiLCJzZXRCYWNrZ3JvdW5kQ29sb3IiLCJwcmV2QnV0dG9uIiwibmV4dEJ1dHRvbiIsImNyZWF0ZVNjcm9sbEJ1dHRvbnMiLCJwYXJ0T2ZQYXJlbnQiLCJwYXJBbmRDaGlsZERpZiIsInNjcm9sbCIsImNyZWF0ZVNjcm9sbCIsImN1cnJlbnRDaGlsZFBvcyIsInBhcnQiLCJzY3JvbGxQb3NNYXgiLCJzY3JvbGxQb3MiLCJwcmV2QnV0dG9uVGV4dCIsImZyb21DaGFyQ29kZSIsInBhcnNlSW50IiwibmV4dEJ1dHRvblRleHQiLCJzY3JvbGxCYWNrZ3JvdW5kIiwic2Nyb2xsQmFja2dyb3VuZFdpZHRoIiwiZ2V0U2Nyb2xsQnV0dG9uc0NoYXIiLCJDb21wb25lbnRfQnV0dG9uIiwidGV4dFdpZHRoIiwibGFiZWwiLCJMYWJlbF9MYWJlbCIsInRleHRIZWlnaHQiLCJ0ZXh0Q29sb3IiLCJ0ZXh0UHJvcGVydGllcyIsInRleHRBbGlnbiIsInRleHRCYXNlbGluZSIsIm1heFRleHRMZW5ndGgiLCJlZGl0YWJsZSIsImhhbmRsZU1vdXNlRG93biIsImhhbmRsZUtleVByZXNzIiwiaGFuZGxlS2V5RG93biIsImxpbmVzTWV0cmljIiwidGV4dExpbmVzIiwiY3Vyc29yUG9zaXRpb24iLCJyb3ciLCJjb2x1bW4iLCJuZWVkZWRUb1JlY2FsY3VsYXRlIiwibmVlZGVkIiwidG9wT2Zmc2V0IiwibGVmdE9mZnNldCIsImdseXBoUG9zaXRpb24iLCJsaW5lIiwic3RhcnRPZkxpbmUiLCJzZXRQb3NpdGlvbiIsImdseXBoSW5mbyIsImNoZWNrQ29sbGlzaW9uV2l0aEdseXBocyIsImxpbmVJbmZvIiwiY2hlY2tDb2xsaXNpb25XaXRoTGluZXMiLCJpbnNlcnRHbHlwaCIsImRlbGV0ZUdseXBoIiwicHJldkxpbmVMZW5ndGgiLCJjdXJyZW50TGluZUxlbmd0aCIsIm5leHRMaW5lTGVuZ3RoIiwic3RyaW5nIiwibGluZVdpZHRoIiwiZ2x5cGhXaWR0aCIsInNwbGl0IiwiZ2x5cGgiLCJjYWxjdWxhdGVHbHlwaFBvc2l0aW9uIiwiY2FsY3VsYXRlTGluZXMiLCJjb252ZXJ0SW5kZXhUbzJEUG9zaXRpb24iLCJzZXRDdXJzb3JQb3NpdGlvbkZyb20yRCIsImZpbGxUZXh0IiwiSW1hZ2VDb21wb25lbnQiLCJkeCIsImR5IiwibmF0dXJhbFdpZHRoIiwibmF0dXJhbEhlaWdodCIsImRXaWR0aCIsImRIZWlnaHQiLCJzeCIsInN5Iiwic1dpZHRoIiwic0hlaWdodCIsIm9mZnNldFgiLCJvZmZzZXRZIiwicmVjYWxjdWxhdGVGcmFtZXMiLCJ4RnJhbWVzQ291bnQiLCJ5RnJhbWVzQ291bnQiLCJjdXJyZW50WEZyYW1lIiwiY3VycmVudFlGcmFtZSIsImZyYW1lIiwiZnJhbWVzQ291bnQiLCJnZXRGcmFtZXNDb3VudCIsImZyYW1lQ291bnQiLCJ4RnJhbWVDb3VudCIsImdldFhGcmFtZXNDb3VudCIsImNlaWwiLCJ3aWR0aE9mT25lTGluZSIsImdldFlGcmFtZXNDb3VudCIsIm5ld1dpZHRoIiwibGluZXNDb3VudCIsImRyYXdJbWFnZSIsIlRleHRJbnB1dE1vZGFsV2luZG93X1RleHRJbnB1dE1vZGFsV2luZG93IiwiZGVzY3JpcHRpb25UZXh0Iiwid2luZG93Q29tcG9uZW50IiwiaGFsZldpZHRoIiwiaGFsZkhlaWdodCIsImhhbGZEZXNjcmlwdGlvbldpZHRoIiwiaGFsZlVzZXJJbnB1dFdpZHRoIiwib25lR2x5cGhXaWR0aCIsImRlc2NyaXB0aW9uIiwidXNlcklucHV0IiwiZW50ZXJCdXR0b24iLCJzZXRUZXh0Q29sb3IiLCJzZXRDb2xvciIsImRlc2NyaXB0aW9uS2V5IiwidXNlcklucHV0S2V5IiwiYnV0dG9uS2V5IiwiaW5pdEV2ZW50cyIsIm1vdXNlRW50ZXJIYW5kbGVyIiwic2V0RnJhbWUiLCJtb3VzZVVwSGFuZGxlciIsImdldENoaWxkQ29tcG9uZW50IiwiTWFnaWNTZWxlY3RpbmdNb2RhbFdpbmRvd19NYWdpY1NlbGVjdGluZ01vZGFsV2luZG93IiwibWFnaWNzIiwiaW1hZ2VzIiwiYmFjayIsImJhY2tXaWR0aCIsImJhY2tIZWlnaHQiLCJiYWNrSW1hZ2VDb21wb25lbnQiLCJzZXRCYWNrZ3JvdW5kSW1hZ2UiLCJmaWxsV2l0aE1hZ2ljcyIsIm1hZ2ljIiwiZ3JhcGhpY0NvbXBvbmVudCIsImdldEdyYXBoaWNDb21wb25lbnQiLCJtYWdpY05hbWUiLCJnZXROYW1lIiwibWFnaWNOYW1lV2lkdGgiLCJtYWdpY1dpdGhOYW1lIiwibWFnaWNOYW1lTGFiZWwiLCJhbGlnbkNlbnRlciIsImV2ZW50Q2FsbGJhY2siLCJtYWdpY0dyYXBoaWNDb21wb25lbnQiLCJQcm9taXNlIiwicmVzb2x2ZSIsImFkZE1hZ2ljU2VsZWN0aW5nRXZlbnRMaXN0ZW5lciIsImZpbmRNYWdpY0J5R3JhcGhpY0NvbXBvbmVudCIsIlByb2dyZXNzQmFyX1Byb2dyZXNzQmFyIiwibWluVmFsdWUiLCJtYXhWYWx1ZSIsImluaXRpYWxWYWx1ZSIsImN1cnJlbnRWYWx1ZSIsIm9uZUluUGl4ZWwiLCJiYXJDb21wb25lbnQiLCJiYXJDb21wb25lbnRLZXkiLCJsYWJlbFRleHQiLCJsYWJlbENvbXBvbmVudEtleSIsImJhciIsInNldFRleHQiLCJoZWlnaHRMYWJlbCIsIkxvYWRpbmdTY3JlZW5fTG9hZGluZ1NjcmVlbiIsInByb2dyZXNzQmFyQmFja2dyb3VuZCIsInByb2dyZXNzQmFyQmFja2dyb3VuZFdpZHRoIiwicHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kSGVpZ2h0IiwicHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kQ29tcG9uZW50IiwibG9hZGluZ1Byb2dyZXNzQmFyQmFja2dyb3VuZENvbXBvbmVudCIsImxvYWRpbmdQcm9ncmVzc0JhciIsImdldFRleHRDb21wb25lbnQiLCJTdGF0dXNCYXJfU3RhdHVzQmFyIiwiZW5lbXlJbmZvV2luZG93S2V5IiwicGxheWVySW5mb1dpbmRvd0tleSIsInNldEJhY2tncm91bmQiLCJsZWZ0SW1nIiwicmlnaHRJbWciLCJiYWNrSW1nIiwibGVmdFdpZHRoIiwibGVmdEhlaWdodCIsInJpZ2h0V2lkdGgiLCJyaWdodEhlaWdodCIsImJhY2tJbWdDb21wb25lbnQiLCJsZWZ0SW1nQ29tcG9uZW50IiwicmlnaHRJbWdDb21wb25lbnQiLCJsZWZ0Q29tcG9uZW50IiwicmlnaHRDb21wb25lbnQiLCJlbmVteUluZm9XaW5kb3ciLCJlbmVteSIsInJlbW92ZUNvbXBvbmVudCIsInBsYXllckluZm9XaW5kb3ciLCJwbGF5ZXIiLCJoZWFsdGhCYXJLZXkiLCJzZXRWYWx1ZSIsIm5hbWVMYWJlbEtleSIsIm5hbWVXaWR0aCIsIkNoYXJhY3RlckluZm9XaW5kb3dfQ2hhcmFjdGVySW5mb1dpbmRvdyIsImNoYXJhY3Rlck5hbWUiLCJtaW5IUCIsIm1heEhQIiwiaW5pdGlhbEhQIiwibmFtZUxhYmVsIiwiaGVhbHRoQmFyIiwibGFiZWxIZWlnaHQiLCJpbWdXaWR0aCIsImltZ0hlaWdodCIsIlRhYmxlX1RhYmxlIiwicm93Q291bnQiLCJjb2x1bW5Db3VudCIsImNlbGxXaWR0aCIsImNlbGxIZWlnaHQiLCJhcnJvd0tleUhhbmRsZXIiLCJ0b3RhbFJvd3NIZWlnaHQiLCJ0b3RhbFJvd3NXaWR0aCIsImNlbGwiLCJnZXRGaWxlU2l6ZSIsInVybCIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJET05FIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJzZW5kIiwiZ2V0RmlsZUJsb2IiLCJvbnByb2dyZXNzIiwiaWRlbnRpZmllciIsInhtbEhUVFAiLCJyZXNwb25zZVR5cGUiLCJwcmV2VmFsdWUiLCJvbmxvYWQiLCJibG9iIiwiQmxvYiIsInJlc3BvbnNlIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwibG9hZGVkIiwiY3JlYXRlRmlsZVByb21pc2UiLCJmaWxlIiwic3JjRWxlbWVudCIsIkxvYWRNYW5hZ2VyX0xvYWRNYW5hZ2VyIiwidG90YWxTaXplIiwiY3VycmVudExvYWRlZFNpemUiLCJpbWFnZVVybCIsImxvYWRlZEltYWdlcyIsInNvdW5kVXJsIiwibG9hZGVkU291bmQiLCJ1cmxPYmplY3QiLCJuYW1lT2JqIiwic291bmRVcmxzIiwic291bmQiLCJpbWFnZVVybHMiLCJzb3VuZE5hbWUiLCJpbWFnZU5hbWUiLCJ1cGRhdGVBcnJheSIsImFycmF5Rm9yVXBkYXRpbmciLCJ1cGRhdGluZ0FycmF5IiwidXJsTmFtZSIsInVybHMiLCJwcm9taXNlQXJyIiwiaW1hZ2VDb3VudCIsImFzc2V0c1NpemUiLCJhbGwiLCJyZWR1Y2UiLCJwcmV2Iiwic2l6ZSIsImltYWdlc1NpemUiLCJzb3VuZFNpemUiLCJvbnByb2dyZXNzQ2FsbGJhY2siLCJsb2FkUHJvZ3Jlc3MiLCJwZXJjZW50IiwiaWQiLCJibG9icyIsImltZ1Byb21pc2UiLCJtYXAiLCJpbWciLCJJbWFnZSIsInNyYyIsInNvdW5kUHJvbWlzZSIsIkF1ZGlvIiwiYXNzZXRzUHJvbWlzZSIsImFzc2V0cyIsImdyb3VwZWQiLCJnZXRHcm91cGVkTG9hZGVkQXNzZXRzIiwib2Zmc2V0IiwiaW1hZ2VzTmFtZSIsIlN0b3JhZ2VNYW5hZ2VyIiwicmVjb3JkcyIsIm1heFJlY29yZHNOdW1iZXIiLCJsb2NhbFN0b3JhZ2UiLCJtYXRjaCIsInBhcnNlUmVjb3JkcyIsIm1vbnN0ZXJLaWxsZWQiLCJyZWNvcmQiLCJzZXRJdGVtIiwiZ2V0SXRlbSIsInJlY29yZE9iamVjdCIsIklNQUdFIiwiSEVBRF9JTUFHRVMiLCJCT0RZX0lNQUdFUyIsIkxFRlRfQVJNX0lNQUdFUyIsIlJJR0hUX0FSTV9JTUFHRVMiLCJMRUdfSU1BR0VTIiwiQkFDS0dST1VORF9JTUFHRVMiLCJNQUlOX0NIQVIiLCJNQUdJQyIsIlVJIiwiVEFTSyIsIk5BTUUiLCJOQU1FX0NPVU5UUllfQllfRkxBRyIsIlNPVU5EIiwiTW9uc3RlckdyYXBoaWNDb21wb25lbnRfTW9uc3RlckdyYXBoaWNDb21wb25lbnQiLCJoZWFkSW1hZ2UiLCJsZWZ0QXJtSW1hZ2UiLCJyaWdodEltYWdlIiwiYm9keUltYWdlIiwibGVnSW1hZ2UiLCJoZWFkTmF0dXJhbEhlaWdodCIsImJvZHlOYXR1cmFsV2lkdGgiLCJib2R5TmF0dXJhbEhlaWdodCIsImxlZnROYXR1cmFsV2lkdGgiLCJyaWdodE5hdHVyYWxXaWR0aCIsImxlZ05hdHVyYWxIZWlnaHQiLCJoZWFkQ29tcG9uZW50IiwiYm9keUNvbXBvbmVudCIsImxlZnRBcm1Db21wb25lbnQiLCJyaWdodEFybUNvbXBvbmVudCIsImxlZ0NvbXBvbmVudCIsImluaXRNb25zdGVyUGFydHMiLCJpbml0QW5pbWF0aW9uVG9IZWFkIiwiaGVhZE5hdHVyYWxXaWR0aCIsImxlZnROYXR1cmFsSGVpZ2h0IiwicmlnaHROYXR1cmFsSGVpZ2h0IiwibGVnTmF0dXJhbFdpZHRoIiwiaGFsZlBhdGhMZW5ndGgiLCJmdWxsUGF0aExlbmd0aCIsImRvd25TcGVlZCIsInRvSW5pdGlhbFBvc1NwZWVkIiwic2V0QW5pbWF0aW9uIiwiaW5pdGlhbFByb3BlcnRpZXMiLCJzcGVlZCIsIkNoYXJhY3RlciIsImN1cnJlbnRIUCIsImhwQ2hhbmdlTGlzdGVuZXJzIiwiY2hhcmFjdGVyIiwiYXR0YWNrIiwidGFrZUF0dGFjayIsImRhbWFnZSIsImxpc3RlbmVyIiwiYWRqZWN0aXZlcyIsInJhY2VzIiwibmFtZXMiLCJNb25zdGVyRmFjdG9yeV9Nb25zdGVyRmFjdG9yeSIsImhlYWRJbWdzIiwibGVmdEFybUltZ3MiLCJyaWdodEFybUltZ3MiLCJib2R5SW1ncyIsImxlZ0ltZ3MiLCJjYW52YXNXaWR0aCIsImNhbnZhc0hlaWdodCIsInJhbmQiLCJyYW5kb20iLCJoZWFkSW5kZXgiLCJsZWZ0QXJtSW5kZXgiLCJyaWdodEFybUluZGV4IiwiYm9keUluZGV4IiwibGVnSW5kZXgiLCJtb25zdGVyR3JhcGhpYyIsIm1vbnN0ZXJXaWR0aCIsIm1vbnN0ZXJIZWlnaHQiLCJmaXJzdE5hbWUiLCJzZWNvbmROYW1lIiwidGhpcmROYW1lIiwiZGljdGlvbmFyaWVzX2NvdW50cnlNYXAiLCJjb3VudHJ5IiwiY2FwaXRhbCIsImZsYWdJbWFnZSIsImRpY3Rpb25hcmllc19uYW1lVGFza01hcCIsIlRhc2tNb2RhbFdpbmRvd19UYXNrTW9kYWxXaW5kb3ciLCJhZGRpdGlvbmFsUmVzb3VyY2VzIiwidGFza0Rlc2NyaXB0aW9uIiwibW9kYWxXaW5kb3dJbWFnZSIsIm1vZGFsV2lkdGgiLCJtb2RhbEhlaWdodCIsIm9rQnV0dG9uSW1hZ2UiLCJva0J1dHRvbldpZHRoIiwib2tCdXR0b25IZWlnaHQiLCJnZXRPa0J1dHRvbkNvbXBvbmVudCIsImFkZEJ1dHRvbkV2ZW50TGlzdGVuZXIiLCJhbnN3ZXJJc1JpZ2h0Iiwib3BlcmF0aW9ucyIsImNoYXJQcmVzZW50YXRpb24iLCJwZXJmb3JtIiwiZmlyc3QiLCJzZWNvbmQiLCJkaWN0aW9uYXJpZXNfZGljdGlvbmFyeSIsIndvcmQiLCJTcGVlY2hSZWNvZ25pdGlvbiIsIndlYmtpdFNwZWVjaFJlY29nbml0aW9uIiwiQ2hhcnRfQ2hhcnQiLCJjZWxsQ291bnQiLCJvcmlnaW5Db29yZCIsInhBeGlzQ29vcmQiLCJwYWRkaW5nIiwieUF4aXNDb29yZCIsImxhc3RDZWxsWEF4aXNDb29yZCIsImxhc3RDZWxsWUF4aXNDb29yZCIsInhBeGlzQXJyb3ciLCJsZWZ0UG9pbnQiLCJyaWdodFBvaW50IiwieUF4aXNBcnJvdyIsInhBeGlzV2lkdGgiLCJ5QXhpc1dpZHRoIiwib25lQ2VsbFgiLCJvbmVDZWxsWSIsInBvaW50Iiwib25jaGFydGNoYW5nZSIsImhhbmRsZUNsaWNrIiwibW91c2VUb3AiLCJtb3VzZUxlZnQiLCJyZWxhdGl2ZU1vdXNlVG9wIiwicmVsYXRpdmVNb3VzZUxlZnQiLCJzZXRQb2ludCIsIm9yaWdpblgiLCJvcmlnaW5ZIiwibGFzdFRlbkNlbGxZIiwibGFzdFRlbkNlbGxYIiwiYXJjIiwicG9pbnRDb29yZCIsIlBJIiwicGFpbnRDaGFydEF4aXNlcyIsInBhaW50Q2hhcnRHcmlkIiwicGFpbnRQb2ludCIsImNhbGN1bGF0ZUltYWdlU2l6ZSIsInRhc2tJbWFnZVdpZHRoIiwidGFza0ltYWdlSGVpZ2h0IiwibWF4VGFza0ltYWdlV2lkdGgiLCJtYXhUYXNrSW1hZ2VIZWlnaHQiLCJyYXRpb24iLCJ0YXNrSW1hZ2VXaWR0aFByb3AiLCJ0YXNrSW1hZ2VIZWlnaHRQcm9wIiwiTmFtZVRhc2tNb2RhbFdpbmRvd19OYW1lVGFza01vZGFsV2luZG93IiwidGV4dEZpZWxkSW1hZ2UiLCJ0ZXh0RmllbGRXaWR0aCIsInRleHRGaWVsZEhlaWdodCIsInRhc2tJbWFnZSIsIm5hbWVJbWFnZSIsImhhbGZUZXh0RmllbGRIZWlnaHQiLCJhbnN3ZXJJbnB1dCIsImFuc3dlcktleSIsIm9rQnV0dG9uVG9wIiwiZGVzY3JpcHRpb25Cb3R0b20iLCJkZXNjcmlwdGlvbkxlZnQiLCJnZXRUYXNrRGVzY3JpcHRpb25Db21wb25lbnQiLCJ0YXNrSW1hZ2VLZXkiLCJ0YXNrSW1hZ2VDb21wb25lbnQiLCJpbWFnZU5hbWVzIiwiYWRkaXRpb25hbCIsInRhc2tOYW1lcyIsImFuc3dlciIsImdldFRleHQiLCJ0cmltIiwidG9Mb3dlckNhc2UiLCJjb25jbHVzaW9uIiwiQ2hvc2VSaWdodE9wZXJhdGlvblRhc2tNb2RhbFdpbmRvd19vcGVyYXRpb25zIiwiY29sb3JzTmFtZSIsInRyaWFuZ2xlVGFza3MiLCJmaXJ0c0NhdGhldHVzIiwic2Vjb25kQ2F0aGV0dXMiLCJnZXRUYXNrVGV4dCIsInRyaWFuZ2xlQmFzZSIsInRyaWFuZ2xlSGVpZ2h0IiwiTmFtZUNvdW50cnlCeUZsYWdJbWFnZVRhc2tNb2RhbFdpbmRvd19OYW1lQ291bnRyeUJ5RmxhZ0ltYWdlVGFza01vZGFsV2luZG93IiwibmFtZUNvdW50cnlCeUZsYWdJbWFnZSIsIm5hbWVDb3VudHJ5QnlGbGFnIiwidGFza3MiLCJ3b3JkT2JqIiwiaGFsZkV4cHJlc3Npb25XaWR0aCIsImV4cHJlc3Npb24iLCJleHByZXNzaW9uS2V5Iiwib3BlcmF0aW9uIiwiZmlyc3RPcGVyYW5kIiwic2Vjb25kT3BlcmFuZCIsImdldE9wZXJhbmRzIiwidGFza1JpZ2h0QW5zd2VyIiwiaGFsZkFuc3dlcldpZHRoIiwiaGFsZkV4cHJlc3Npb25XaXRoQW5zd2VyIiwibGltaXQiLCJvbkNoYXJ0Q2hhbmdlIiwib25JbnB1dENoYW5nZSIsInRhc2tEZXNjcmlwdGlvbkJvdW5kaW5nQm94Iiwib2tCdXR0b25Cb3VuZGluZ0JveCIsImNoYXJ0Qm91bmRpbmdDbGllbnRCb3giLCJjaGFydEtleSIsImNoYXJ0Q29tcG9uZW50IiwiaW5pdExhYmVscyIsImdldFhJbnB1dCIsInhJbnB1dCIsInlJbnB1dCIsImdldFlJbnB1dCIsInhJbnB1dE51bWJlciIsInlJbnB1dE51bWJlciIsImNoYXJ0IiwiZ2V0Q2hhcnRDb21wb25lbnQiLCJ4TGFiZWxJbnB1dEtleSIsInlMYWJlbElucHV0S2V5IiwieExhYmVsS2V5IiwieUxhYmVsS2V5IiwiY29vcmRMYWJlbFdpZHRoIiwieExhYmVsIiwieExhYmVsSW5wdXQiLCJ5TGFiZWwiLCJ5TGFiZWxJbnB1dCIsImdldFBvaW50IiwibnVtYmVyVG9Db252ZXJ0IiwidG9TdHJpbmciLCJpbml0VGFzayIsInJlc3VsdE51bWJlciIsImNvbXBvc2l0ZU51bWJlciIsIm51bWJlciIsImNyZWF0ZVNlcXVlbmNlVGV4dCIsIm1heERpZiIsImRpZiIsImZvdXJ0aE51bWJlciIsInRoaXJkTnVtYmVyIiwic2Vjb25kTnVtYmVyIiwiYW5zd2VyTnVtYmVyIiwib3BlcmF0aW9uQ2hhclByZXNlbnRhdGlvbiIsImNvbG9yTmFtZSIsInRhc2tDb2xvcktleSIsInRhc2tDb2xvckNvbXBvbmVudCIsInRhc2siLCJleHByZXNzaW9uV2lkdGgiLCJleHByZXNzaW9uSGVpZ2h0IiwibWljcm9CdXR0b25JbWFnZSIsIm1pY3JvQnV0dG9uV2lkdGgiLCJtaWNyb0J1dHRvbkhlaWdodCIsIm1pY3JvQnV0dG9uIiwibWljcm9CdXR0b25LZXkiLCJpbml0U3BlZWNoUmVjb2duaXRpb24iLCJzZXRTcGVlY2hFdmVudEhhbmRsZXIiLCJyZWNvZ25pdGlvbiIsImxhbmciLCJpbnRlcmltUmVzdWx0cyIsIm1heEFsdGVybmF0aXZlcyIsImlzV29ya2luZyIsIm1pY3JvSGFuZGxlciIsInN0b3AiLCJzdGFydCIsIm9ucmVzdWx0IiwicmVzdWx0cyIsInRyYW5zY3JpcHQiLCJvbnNwZWVjaGVuZCIsIm9uZXJyb3IiLCJjb25zb2xlIiwibG9nIiwiZXJyb3IiLCJ3b3JkSW5kZXgiLCJyZXBsYWNlIiwiVGFza0ZhY3RvcnlfVGFza0ZhY3RvcnkiLCJ1aUltYWdlcyIsInRhc2tJbWFnZXMiLCJuYW1lVGFza0ltYWdlcyIsIm5hbWVDb3VudHJ5QnlGbGFnVGFza0ltYWdlcyIsInRhc2tDb25zdHJ1Y3RvciIsInRvTG9jYWxlTG93ZXJDYXNlIiwiTWFnaWMiLCJNYWdpY0Fycm93X01hZ2ljQXJyb3ciLCJhdHRhY2tBbmltYXRpb25zIiwibW92ZUluZGV4IiwiZXhwbG9zaW9uSW5kZXgiLCJlbmVteUxlZnQiLCJjaGFyYWN0ZXJXaWR0aCIsImNoYXJhY3RlckxlZnQiLCJtb3ZlQW5pbWF0aW9uIiwicmVtb3ZlU2NlbmUiLCJleHBsb3Npb25BbmltYXRpb24iLCJlbmVteVRvcCIsImVuZW15SGVpZ2h0IiwiYWRkU2NlbmUiLCJwbGF5IiwiYXJyb3dNb3ZlIiwiZXhwbG9kZSIsIkltcGxvc2lvbl9JbXBsb3Npb24iLCJpbXBsb3Npb25JbmRleCIsImVuZW15V2lkdGgiLCJpbXBsb3Npb25BbmltYXRpb24iLCJNYWdpY0dyYXBoaWNDb21wb25lbnRfTWFnaWNHcmFwaGljQ29tcG9uZW50Iiwic2NhbGUiLCJtYWdpY0ltZyIsInNjYWxlZFdpZHRoIiwic2NhbGVkSGVpZ2h0IiwiTWFnaWNGYWN0b3J5X01hZ2ljRmFjdG9yeSIsImZvckVuZW15IiwibWFnaWNBcnJvdyIsImljb25JbWFnZSIsImJsb3dBbmltYXRpb25JbWciLCJtb3ZpbmdBbmltYXRpb25JbWciLCJtYWdpY01vdmluZ0FuaW1hdGlvbiIsIm1vdmluZ0FuaW1hdGlvbiIsIm1hZ2ljQmxvd0FuaW1hdGlvbiIsImdyYXBoaWNDb21wb25lbnRJblNlbGVjdGluZ1dpbmRvdyIsImltcGxvc2lvbiIsIlBsYXllckdyYXBjaGljQ29tcG9uZW50X01vbnN0ZXJHcmFwaGljQ29tcG9uZW50IiwiY2hhcmFjdGVySW1nIiwidGFiIiwic3BhY2UiLCJsZWZ0QXJyb3ciLCJ1cEFycm93IiwicmlnaHRBcnJvdyIsImRvd25BcnJvdyIsImtleUNvZGUiLCJwcmV2ZW50RGVmYXVsdCIsImluaXRUZXh0S2V5cyIsImxvYWRNYW5hZ2VyIiwic3RvcmFnZU1hbmFnZXIiLCJldmVudFF1ZXVlIiwiZ2V0U2l6ZSIsImJhY2tncm91bmQiLCJpbml0IiwibWFpbiIsImJhY2tncm91bmRJbWdzS2V5IiwibWFpbkNoYXJJbWdzS2V5IiwiaGVhZEltZ3NLZXkiLCJib2R5SW1nc0tleSIsImxlZnRBcm1JbWdzS2V5IiwicmlnaHRBcm1JbWdzS2V5IiwibGVnSW1nc0tleSIsIm1hZ2ljSW1nc0tleSIsInVpSW1nc0tleSIsInRhc2tJbWdzS2V5IiwibWFnaWNTb3VuZEtleSIsInN0YXR1c0JhcktleSIsImxvYWRpbmdTY3JlZW4iLCJzaG93TG9hZGluZ1NjcmVlbiIsImdldExvYWRpbmdQcm9ncmVzc0JhciIsImluaXRMb2FkaW5nUGF0aCIsImNhbGN1bGF0ZVRvdGFsU2l6ZSIsImxvYWQiLCJsb2FkZWRQZXJjZW50YWdlIiwiaW5pdEJhY2tncm91bmRJbWFnZSIsInNldEV2ZW50TGlzdGVuZXJzVG9DYW52YXMiLCJoZWFkcyIsImdldEltYWdlc0J5TmFtZSIsImJvZGllcyIsImxlZnRBcm1zIiwicmlnaHRBcm1zIiwibGVncyIsIm1vbnN0ZXJGYWN0b3J5IiwidGFza0ZhY3RvcnkiLCJtYWdpY0ZhY3RvcnkiLCJhZGRNYWdpY0Fzc2V0cyIsImdldFNvdW5kQnlOYW1lIiwiZ2V0SHRtbCIsImZvY3VzIiwic2V0VXBVSSIsInN0YXR1c0JhckltZyIsInN0YXR1c0JhckltZ09iZyIsInN0YXR1c0JhciIsImluZm9XaW5kb3dJbWFnZSIsIm1vbnN0ZXJJbmZvV2luZG93Iiwic2V0UGxheWVySW5mb1dpbmRvdyIsInNldEVuZW15SW5mb1dpbmRvdyIsImFkZCIsImVudGVyTmFtZVdpbmRvdyIsInNob3dOYW1lRW50ZXIiLCJva0NhbGxCYWNrIiwiZ2V0SW5wdXRVc2VyIiwibWFpbkxvZ2ljIiwiYWRkVUkiLCJnZXRJbnB1dFVzZXJDb21wb25lbnQiLCJzZXRDdXJzb3JUb0VuZCIsImFkZFVybCIsInNwZWxsU2VsSW1nIiwibWFpbkNoYXIiLCJtYWluQ2hhckdyYXBoaWMiLCJwbGF5ZXJXaWR0aCIsInBsYXllckhlaWdodCIsIm1vbnN0ZXIiLCJtb25zdGVyS2lsbGVkQ291bnQiLCJhZGRNYWdpYyIsImNyZWF0ZU1hZ2ljQXJyb3ciLCJjcmVhdGVJbXBsb3Npb25BcnJvdyIsInNldFBsYXllciIsImlzQWxpdmUiLCJjcmVhdGVNb25zdGVyIiwibWFnaWNTZWxlY3RpbmciLCJnZXRNYWdpY3MiLCJzZXRPdmVyZmxvdyIsImdldE1hZ2ljIiwic2VsZWN0TWFnaWMiLCJ0YXNrV2luZG93IiwiY3JlYXRlVGFzayIsImdldERlZmF1bHRDb21wb25lbnQiLCJhbnN3ZXJPdXRjb21lIiwiZ2V0UmVzdWx0Iiwic2hvd1Jlc3VsdFRhYmxlIiwic2V0RW5lbXkiLCJpbnB1dFVzZXJDb21wb25lbnQiLCJnZXREZXNjcmlwdGlvbkNvbXBvbmVudCIsIm9rQnV0dG9uIiwia2lsbGVkTW9uc3RlciIsInRhYmxlSW1nIiwicmVsb2FkQnV0dG9uSW1nIiwidGFibGVJbWFnZVdpZHRoIiwidGFibGVJbWFnZUhlaWdodCIsInRhYmxlSW1hZ2VDb21wb25lbnQiLCJyZWxvYWRCdXR0b25XaWR0aCIsInJlbG9hZEJ1dHRvbkhlaWdodCIsInJlbG9hZEJ1dHRvbkltYWdlQ29tcG9uZW50Iiwic2F2ZVJlc3VsdCIsImdldFNvcnRlZFJlY29yZHMiLCJyZWNvcmRUYWJsZSIsImZpbGxUYWJsZSIsInRvcFRhYmxlIiwicmlnaHRUYWJsZSIsInJlc3RhcnRCdXR0b24iLCJpbml0VGFibGVIYW5kbGVycyIsIm9rQ2FsbGJhY2siLCJkcm9wVUkiLCJyZXNldFVJIiwiZmlyc3RDb2x1bW5OYW1lIiwic2Vjb25kQ29sdW1uTmFtZSIsInNldEZvbnRTaXplIiwiZ2V0VGFibGVDb21wb25lbnQiLCJtb25zdGVyS2lsbGVkTGFiZWwiLCJzZXRQbGF5ZXJJbmZvIiwiZ2V0Q3VycmVudEhQIiwicGxheWVyR3JhcGhpY0NvbXBvbmVudCIsImdldFBsYXllckluZm9XaW5kb3ciLCJnZXRIZWFsdGhCYXIiLCJhZGRIUENoYW5nZUxpc3RlbmVyIiwic2V0RW5lbXlJbmZvIiwiZW5lbXlHcmFwaGljQ29tcG9uZW50IiwiZ2V0RW5lbXlJbmZvV2luZG93IiwiY2FudmFzSHRtbCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInByZXZUaW1lIiwidXBkYXRlIiwicmVuZGVyIiwiZ2V0TmV4dCIsImhhbmRsZUV2ZW50IiwidGltZVN0YW1wIl0s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RixJQUFBaUwsRUFBQWpMLFNBS0FnOEIsRUFBQTV5QixpQkFBQSxXQUFBNkIsSUFDQW5LLEtBQUEyekIsV0FBQStDLEtBQ0EveUIsS0FBc0IzQixFQUFNTyxTQUFBQyxVQUM1Qm1DLFFBQUEsV0FDQVQsU0FDQWhGLElBQUFpTCxFQUFBakwsU0FLQWc4QixFQUFBNXlCLGlCQUFBLFlBQUE2QixJQUNBbkssS0FBQTJ6QixXQUFBK0MsS0FDQS95QixLQUFzQjNCLEVBQU1DLE1BQUFDLFdBQzVCeUMsUUFBQSxRQUNBN0QsT0FBQW82QixFQUNBaDNCLFNBQ0FDLFlBQ0FnQixJQUFBZ0YsRUFBQXNJLFFBQ0FyTixLQUFBK0UsRUFBQXFJLGNBTUEwb0IsRUFBQTV5QixpQkFBQSxZQUNBdEksS0FBQW1CLEdBQUE2QyxzQkFBQSxRQUlBbkUsS0FBQTRHLEdBQ0EwMEIsc0JBQUFuN0IsS0FBQSt6QixXQUVBeHpCLElBQUFrRyxTQUNBbEcsSUFBQVAsS0FBQW83QixXQUNBcDdCLEtBQUFvN0IsU0FBQTMwQixHQUdBekcsS0FBQXE3QixTQUVBcjdCLEtBQUFzN0IsT0FBQTcwQixFQUFBekcsS0FBQW83QixVQUVBcDdCLEtBQUFvN0IsU0FBQTMwQixHQUlBNUcsU0FDQSxLQUFBRyxLQUFBMnpCLFdBQUE1eEIsV0FBQSxDQUNBLE1BQUFELEVBQUE5QixLQUFBMnpCLFdBQUE0SCxVQUVBdjdCLEtBQUFtQixHQUFBcTZCLFlBQUExNUIsSUFJQWpDLE9BQUE0N0IsR0FDQXo3QixLQUFBYyxPQUFBVSxLQUFBaTZCIiwiZmlsZSI6Im1haW4uMWE4NmVkMmQ5NmZmYzIyNjQ0NWYuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbiBcdGZ1bmN0aW9uIHdlYnBhY2tKc29ucENhbGxiYWNrKGRhdGEpIHtcbiBcdFx0dmFyIGNodW5rSWRzID0gZGF0YVswXTtcbiBcdFx0dmFyIG1vcmVNb2R1bGVzID0gZGF0YVsxXTtcbiBcdFx0dmFyIGV4ZWN1dGVNb2R1bGVzID0gZGF0YVsyXTtcblxuIFx0XHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcbiBcdFx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG4gXHRcdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDAsIHJlc29sdmVzID0gW107XG4gXHRcdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuIFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuIFx0XHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuIFx0XHRcdH1cbiBcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuIFx0XHR9XG4gXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYocGFyZW50SnNvbnBGdW5jdGlvbikgcGFyZW50SnNvbnBGdW5jdGlvbihkYXRhKTtcblxuIFx0XHR3aGlsZShyZXNvbHZlcy5sZW5ndGgpIHtcbiBcdFx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG4gXHRcdH1cblxuIFx0XHQvLyBhZGQgZW50cnkgbW9kdWxlcyBmcm9tIGxvYWRlZCBjaHVuayB0byBkZWZlcnJlZCBsaXN0XG4gXHRcdGRlZmVycmVkTW9kdWxlcy5wdXNoLmFwcGx5KGRlZmVycmVkTW9kdWxlcywgZXhlY3V0ZU1vZHVsZXMgfHwgW10pO1xuXG4gXHRcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gYWxsIGNodW5rcyByZWFkeVxuIFx0XHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiBcdH07XG4gXHRmdW5jdGlvbiBjaGVja0RlZmVycmVkTW9kdWxlcygpIHtcbiBcdFx0dmFyIHJlc3VsdDtcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlZmVycmVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBkZWZlcnJlZE1vZHVsZSA9IGRlZmVycmVkTW9kdWxlc1tpXTtcbiBcdFx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcbiBcdFx0XHRmb3IodmFyIGogPSAxOyBqIDwgZGVmZXJyZWRNb2R1bGUubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdHZhciBkZXBJZCA9IGRlZmVycmVkTW9kdWxlW2pdO1xuIFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2RlcElkXSAhPT0gMCkgZnVsZmlsbGVkID0gZmFsc2U7XG4gXHRcdFx0fVxuIFx0XHRcdGlmKGZ1bGZpbGxlZCkge1xuIFx0XHRcdFx0ZGVmZXJyZWRNb2R1bGVzLnNwbGljZShpLS0sIDEpO1xuIFx0XHRcdFx0cmVzdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBkZWZlcnJlZE1vZHVsZVswXSk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdHJldHVybiByZXN1bHQ7XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4gXHQvLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbiBcdC8vIFByb21pc2UgPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG4gXHR2YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuIFx0XHQwOiAwXG4gXHR9O1xuXG4gXHR2YXIgZGVmZXJyZWRNb2R1bGVzID0gW107XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdHZhciBqc29ucEFycmF5ID0gd2luZG93W1wid2VicGFja0pzb25wXCJdID0gd2luZG93W1wid2VicGFja0pzb25wXCJdIHx8IFtdO1xuIFx0dmFyIG9sZEpzb25wRnVuY3Rpb24gPSBqc29ucEFycmF5LnB1c2guYmluZChqc29ucEFycmF5KTtcbiBcdGpzb25wQXJyYXkucHVzaCA9IHdlYnBhY2tKc29ucENhbGxiYWNrO1xuIFx0anNvbnBBcnJheSA9IGpzb25wQXJyYXkuc2xpY2UoKTtcbiBcdGZvcih2YXIgaSA9IDA7IGkgPCBqc29ucEFycmF5Lmxlbmd0aDsgaSsrKSB3ZWJwYWNrSnNvbnBDYWxsYmFjayhqc29ucEFycmF5W2ldKTtcbiBcdHZhciBwYXJlbnRKc29ucEZ1bmN0aW9uID0gb2xkSnNvbnBGdW5jdGlvbjtcblxuXG4gXHQvLyBhZGQgZW50cnkgbW9kdWxlIHRvIGRlZmVycmVkIGxpc3RcbiBcdGRlZmVycmVkTW9kdWxlcy5wdXNoKFszLDFdKTtcbiBcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gcmVhZHlcbiBcdHJldHVybiBjaGVja0RlZmVycmVkTW9kdWxlcygpO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FudmFzIHtcclxuICAgIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICB0aGlzLmh0bWxDb21wb25lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICB0aGlzLmh0bWxDb21wb25lbnQuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsIDApO1xyXG5cclxuICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLmh0bWxDb21wb25lbnQuZ2V0Q29udGV4dCgnMmQnKTtcclxuXHJcbiAgICAgICAgaWYgKHdpZHRoID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgd2lkdGggPSAxMzY2O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGhlaWdodCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGhlaWdodCA9IDYzNTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLmh0bWxDb21wb25lbnQpO1xyXG5cclxuICAgICAgICB0aGlzLnNjZW5lcyA9IFtdO1xyXG4gICAgICAgIHRoaXMudWlzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SHRtbCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5odG1sQ29tcG9uZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGdldENvbnRleHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRTaXplKHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcblxyXG4gICAgICAgIHRoaXMuaHRtbENvbXBvbmVudC5zdHlsZS53aWR0aCA9IGAke3dpZHRofXB4YDtcclxuICAgICAgICB0aGlzLmh0bWxDb21wb25lbnQuc3R5bGUuaGVpZ2h0ID0gYCR7aGVpZ2h0fXB4YDtcclxuXHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmNhbnZhcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5oZWlnaHRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyKGNvbG9yID0gJyMwMDAwMDAnKSB7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yO1xyXG4gICAgICAgIHRoaXMuY29udGV4dC5maWxsUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkU2NlbmUoc2NlbmUpIHtcclxuICAgICAgICB0aGlzLnNjZW5lcy5wdXNoKHNjZW5lKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRVSSh1aSkge1xyXG4gICAgICAgIHRoaXMudWlzLnB1c2godWkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZVNjZW5lKHNjZW5lKSB7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnNjZW5lcy5pbmRleE9mKHNjZW5lKTtcclxuXHJcbiAgICAgICAgaWYgKCh+aW5kZXgpICE9PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0U2NlbmVzKCkge1xyXG4gICAgICAgIHRoaXMuc2NlbmVzID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXRVSSgpIHtcclxuICAgICAgICB0aGlzLnVpcyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoZWxhcHNlVGltZSkge1xyXG4gICAgICAgIHRoaXMuY2xlYXIoKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgc2NlbmUgb2YgdGhpcy5zY2VuZXMpIHtcclxuICAgICAgICAgICAgc2NlbmUuZHJhdyh0aGlzLmNvbnRleHQsIGVsYXBzZVRpbWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChsZXQgdWkgb2YgdGhpcy51aXMpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgdWlDb21wb25lbnQgb2YgdWkudWlDb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgICAgICB1aUNvbXBvbmVudC5kcmF3KHRoaXMuY29udGV4dCwgZWxhcHNlVGltZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZlbnRRdWV1ZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnF1ZXVlID0gW107XHJcblxyXG4gICAgICAgIHRoaXMucXVldWVJbmRleCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkKGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5xdWV1ZS5wdXNoKGV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXROZXh0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnF1ZXVlLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnF1ZXVlSW5kZXggPCB0aGlzLnF1ZXVlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMucXVldWVbdGhpcy5xdWV1ZUluZGV4XTtcclxuICAgICAgICAgICAgdGhpcy5xdWV1ZUluZGV4ICs9IDE7XHJcbiAgICAgICAgICAgIHJldHVybiBldmVudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucXVldWVJbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBoYXNOZXh0KCkge1xyXG4gICAgICAgIGNvbnN0IGhhc05leHQgPSAhISh0aGlzLnF1ZXVlLmxlbmd0aCAtIHRoaXMucXVldWVJbmRleCk7XHJcblxyXG4gICAgICAgIGlmICghaGFzTmV4dCAmJiB0aGlzLnF1ZXVlLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnF1ZXVlSW5kZXggPSAwO1xyXG4gICAgICAgICAgICB0aGlzLnF1ZXVlID0gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaGFzTmV4dDtcclxuICAgIH1cclxuXHJcbiAgICByZW1haW4oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucXVldWUubGVuZ3RoIC0gdGhpcy5xdWV1ZUluZGV4O1xyXG4gICAgfVxyXG59XHJcbiIsImNvbnN0IGV2ZW50cyA9IHtcclxuICAgIE1PVVNFOiB7XHJcbiAgICAgICAgTU9VU0VfTU9WRTogJ21vdXNlbW92ZScsXHJcbiAgICAgICAgTU9VU0VfRU5URVI6ICdtb3VzZWVudGVyJyxcclxuICAgICAgICBNT1VTRV9MRUFWRTogJ21vdXNlbGVhdmUnLFxyXG4gICAgICAgIE1PVVNFX0RPV046ICdtb3VzZWRvd24nLFxyXG4gICAgICAgIE1PVVNFX1VQOiAnbW91c2V1cCcsXHJcbiAgICB9LFxyXG4gICAgS0VZQk9BUkQ6IHtcclxuICAgICAgICBLRVlfUFJFU1M6ICdrZXlwcmVzcycsXHJcbiAgICAgICAgS0VZX0RPV046ICdrZXlkb3duJ1xyXG4gICAgfSxcclxuICAgIEFOSU1BVElPTjoge1xyXG4gICAgICAgIEFOSU1BVElPTl9FTkQ6ICdhbmltYXRpb25lbmQnLFxyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZXZlbnRzO1xyXG4iLCJpbXBvcnQgZXZlbnRzIGZyb20gJy4uL2V2ZW50L2V2ZW50cy9ldmVudHMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUkge1xyXG4gICAgY29uc3RydWN0b3IoY2FudmFzKSB7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5ob3ZlcmVkID0gbnVsbDtcclxuICAgICAgICB0aGlzLnVpQ29tcG9uZW50cyA9IFtdO1xyXG4gICAgICAgIHRoaXMudGFiVHJlZSA9IFtdOyBcclxuXHJcbiAgICAgICAgdGhpcy50YWJJbmRleCA9IC0xO1xyXG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVRhYlRyZWUoKSB7XHJcbiAgICAgICAgdGhpcy50YWJUcmVlID0gW107XHJcblxyXG4gICAgICAgIGZvciAobGV0IHNjZW5lIG9mIHRoaXMudWlDb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgIHNjZW5lLnRyYXZlcnNlKChvKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoby50YWJhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJUcmVlLnB1c2gobyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50YWJJbmRleCA9IHRoaXMudGFiVHJlZS5pbmRleE9mKHRoaXMuc2VsZWN0ZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0Q3Vyc29yVG9BcnJvdygpIHtcclxuICAgICAgICBpZiAodGhpcy5jYW52YXMuc3R5bGUuY3Vyc29yICE9PSAnYXV0bycpIHtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMuc3R5bGUuY3Vyc29yID0gJ2F1dG8nO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRNb3N0RGVlcEVsZW1lbnQoZWxlbWVudHMpIHtcclxuICAgICAgICBsZXQgbW9zdERlcHRoID0gMDtcclxuICAgICAgICBsZXQgaW5kZXggPSAtMTtcclxuXHJcbiAgICAgICAgZWxlbWVudHMuZm9yRWFjaCgoeyBkZXB0aCB9LCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkZXB0aCA+PSBtb3N0RGVwdGgpIHtcclxuICAgICAgICAgICAgICAgIG1vc3REZXB0aCA9IGRlcHRoO1xyXG4gICAgICAgICAgICAgICAgaW5kZXggPSBpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBlbGVtZW50c1tpbmRleF0ubztcclxuICAgIH1cclxuXHJcbiAgICBjaGFuZ2VIb3ZlcmVkRWxlbWVudChlbGVtZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaG92ZXJlZCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmhvdmVyZWQuaGFuZGxlcnMuaGFuZGxlKHtcclxuICAgICAgICAgICAgICAgIC4uLmV2ZW50LFxyXG4gICAgICAgICAgICAgICAgdHlwZTogZXZlbnRzLk1PVVNFLk1PVVNFX0xFQVZFLFxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0aGlzLmhvdmVyZWQsXHJcbiAgICAgICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiBlbGVtZW50XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5ob3ZlcmVkLnNldEhvdmVyZWQoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGVsZW1lbnQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5oYW5kbGVycy5oYW5kbGUoe1xyXG4gICAgICAgICAgICAgICAgLi4uZXZlbnQsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBldmVudHMuTU9VU0UuTU9VU0VfRU5URVIsXHJcbiAgICAgICAgICAgICAgICB0YXJnZXQ6IGVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICByZWxhdGVkVGFyZ2V0OiB0aGlzLmhvdmVyZWQsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5ob3ZlcmVkID0gZWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBjaGFuZ2VTZWxlY3RlZEVsZW1lbnQoZWxlbWVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQuaXNTZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IGVsZW1lbnQ7XHJcblxyXG4gICAgICAgIGlmIChlbGVtZW50ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuaXNTZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnRhYkluZGV4ID0gdGhpcy50YWJUcmVlLmluZGV4T2YodGhpcy5zZWxlY3RlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJvcFVJKCkge1xyXG4gICAgICAgIHRoaXMudWlDb21wb25lbnRzID0gW107XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VTZWxlY3RlZEVsZW1lbnQobnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlTW91c2VFdmVudChldmVudCkge1xyXG4gICAgICAgIGZvciAobGV0IHNjZW5lIG9mIHRoaXMudWlDb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnRzID0gc2NlbmUuY2hlY2tGb3JDb2xsaXNpb24oeyAuLi5ldmVudC5wYXlsb2FkLm1vdXNlQ29vcmQsIHdpZHRoOiAxLCBoZWlnaHQ6IDEgfSk7IFxyXG5cclxuICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgaWYgKGVsZW1lbnRzICE9PSBudWxsKSB7ICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gdGhpcy5nZXRNb3N0RGVlcEVsZW1lbnQoZWxlbWVudHMpO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0ID0gZWxlbWVudDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzZXRDdXJzb3JUb0Fycm93KCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmhvdmVyZWQgIT09IGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlSG92ZXJlZEVsZW1lbnQoZWxlbWVudCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChldmVudC50eXBlID09PSBldmVudHMuTU9VU0UuTU9VU0VfVVAgfHwgZXZlbnQudHlwZSA9PT0gZXZlbnRzLk1PVVNFLk1PVVNFX0RPV04pIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkICE9PSBlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VTZWxlY3RlZEVsZW1lbnQoZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50cy5zb3J0KChsLCByKSA9PiByLmRlcHRoIC0gbC5kZXB0aCk7XHJcblxyXG4gICAgICAgICAgICAgICAgZWxlbWVudHMuZm9yRWFjaCgoeyBvIH0pID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBvLmhhbmRsZXJzLmhhbmRsZShldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVLZXlib2FyZEV2ZW50KGV2ZW50KSB7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkO1xyXG5cclxuICAgICAgICBldmVudC50YXJnZXQgPSBzZWxlY3RlZDtcclxuICAgICAgICBzZWxlY3RlZC5oYW5kbGVycy5oYW5kbGUoZXZlbnQpO1xyXG5cclxuICAgICAgICBsZXQgcGFyZW50ID0gc2VsZWN0ZWQuZ2V0UGFyZW50Q29tcG9uZW50KCk7XHJcblxyXG4gICAgICAgIHdoaWxlIChwYXJlbnQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgcGFyZW50LmhhbmRsZXJzLmhhbmRsZShldmVudCk7XHJcblxyXG4gICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQuZ2V0UGFyZW50Q29tcG9uZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gXHJcbiAgICBoYW5kbGVFdmVudChldmVudCkge1xyXG4gICAgICAgIGV2ZW50LmNhbmNlbEJ1YmJsZSA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChldmVudHNbZXZlbnQuc3VidHlwZV0gPT09IGV2ZW50cy5NT1VTRSkge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZU1vdXNlRXZlbnQoZXZlbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGV2ZW50c1tldmVudC5zdWJ0eXBlXSA9PT0gZXZlbnRzLktFWUJPQVJEKSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5wYXlsb2FkLmtleSA9PT0gJ1RhYicpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0TmV4dFNlbGVjdGVkRWxlbWVudCgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlS2V5Ym9hcmRFdmVudChldmVudCk7XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgfSBcclxuICAgIH1cclxuXHJcbiAgICBzZXROZXh0U2VsZWN0ZWRFbGVtZW50KCkge1xyXG4gICAgICAgIGNvbnN0IG5leHQgPSB0aGlzLnRhYlRyZWVbKHRoaXMudGFiSW5kZXggKyAxKSAlIHRoaXMudGFiVHJlZS5sZW5ndGhdIHx8IG51bGw7XHJcblxyXG4gICAgICAgIGlmIChuZXh0ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlU2VsZWN0ZWRFbGVtZW50KG5leHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhZGQoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdGhpcy51aUNvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZVRhYlRyZWUoKTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmUoY29tcG9uZW50KSB7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLnVpQ29tcG9uZW50cy5pbmRleE9mKGNvbXBvbmVudCk7XHJcblxyXG4gICAgICAgIGlmICh+aW5kZXgpIHtcclxuICAgICAgICAgICAgdGhpcy51aUNvbXBvbmVudHMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVUYWJUcmVlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEN1cnNvciB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICB0aGlzLm1ldHJpYyA9IHtcclxuICAgICAgICAgICAgdG9wLFxyXG4gICAgICAgICAgICBsZWZ0LFxyXG4gICAgICAgICAgICB3aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5ibGlua1RpbWUgPSA1MDA7XHJcbiAgICAgICAgdGhpcy5lbGFwc2VkVGltZSA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuY29sb3IgPSAnIzAwMDAwMCc7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UG9zaXRpb24odG9wLCBsZWZ0KSB7XHJcbiAgICAgICAgdGhpcy5tZXRyaWMudG9wID0gdG9wO1xyXG4gICAgICAgIHRoaXMubWV0cmljLmxlZnQgPSBsZWZ0O1xyXG4gICAgfVxyXG5cclxuICAgIHNldENvbG9yKGNvbG9yID0gJyMwMDAwMDAnKSB7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXcoY29udGV4dCwgZWxhcHNlZFRpbWUpIHtcclxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZWxhcHNlZFRpbWUgPCB0aGlzLmJsaW5rVGltZSkge1xyXG4gICAgICAgICAgICBpZiAoY29udGV4dC5zdHJva2VTdHlsZSAhPT0gdGhpcy5jb2xvcikge1xyXG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKHRoaXMubWV0cmljLmxlZnQsIHRoaXMubWV0cmljLnRvcCk7XHJcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKHRoaXMubWV0cmljLmxlZnQsIE1hdGgucm91bmQodGhpcy5tZXRyaWMudG9wICsgdGhpcy5tZXRyaWMuaGVpZ2h0ICsgdGhpcy5tZXRyaWMuaGVpZ2h0ICogMC4yKSk7XHJcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmVsYXBzZWRUaW1lICs9IGVsYXBzZWRUaW1lO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5lbGFwc2VkVGltZSA+IHRoaXMuYmxpbmtUaW1lICogMikge1xyXG4gICAgICAgICAgICB0aGlzLmVsYXBzZWRUaW1lID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ29sbGlzaW9uIHtcclxuICAgIGlzSW5zaWRlKGZpcnN0TWV0cmljLCBzZWNvbmRNZXRyaWMpIHtcclxuICAgICAgICBpZiAoZmlyc3RNZXRyaWMubGVmdCA8IHNlY29uZE1ldHJpYy5sZWZ0ICsgc2Vjb25kTWV0cmljLndpZHRoICYmXHJcbiAgICAgICAgICAgIGZpcnN0TWV0cmljLmxlZnQgKyBmaXJzdE1ldHJpYy53aWR0aCA+IHNlY29uZE1ldHJpYy5sZWZ0ICYmXHJcbiAgICAgICAgICAgIGZpcnN0TWV0cmljLnRvcCA8IHNlY29uZE1ldHJpYy50b3AgKyBzZWNvbmRNZXRyaWMuaGVpZ2h0ICYmXHJcbiAgICAgICAgICAgIGZpcnN0TWV0cmljLmhlaWdodCArIGZpcnN0TWV0cmljLnRvcCA+IHNlY29uZE1ldHJpYy50b3ApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBldmVudHMgZnJvbSAnLi4vZXZlbnQvZXZlbnRzL2V2ZW50cyc7XHJcblxyXG5pbXBvcnQgeyBtZXJnZSB9IGZyb20gJ2xvZGFzaCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbmltYXRhYmxlIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbXBvbmVudCkge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0ZWRQcm9wZXJ0aWVzID0ge307XHJcbiAgICAgICAgbWVyZ2UodGhpcy5hbmltYXRlZFByb3BlcnRpZXMsIGNvbXBvbmVudC5wcm9wZXJ0aWVzKTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zID0ge1xyXG5cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHNldEFuaW1hdGlvbihuYW1lLCB0aW1lLCB0aW1lQ291bnQsIGFuaW1hdGlvbkZ1bmMpIHtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnNbbmFtZV0gPSB7XHJcbiAgICAgICAgICAgIGFuaW1hdGlvbkZ1bmMsXHJcbiAgICAgICAgICAgIHRpbWVDb3VudCxcclxuICAgICAgICAgICAgdGltZTogdGltZSAqIDEwMDAsXHJcbiAgICAgICAgICAgIGVsYXBzZVRpbWU6IDAsXHJcbiAgICAgICAgICAgIGFuaW1hdGlvblRpbWVzUGFzdDogMFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlQW5pbWF0aW9uKG5hbWUpIHtcclxuICAgICAgICBkZWxldGUgdGhpcy5hbmltYXRpb25zW25hbWVdO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc2V0QW5pbWF0ZWRQcm9wZXJ0aWVzKGNvbXBvbmVudCkge1xyXG4gICAgICAgIHRoaXMuYW5pbWF0ZWRQcm9wZXJ0aWVzID0ge307XHJcbiAgICAgICAgaWYgKGNvbXBvbmVudC5ob3ZlcmVkKSB7XHJcbiAgICAgICAgICAgIG1lcmdlKHRoaXMuYW5pbWF0ZWRQcm9wZXJ0aWVzLCBjb21wb25lbnQuaG92ZXJQcm9wZXJ0aWVzKTsgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1lcmdlKHRoaXMuYW5pbWF0ZWRQcm9wZXJ0aWVzLCBjb21wb25lbnQucHJvcGVydGllcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGluY3JlbWVudEFuaW1hdGlvblRpbWVzUGFzdChhbmltYXRpb25OYW1lLCBhbmltYXRpb24sIGNvbXBvbmVudCkge1xyXG4gICAgICAgIGlmIChhbmltYXRpb24uZWxhcHNlVGltZSA+IGFuaW1hdGlvbi50aW1lKSB7XHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5lbGFwc2VUaW1lID0gMDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRBbmltYXRlZFByb3BlcnRpZXMoY29tcG9uZW50KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChhbmltYXRpb24udGltZUNvdW50ICE9PSAnaW5maW5pdGUnKSB7XHJcbiAgICAgICAgICAgICAgICBhbmltYXRpb24uYW5pbWF0aW9uVGltZXNQYXN0ICs9IDE7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbi5hbmltYXRpb25UaW1lc1Bhc3QgPj0gYW5pbWF0aW9uLnRpbWVDb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFuaW1hdGlvbnNbYW5pbWF0aW9uTmFtZV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudC5oYW5kbGVycy5oYW5kbGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGNvbXBvbmVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogZXZlbnRzLkFOSU1BVElPTi5BTklNQVRJT05fRU5ELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJ0eXBlOiAnQU5JTUFUSU9OJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uTmFtZTogYW5pbWF0aW9uTmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IFxyXG4gICAgfVxyXG5cclxuICAgIGFuaW1hdGUoY29udGV4dCwgY29tcG9uZW50LCBlbGFwc2VUaW1lKSB7XHJcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uTmFtZXMgPSBPYmplY3Qua2V5cyh0aGlzLmFuaW1hdGlvbnMpO1xyXG5cclxuICAgICAgICBhbmltYXRpb25OYW1lcy5mb3JFYWNoKChhbmltYXRpb25OYW1lKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IHRoaXMuYW5pbWF0aW9uc1thbmltYXRpb25OYW1lXTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5hbmltYXRpb25GdW5jKGNvbnRleHQsIGNvbXBvbmVudC5wcm9wZXJ0aWVzLCB0aGlzLmFuaW1hdGVkUHJvcGVydGllcywgYW5pbWF0aW9uLmVsYXBzZVRpbWUgLyBhbmltYXRpb24udGltZSwgY29tcG9uZW50KTtcclxuXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbi5lbGFwc2VUaW1lICs9IGVsYXBzZVRpbWU7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmluY3JlbWVudEFuaW1hdGlvblRpbWVzUGFzdChhbmltYXRpb25OYW1lLCBhbmltYXRpb24sIGNvbXBvbmVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IGV2ZW50cyBmcm9tICcuLi9ldmVudHMvZXZlbnRzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEV2ZW50c0hhbmRsZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpc1tldmVudHMuTU9VU0UuTU9VU0VfTU9WRV0gPSBbXTtcclxuICAgICAgICB0aGlzW2V2ZW50cy5NT1VTRS5NT1VTRV9VUF0gPSBbXTtcclxuICAgICAgICB0aGlzW2V2ZW50cy5NT1VTRS5NT1VTRV9ET1dOXSA9IFtdO1xyXG4gICAgICAgIHRoaXNbZXZlbnRzLk1PVVNFLk1PVVNFX0VOVEVSXSA9IFtdO1xyXG4gICAgICAgIHRoaXNbZXZlbnRzLk1PVVNFLk1PVVNFX0xFQVZFXSA9IFtdO1xyXG4gICAgICAgIHRoaXNbZXZlbnRzLktFWUJPQVJELktFWV9QUkVTU10gPSBbXTtcclxuICAgICAgICB0aGlzW2V2ZW50cy5LRVlCT0FSRC5LRVlfRE9XTl0gPSBbXTtcclxuICAgICAgICB0aGlzW2V2ZW50cy5BTklNQVRJT04uQU5JTUFUSU9OX0VORF0gPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGUoZXZlbnQpIHtcclxuICAgICAgICBjb25zdCBoYW5kbGVycyA9IHRoaXNbZXZlbnQudHlwZV07XHJcblxyXG4gICAgICAgIGlmIChoYW5kbGVycykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBoYW5kbGVyIG9mIGhhbmRsZXJzKSB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVyKGV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhZGRFdmVudExpc3RlbmVyKG5hbWUsIGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXNbbmFtZV0pIHtcclxuICAgICAgICAgICAgdGhpc1tuYW1lXS5wdXNoKGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzW25hbWVdKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGhpc1tuYW1lXS5maW5kSW5kZXgocmVnaXN0ZXJlZEV2ZW50ID0+IHJlZ2lzdGVyZWRFdmVudCA9PT0gZXZlbnQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKH5pbmRleCkge1xyXG4gICAgICAgICAgICAgICAgdGhpc1tuYW1lXS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImNvbnN0IGNvbnRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKS5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFRleHRXaWR0aFdpdGhEb20gPSAodGV4dCwgZm9udEZhbWlseSwgZm9udFNpemUpID0+IHtcclxuICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblxyXG4gICAgc3Bhbi5pbm5lclRleHQgPSB0ZXh0O1xyXG4gICAgc3Bhbi5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XHJcbiAgICBzcGFuLnN0eWxlLndoaXRlU3BhY2UgPSAnbm93cmFwJztcclxuICAgIHNwYW4uc3R5bGUuZm9udEZhbWlseSA9IGZvbnRGYW1pbHk7XHJcbiAgICBzcGFuLnN0eWxlLmZvbnRTaXplID0gZm9udFNpemU7XHJcblxyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzcGFuKTtcclxuXHJcbiAgICBjb25zdCB0ZXh0V2lkdGggPSBzcGFuLm9mZnNldFdpZHRoO1xyXG5cclxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc3Bhbik7XHJcblxyXG4gICAgcmV0dXJuIHRleHRXaWR0aDtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRUZXh0V2lkdGhXaXRoQ2FudmFzID0gKHRleHQsIGZvbnRGYW1pbHksIGZvbnRTaXplKSA9PiB7XHJcbiAgICBjb250ZXh0LmZvbnQgPSBgJHtmb250U2l6ZX1weCAke2ZvbnRGYW1pbHl9YDtcclxuICAgIHJldHVybiBjb250ZXh0Lm1lYXN1cmVUZXh0KHRleHQpLndpZHRoO1xyXG59O1xyXG4iLCJpbXBvcnQgeyBtZXJnZSwgdW5pcXVlSWQsIGdldCB9IGZyb20gJ2xvZGFzaCc7XHJcblxyXG5pbXBvcnQgQ29sbGlzaW9uIGZyb20gJy4uLy4uL0NvbGxpc2lvbi9Db2xsaXNpb24nO1xyXG5pbXBvcnQgQW5pbWF0YWJsZSBmcm9tICcuLi8uLi9BbmltYXRpb24vQW5pbWF0YWJsZSc7XHJcbmltcG9ydCBFdmVudHNIYW5kbGVyIGZyb20gJy4uLy4uL2V2ZW50L0V2ZW50c0hhbmRsZXIvRXZlbnRzSGFuZGxlcic7XHJcbmltcG9ydCBldmVudHMgZnJvbSAnLi4vLi4vZXZlbnQvZXZlbnRzL2V2ZW50cyc7XHJcbmltcG9ydCBMYWJlbCBmcm9tICcuL0xhYmVsJztcclxuXHJcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJy4vQ29tcG9uZW50JztcclxuaW1wb3J0IHsgZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyB9IGZyb20gJy4uLy4uL3V0aWxzL3RleHRXaWR0aCc7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHRvcCA9IDAsIGxlZnQgPSAwLCB3aWR0aCA9IDAsIGhlaWdodCA9IDAsIHBhcmVudENvbXBvbmVudCA9IG51bGwsIG5hbWUpIHtcclxuICAgICAgICB0aGlzLnBhcmVudENvbXBvbmVudCA9IHBhcmVudENvbXBvbmVudDtcclxuXHJcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzID0ge307XHJcblxyXG4gICAgICAgIHRoaXMucHJvcGVydGllcy5kcmF3Qm9yZGVyID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzLm92ZXJmbG93ID0gJ3Zpc2libGUnO1xyXG4gICAgICAgIHRoaXMuaG92ZXJlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNTZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZHJhd0JvcmRlciA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudGFiYWJsZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLnByb3BlcnRpZXMuY29sb3IgPSB7XHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJ3JnYmEoMCwwLDAsMCknLFxyXG4gICAgICAgICAgICBib3JkZXJDb2xvcjogJ3JnYig3NywgMTQ0LCAyNTQpJyxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5vbnJlbW92ZSA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMucHJvcGVydGllcy50b3AgPSB0b3A7XHJcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzLmxlZnQgPSBsZWZ0O1xyXG4gICAgICAgIHRoaXMucHJvcGVydGllcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMucHJvcGVydGllcy5oZWlnaHQgPSBoZWlnaHQ7XHJcblxyXG4gICAgICAgIHRoaXMucHJvcGVydGllcy5jdXJzb3IgPSAnYXV0byc7XHJcblxyXG4gICAgICAgIHRoaXMuY29sbGlzaW9uID0gbmV3IENvbGxpc2lvbigpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IG5ldyBBbmltYXRhYmxlKHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLmhhbmRsZXJzID0gbmV3IEV2ZW50c0hhbmRsZXIoKTtcclxuICAgICAgICB0aGlzLmhhbmRsZXJzLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLk1PVVNFLk1PVVNFX01PVkUsIHRoaXMuaGFuZGxlSG92ZXIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgICh7IHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5jb252ZXJ0RnJvbVBlcmNlbnRhZ2VUb1BpeGVsKHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCkpO1xyXG5cclxuICAgICAgICB0aGlzLmhvdmVyUHJvcGVydGllcyA9IHt9O1xyXG5cclxuICAgICAgICBtZXJnZSh0aGlzLmhvdmVyUHJvcGVydGllcywgdGhpcy5wcm9wZXJ0aWVzKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRCb3VuZGluZ0NsaWVudFJlY3QodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgdGhpcy5zY3JvbGxYT2Zmc2V0ID0gMDtcclxuICAgICAgICB0aGlzLnNjcm9sbFlPZmZzZXQgPSAwO1xyXG5cclxuICAgICAgICBpZiAocGFyZW50Q29tcG9uZW50ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudC5hZGRDb21wb25lbnQodGhpcywgbmFtZSk7XHJcbiAgICAgICAgICAgIG1lcmdlKHRoaXMuaW5pdGlhbEJvdW5kaW5nQ2xpZW50UmVjdCwgdGhpcy5wcm9wZXJ0aWVzLmJvdW5kaW5nQ2xpZW50UmVjdCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsQm91bmRpbmdDbGllbnRSZWN0ID0ge307XHJcbiAgICAgICAgICAgIG1lcmdlKHRoaXMuaW5pdGlhbEJvdW5kaW5nQ2xpZW50UmVjdCwgdGhpcy5wcm9wZXJ0aWVzLmJvdW5kaW5nQ2xpZW50UmVjdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFkZEV2ZW50TGlzdGVuZXIobmFtZSwgZXZlbnQpIHtcclxuICAgICAgICB0aGlzLmhhbmRsZXJzLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgZXZlbnQpXHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudCkge1xyXG4gICAgICAgIHRoaXMuaGFuZGxlcnMucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudClcclxuICAgIH1cclxuXHJcbiAgICBjb252ZXJ0RnJvbVBlcmNlbnRhZ2VUb1BpeGVsKHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHRoaXMuZ2V0UGFyZW50Q29tcG9uZW50KCk7XHJcbiAgICAgICAgbGV0IHBhcmVudFdpZHRoLCBwYXJlbnRIZWlnaHQ7XHJcbiAgICAgICAgY29uc3QgcmVnID0gLyUvO1xyXG4gICAgICAgIGNvbnN0IGZsb29yID0gTWF0aC5mbG9vcjtcclxuXHJcbiAgICAgICAgaWYgKHBhcmVudCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBwYXJlbnRXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG4gICAgICAgICAgICBwYXJlbnRIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgKHsgd2lkdGg6IHBhcmVudFdpZHRoLCBoZWlnaHQ6IHBhcmVudEhlaWdodCB9ID0gcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgdG9wID09PSAnc3RyaW5nJyAmJiByZWcudGVzdCh0b3ApKSB7XHJcbiAgICAgICAgICAgIHRvcCA9IGZsb29yKHBhcnNlRmxvYXQodG9wKSAvIDEwMCAqIHBhcmVudEhlaWdodCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGxlZnQgPT09ICdzdHJpbmcnICYmIHJlZy50ZXN0KGxlZnQpKSB7XHJcbiAgICAgICAgICAgIGxlZnQgPSBmbG9vcihwYXJzZUZsb2F0KGxlZnQpIC8gMTAwICogcGFyZW50V2lkdGgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB3aWR0aCA9PT0gJ3N0cmluZycgJiYgcmVnLnRlc3Qod2lkdGgpKSB7XHJcbiAgICAgICAgICAgIHdpZHRoID0gZmxvb3IocGFyc2VGbG9hdCh3aWR0aCkgLyAxMDAgKiBwYXJlbnRXaWR0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0eXBlb2YgaGVpZ2h0ID09PSAnc3RyaW5nJyAmJiByZWcudGVzdChoZWlnaHQpKSB7XHJcbiAgICAgICAgICAgIGhlaWdodCA9IGZsb29yKHBhcnNlRmxvYXQoaGVpZ2h0KSAvIDEwMCAqIHBhcmVudEhlaWdodCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0b3AsXHJcbiAgICAgICAgICAgIGxlZnQsXHJcbiAgICAgICAgICAgIHdpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHRyYXZlcnNlKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGFsaWduQ2VudGVyKHJlbGF0aXZlRWxlbWVudFdpZHRoLCByZWxhdGl2ZUVsZW1lbnRIZWlnaHQpIHtcclxuICAgICAgICBjb25zdCBwYXJlbnQgPSB0aGlzLmdldFBhcmVudENvbXBvbmVudCgpO1xyXG4gICAgICAgIGxldCBwYXJlbnRXaWR0aCA9IDA7XHJcbiAgICAgICAgbGV0IHBhcmVudEhlaWdodCA9IDA7XHJcblxyXG4gICAgICAgIGlmIChyZWxhdGl2ZUVsZW1lbnRXaWR0aCAhPT0gdW5kZWZpbmVkICYmIHJlbGF0aXZlRWxlbWVudEhlaWdodCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHBhcmVudFdpZHRoID0gcmVsYXRpdmVFbGVtZW50V2lkdGg7XHJcbiAgICAgICAgICAgIHBhcmVudEhlaWdodCA9IHJlbGF0aXZlRWxlbWVudEhlaWdodDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAocGFyZW50ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAoeyB3aWR0aDogcGFyZW50V2lkdGgsIGhlaWdodDogcGFyZW50SGVpZ2h0IH0gPSBwYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcGFyZW50V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgICAgICAgICAgICAgIHBhcmVudEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgICAgICBsZXQgY2VudHJlZFRvcCA9IE1hdGgucm91bmQoKHBhcmVudEhlaWdodCAtIGhlaWdodCkgLyAyKTtcclxuICAgICAgICBsZXQgY2VudHJlZExlZnQgPSBNYXRoLnJvdW5kKChwYXJlbnRXaWR0aCAtIHdpZHRoKSAvIDIpO1xyXG5cclxuICAgICAgICB0aGlzLnNldEJvdW5kaW5nQ2xpZW50UmVjdChjZW50cmVkVG9wLCBjZW50cmVkTGVmdCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QmFja2dyb3VuZEltYWdlKGltYWdlID0gbnVsbCkge1xyXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZEltYWdlID0gaW1hZ2U7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kSW1hZ2Uuc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBjYWxjdWxhdGVUb3RhbFdpZHRoQ29tcG9uZW50KG8sIHN1bVBhdGgsIHN1bSAsIGluZGV4LCBwcm9wKSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBnZXQobywgcHJvcCk7XHJcbiAgICAgICAgc3VtUGF0aFtTdHJpbmcoaW5kZXgpXSA9IHN1bSArIHZhbHVlO1xyXG4gICAgfSBcclxuXHJcbiAgICBoYW5kbGVIb3ZlcihlKSB7XHJcbiAgICAgICAgY29uc3QgYyA9IGUudGFyZ2V0O1xyXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGUuY2FudmFzO1xyXG4gICAgICAgIGlmIChjYW52YXMuc3R5bGUuY3Vyc29yICE9PSBjLnByb3BlcnRpZXMuY3Vyc29yKSB7XHJcbiAgICAgICAgICAgIGNhbnZhcy5zdHlsZS5jdXJzb3IgPSBjLnByb3BlcnRpZXMuY3Vyc29yO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGMuaG92ZXJlZCAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICBjLmhvdmVyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBtZXJnZShjLmFuaW1hdGlvbnMuYW5pbWF0ZWRQcm9wZXJ0aWVzLCBjLmhvdmVyUHJvcGVydGllcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hbmltYXRpb25zLmFuaW1hdGVkUHJvcGVydGllcy5ib3VuZGluZ0NsaWVudFJlY3Q7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0SG92ZXJlZChob3ZlcmVkKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaG92ZXJlZCAhPT0gaG92ZXJlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmhvdmVyZWQgPSBob3ZlcmVkO1xyXG5cclxuICAgICAgICAgICAgaWYgKGhvdmVyZWQpIHtcclxuICAgICAgICAgICAgICAgIG1lcmdlKHRoaXMuYW5pbWF0aW9ucy5hbmltYXRlZFByb3BlcnRpZXMsIHRoaXMuaG92ZXJQcm9wZXJ0aWVzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIG1lcmdlKHRoaXMuYW5pbWF0aW9ucy5hbmltYXRlZFByb3BlcnRpZXMsIHRoaXMucHJvcGVydGllcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Qm91bmRpbmdDbGllbnRSZWN0KHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCkge1xyXG4gICAgICAgIGNvbnN0IHByZXZCb3VuZGluZ0JveCA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgICAgIGxldCBwcmV2VG9wO1xyXG4gICAgICAgIGxldCBwcmV2TGVmdDtcclxuICAgICAgICBsZXQgcHJldldpZHRoO1xyXG4gICAgICAgIGxldCBwcmV2SGVpZ2h0O1xyXG5cclxuICAgICAgICBpZiAocHJldkJvdW5kaW5nQm94KSB7XHJcbiAgICAgICAgICAgICh7IHRvcDogcHJldlRvcCwgbGVmdDogcHJldkxlZnQsIHdpZHRoOiBwcmV2V2lkdGgsIGhlaWdodDogcHJldkhlaWdodCB9ID0gcHJldkJvdW5kaW5nQm94KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0b3AgPT09IHVuZGVmaW5lZCAmJiBwcmV2Qm91bmRpbmdCb3ggJiYgdHlwZW9mIHRvcCAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICB0b3AgPSBwcmV2VG9wO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGxlZnQgPT09IHVuZGVmaW5lZCAmJiBwcmV2Qm91bmRpbmdCb3ggJiYgdHlwZW9mIGxlZnQgIT09IFwibnVtYmVyXCIpIHtcclxuICAgICAgICAgICAgbGVmdCA9IHByZXZMZWZ0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHdpZHRoID09PSB1bmRlZmluZWQgJiYgcHJldkJvdW5kaW5nQm94ICYmIHR5cGVvZiB3aWR0aCAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICB3aWR0aCA9IHByZXZXaWR0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChoZWlnaHQgPT09IHVuZGVmaW5lZCAmJiBwcmV2Qm91bmRpbmdCb3ggJiYgdHlwZW9mIGhlaWdodCAhPT0gXCJudW1iZXJcIikge1xyXG4gICAgICAgICAgICBoZWlnaHQgPSBwcmV2SGVpZ2h0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzLnRvcCA9IHRvcDtcclxuICAgICAgICB0aGlzLnByb3BlcnRpZXMubGVmdCA9IGxlZnQ7XHJcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzLmhlaWdodCA9IGhlaWdodDtcclxuXHJcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzLmJvdW5kaW5nQ2xpZW50UmVjdCA9IHtcclxuICAgICAgICAgICAgdG9wLFxyXG4gICAgICAgICAgICBsZWZ0LFxyXG4gICAgICAgICAgICB3aWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0LFxyXG4gICAgICAgICAgICByaWdodDogbGVmdCArIHdpZHRoLFxyXG4gICAgICAgICAgICBib3R0b206IHRvcCArIGhlaWdodFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5hbmltYXRlZFByb3BlcnRpZXMuYm91bmRpbmdDbGllbnRSZWN0ID0ge307XHJcbiAgICAgICAgdGhpcy5ob3ZlclByb3BlcnRpZXMuYm91bmRpbmdDbGllbnRSZWN0ID0ge307XHJcbiAgICAgICAgbWVyZ2UodGhpcy5hbmltYXRpb25zLmFuaW1hdGVkUHJvcGVydGllcy5ib3VuZGluZ0NsaWVudFJlY3QsIHRoaXMucHJvcGVydGllcy5ib3VuZGluZ0NsaWVudFJlY3QpO1xyXG4gICAgICAgIG1lcmdlKHRoaXMuaG92ZXJQcm9wZXJ0aWVzLmJvdW5kaW5nQ2xpZW50UmVjdCwgdGhpcy5wcm9wZXJ0aWVzLmJvdW5kaW5nQ2xpZW50UmVjdCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QmFja2dyb3VuZENvbG9yKGNvbG9yID0gJyMwMDAwMDAnKSB7XHJcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzLmNvbG9yLmJhY2tncm91bmRDb2xvciA9IGNvbG9yO1xyXG4gICAgICAgIHRoaXMuaG92ZXJQcm9wZXJ0aWVzLmNvbG9yLmJhY2tncm91bmRDb2xvciA9IGNvbG9yO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5hbmltYXRlZFByb3BlcnRpZXMuY29sb3IuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Qm9yZGVyQ29sb3IoY29sb3IgPSAnIzAwMDAwMCcpIHtcclxuICAgICAgICB0aGlzLnByb3BlcnRpZXMuY29sb3IuYm9yZGVyQ29sb3IgPSBjb2xvcjtcclxuICAgICAgICB0aGlzLmhvdmVyUHJvcGVydGllcy5jb2xvci5ib3JkZXJDb2xvciA9IGNvbG9yO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5hbmltYXRlZFByb3BlcnRpZXMuY29sb3IuYm9yZGVyQ29sb3IgPSBjb2xvcjtcclxuICAgIH1cclxuXHJcbiAgICBzZXRQYXJlbnRDb21wb25lbnQocGFyZW50Q29tcG9uZW50KSB7XHJcbiAgICAgICAgdGhpcy5wYXJlbnRDb21wb25lbnQgPSBwYXJlbnRDb21wb25lbnQ7XHJcblxyXG4gICAgICAgIGxldCB7IHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5wcm9wZXJ0aWVzO1xyXG4gICAgICAgICh7IHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5jb252ZXJ0RnJvbVBlcmNlbnRhZ2VUb1BpeGVsKHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCkpO1xyXG4gICAgICAgIHRoaXMuc2V0Qm91bmRpbmdDbGllbnRSZWN0KHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsQm91bmRpbmdDbGllbnRSZWN0ID0ge307XHJcbiAgICAgICAgbWVyZ2UodGhpcy5pbml0aWFsQm91bmRpbmdDbGllbnRSZWN0LCB0aGlzLnByb3BlcnRpZXMuYm91bmRpbmdDbGllbnRSZWN0KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRPdmVyZmxvdyhvdmVyZmxvdykge1xyXG4gICAgICAgIHRoaXMucHJvcGVydGllcy5vdmVyZmxvdyA9IG92ZXJmbG93O1xyXG4gICAgICAgIHRoaXMuaG92ZXJQcm9wZXJ0aWVzLm92ZXJmbG93ID0gb3ZlcmZsb3c7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLmFuaW1hdGVkUHJvcGVydGllcy5vdmVyZmxvdyA9IG92ZXJmbG93O1xyXG5cclxuICAgICAgICBpZiAob3ZlcmZsb3cgPT09ICdzY3JvbGwnKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRvdGFsSGVpZ2h0ID0gdGhpcy5jYWxjdWxhdGVUb3RhbEhlaWdodENvbXBvbmVudCgpO1xyXG4gICAgICAgICAgICBjb25zdCB0b3RhbFdpZHRoID0gdGhpcy5jYWxjdWxhdGVUb3RhbFdpZHRoQ29tcG9uZW50KCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodG90YWxIZWlnaHQgPiBoZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsWSA9IG5ldyBTY3JvbGxCYXIoJ3ZlcnRpY2FsJywgdG90YWxIZWlnaHQsIHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodG90YWxXaWR0aCA+IHdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFggPSBuZXcgU2Nyb2xsQmFyKCdob3Jpem9udGFsJywgdG90YWxXaWR0aCwgdGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UGFyZW50Q29tcG9uZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcmVudENvbXBvbmVudDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRCYWNrZ3JvdW5kSW1hZ2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFja2dyb3VuZEltYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE92ZXJmbG93KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXMub3ZlcmZsb3c7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QWJzb2x1dGVDb29yZCgpIHtcclxuICAgICAgICBsZXQgeyB0b3AsIGxlZnQgfSA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgICAgIGxldCBwYXJlbnQgPSB0aGlzLmdldFBhcmVudENvbXBvbmVudCgpO1xyXG5cclxuICAgICAgICB3aGlsZSAocGFyZW50ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgdG9wOiBwYXJlbnRUb3AsIGxlZnQ6IHBhcmVudExlZnQgfSA9IHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgICAgICAgIHRvcCArPSBwYXJlbnRUb3A7XHJcbiAgICAgICAgICAgIGxlZnQgKz0gcGFyZW50TGVmdDtcclxuXHJcbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5nZXRQYXJlbnRDb21wb25lbnQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRvcCxcclxuICAgICAgICAgICAgbGVmdFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgYWRkQ29tcG9uZW50KGNvbXBvbmVudCkge1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVDb21wb25lbnQoY29tcG9uZW50KSB7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHNldENvbnRleHRQcm9wZXJ0aWVzKGNvbnRleHQsIGVsYXBzZVRpbWUpIHtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMuYW5pbWF0ZShjb250ZXh0LCB0aGlzLCBlbGFwc2VUaW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwYWludENvbXBvbmVudChjb250ZXh0LCBlbGFwc2VUaW1lKSB7XHJcbiAgICAgICAgbGV0IHsgdG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGxldCBjb2xvciA9IHRoaXMuYW5pbWF0aW9ucy5hbmltYXRlZFByb3BlcnRpZXMuY29sb3I7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yLmJhY2tncm91bmRDb2xvcjtcclxuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMub3ZlcmZsb3cgPT09ICdzY3JvbGwnIHx8IHRoaXMucHJvcGVydGllcy5vdmVyZmxvdyA9PT0gJ292ZXJmbG93Jykge1xyXG4gICAgICAgICAgICBjb25zdCBwYXRoID0gbmV3IFBhdGgyRCgpO1xyXG4gICAgICAgICAgICBwYXRoLnJlY3QobGVmdCwgdG9wLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgY29udGV4dC5jbGlwKHBhdGgsIFwibm9uemVyb1wiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmJhY2tncm91bmRJbWFnZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmRJbWFnZS5kcmF3KGNvbnRleHQsIGxlZnQsIHRvcCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5kcmF3Qm9yZGVyICYmIHRoaXMuaXNTZWxlY3RlZCkge1xyXG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gY29sb3IuYm9yZGVyQ29sb3I7XHJcbiAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlUmVjdChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkcmF3Q29tcG9uZW50KGNvbnRleHQsIGVsYXBzZVRpbWUpIHtcclxuICAgICAgICB0aGlzLnNldENvbnRleHRQcm9wZXJ0aWVzKGNvbnRleHQsIGVsYXBzZVRpbWUpO1xyXG4gICAgICAgIHRoaXMucGFpbnRDb21wb25lbnQoY29udGV4dCwgZWxhcHNlVGltZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhdyhjb250ZXh0LCBlbGFwc2VUaW1lKSB7XHJcbiAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgcGFyZW50ID0gdGhpcy5nZXRQYXJlbnRDb21wb25lbnQoKTtcclxuXHJcbiAgICAgICAgaWYgKHBhcmVudCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShwYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCwgcGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmRyYXdDb21wb25lbnQoY29udGV4dCwgZWxhcHNlVGltZSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IG8gb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgby5jb21wb25lbnQuZHJhdyhjb250ZXh0LCBlbGFwc2VUaW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDb21wb3NpdGVDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IodG9wID0gMCwgbGVmdCA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgcGFyZW50Q29tcG9uZW50ID0gbnVsbCkge1xyXG4gICAgICAgIHN1cGVyKHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCwgcGFyZW50Q29tcG9uZW50KTtcclxuXHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZENvbXBvbmVudChjb21wb25lbnQsIG5hbWUpIHtcclxuICAgICAgICBjb21wb25lbnQuc2V0UGFyZW50Q29tcG9uZW50KHRoaXMpO1xyXG5cclxuICAgICAgICBpZiAobmFtZSAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50LFxyXG4gICAgICAgICAgICAgICAgbmFtZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgY29tcG9uZW50LFxyXG4gICAgICAgICAgICAgICAgbmFtZTogdW5pcXVlSWQoJ2NvbXBvbmVudCAnKVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlQ29tcG9uZW50KGNvbXBvbmVudCkge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5jaGlsZHJlbi5maW5kSW5kZXgoKHsgY29tcG9uZW50OiBjaGlsZENvbXBvbmVudCB9KSA9PiBjaGlsZENvbXBvbmVudCA9PT0gY29tcG9uZW50KTtcclxuXHJcbiAgICAgICAgaWYgKCh+aW5kZXgpICE9PSAwKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5jaGlsZHJlbltpbmRleF0uY29tcG9uZW50Lm9ucmVtb3ZlID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2luZGV4XS5jb21wb25lbnQub25yZW1vdmUoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDaGlsZENvbXBvbmVudChpbmRleCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgaW5kZXggPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA8IGluZGV4ICYmIGluZGV4ID49IDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2luZGV4XS5jb21wb25lbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jaGlsZHJlbi5maW5kKGUgPT4gZS5uYW1lID09PSBpbmRleCk7ICBcclxuXHJcbiAgICAgICAgcmV0dXJuIGNoaWxkID8gY2hpbGQuY29tcG9uZW50IDogbnVsbDsgIFxyXG4gICAgfVxyXG5cclxuICAgIGRyb3BDaGlsZHJlbigpIHtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgdHJhdmVyc2UoY2FsbGJhY2spIHtcclxuICAgICAgICBjb25zdCBzdG9wID0gY2FsbGJhY2sodGhpcylcclxuICAgICAgICBpZiAoc3RvcCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgbyBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNvbXBvbmVudCB9ID0gbztcclxuICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQudHJhdmVyc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQudHJhdmVyc2UoY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdG9wID0gY2FsbGJhY2soY29tcG9uZW50KVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdG9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgIH0gXHJcbiAgICB9XHJcblxyXG4gICAgc2V0U2Nyb2xsWU9mZmVyKHNjcm9sbFlPZmZlcikge1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsWU9mZnNldCA9IHNjcm9sbFlPZmZlcjtcclxuXHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKCh7IGNvbXBvbmVudCB9KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBTY3JvbGxCYXIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgeyB0b3AgfSA9IGNvbXBvbmVudC5pbml0aWFsQm91bmRpbmdDbGllbnRSZWN0OyBcclxuICAgICAgICAgICAgY29tcG9uZW50LnNldEJvdW5kaW5nQ2xpZW50UmVjdCh0b3AgKyBzY3JvbGxZT2ZmZXIpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgYmFja2dyb3VuZEltYWdlID0gdGhpcy5nZXRCYWNrZ3JvdW5kSW1hZ2UoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChiYWNrZ3JvdW5kSW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZS5zZXRTY3JvbGxZT2ZmZXIoYmFja2dyb3VuZEltYWdlLnkgKyBzY3JvbGxZT2ZmZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBzZXRTY3JvbGxYT2ZmZXIoc2Nyb2xsWE9mZmVyKSB7XHJcbiAgICAgICAgdGhpcy5zY3JvbGxYT2Zmc2V0ID0gc2Nyb2xsWE9mZmVyO1xyXG5cclxuICAgICAgICB0aGlzLmNoaWxkcmVuLmZvckVhY2goKHsgY29tcG9uZW50IH0pID0+IHtcclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIFNjcm9sbEJhcikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCB7IGxlZnQgfSA9IGNvbXBvbmVudC5pbml0aWFsQm91bmRpbmdDbGllbnRSZWN0OyBcclxuICAgICAgICAgICAgY29tcG9uZW50LnNldEJvdW5kaW5nQ2xpZW50UmVjdCh1bmRlZmluZWQsIGxlZnQgKyBzY3JvbGxYT2ZmZXIpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgYmFja2dyb3VuZEltYWdlID0gdGhpcy5nZXRCYWNrZ3JvdW5kSW1hZ2UoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChiYWNrZ3JvdW5kSW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZS5zZXRTY3JvbGxYT2ZmZXIoYmFja2dyb3VuZEltYWdlLnggKyBzY3JvbGxYT2ZmZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuXHJcbiAgICBjYWxjdWxhdGVUb3RhbFdpZHRoQ29tcG9uZW50KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBtYXhDb21wb25lbnQgPSB0aGlzLmNoaWxkcmVuWzBdLmNvbXBvbmVudDtcclxuICAgICAgICBjb25zdCB7IGxlZnQsIHdpZHRoIH0gPSBtYXhDb21wb25lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgICAgIGxldCBtYXggPSBsZWZ0ICsgd2lkdGg7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSB0aGlzLmNoaWxkcmVuW2ldLmNvbXBvbmVudDtcclxuICAgICAgICAgICAgbGV0IHsgbGVmdCwgd2lkdGggfSA9IGNvbXBvbmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChsZWZ0ICsgd2lkdGggPiBtYXgpIHtcclxuICAgICAgICAgICAgICAgbWF4ID0gbGVmdCArIHdpZHRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbWF4O1xyXG4gICAgfSBcclxuXHJcbiAgICBjYWxjdWxhdGVUb3RhbEhlaWdodENvbXBvbmVudCgpIHtcclxuICAgICAgICBpZiAodGhpcy5jaGlsZHJlbi5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgbWF4Q29tcG9uZW50ID0gdGhpcy5jaGlsZHJlblswXS5jb21wb25lbnQ7XHJcbiAgICAgICAgY29uc3QgeyB0b3AsIGhlaWdodCB9ID0gbWF4Q29tcG9uZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgICAgICBsZXQgbWF4ID0gdG9wICsgaGVpZ2h0O1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgY29tcG9uZW50ID0gdGhpcy5jaGlsZHJlbltpXS5jb21wb25lbnQ7XHJcbiAgICAgICAgICAgIGxldCB7IHRvcCwgaGVpZ2h0IH0gPSBjb21wb25lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAodG9wICsgaGVpZ2h0ID4gbWF4KSB7XHJcbiAgICAgICAgICAgICAgIG1heCA9IHRvcCArIGhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG1heDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRBYnNvbHV0ZUNvb3JkKCkge1xyXG4gICAgICAgIGxldCBwYXJlbnQgPSB0aGlzLmdldFBhcmVudENvbXBvbmVudCgpO1xyXG4gICAgICAgIGxldCB7IHRvcCwgbGVmdCB9ID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgICAgd2hpbGUgKHBhcmVudCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25zdCB7IHRvcDogcGFyZW50VG9wLCBsZWZ0OiBwYXJlbnRMZWZ0IH0gPSBwYXJlbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRvcCArPSBwYXJlbnRUb3A7XHJcbiAgICAgICAgICAgIGxlZnQgKz0gcGFyZW50TGVmdDtcclxuXHJcbiAgICAgICAgICAgIHBhcmVudCA9IHBhcmVudC5nZXRQYXJlbnRDb21wb25lbnQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRvcCxcclxuICAgICAgICAgICAgbGVmdFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjaGVja0ZvckNvbGxpc2lvbihvYmplY3RNZXRyaWMpIHtcclxuICAgICAgICBjb25zdCBlbGVtZW50SW5zaWRlID0gW107XHJcbiAgICAgICAgbGV0IGJpZ2dlc3REZXB0aCA9IDE7XHJcblxyXG4gICAgICAgIHRoaXMudHJhdmVyc2UoKG8pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBvLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICBjb25zdCB7IHRvcDogYWJzb2x1dGVUb3AsIGxlZnQ6IGFic29sdXRlTGVmdCB9ID0gby5nZXRBYnNvbHV0ZUNvb3JkKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9Db29yZCA9IHtcclxuICAgICAgICAgICAgICAgIHRvcDogYWJzb2x1dGVUb3AsXHJcbiAgICAgICAgICAgICAgICBsZWZ0OiBhYnNvbHV0ZUxlZnQsXHJcbiAgICAgICAgICAgICAgICB3aWR0aCxcclxuICAgICAgICAgICAgICAgIGhlaWdodFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgbGV0IGRlcHRoID0gMTtcclxuXHJcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSBvLmdldFBhcmVudENvbXBvbmVudCgpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcGFyZW50T3ZlcmZsb3cgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIHdoaWxlIChwYXJlbnQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGRlcHRoICs9IDE7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudC5nZXRPdmVyZmxvdygpID09PSAnc2Nyb2xsJyB8fCBwYXJlbnQuZ2V0T3ZlcmZsb3coKSA9PT0gJ292ZXJmbG93Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudE92ZXJmbG93LnB1c2gocGFyZW50KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQuZ2V0UGFyZW50Q29tcG9uZW50KCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChwYXJlbnRPdmVyZmxvdy5sZW5ndGggIT09IDApIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyZW50T3ZlcmZsb3cubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHRvcDogcGFyZW50VG9wLCBsZWZ0OiBwYXJlbnRMZWZ0IH0gPSBwYXJlbnRPdmVyZmxvd1tpXS5nZXRBYnNvbHV0ZUNvb3JkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBwYXJlbnRPdmVyZmxvd1tpXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvLmNvbGxpc2lvbi5pc0luc2lkZShcclxuICAgICAgICAgICAgICAgICAgICAgICAgb0Nvb3JkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHBhcmVudFRvcCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHBhcmVudExlZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5jb2xsaXNpb24uaXNJbnNpZGUob0Nvb3JkLCBvYmplY3RNZXRyaWMpKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50SW5zaWRlLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIG8sXHJcbiAgICAgICAgICAgICAgICAgICAgZGVwdGhcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkZXB0aCA+IGJpZ2dlc3REZXB0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJpZ2dlc3REZXB0aCA9IGRlcHRoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChlbGVtZW50SW5zaWRlLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudEluc2lkZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBTY3JvbGxCYXIgZXh0ZW5kcyBDb21wb3NpdGVDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3Iob3JpZW50YXRpb24sIGNoaWxkV2lkdGgsIHBhcmVudENvbXBvbmVudCkge1xyXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IDE3O1xyXG5cclxuICAgICAgICBsZXQgcGFyZW50V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgICAgICBsZXQgcGFyZW50SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xyXG5cclxuICAgICAgICBpZiAocGFyZW50Q29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgICh7IHdpZHRoOiBwYXJlbnRXaWR0aCwgaGVpZ2h0OiBwYXJlbnRIZWlnaHQgfSA9IHBhcmVudENvbXBvbmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgd2lkdGg7XHJcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSAndmVydGljYWwnKSB7ICBcclxuICAgICAgICAgICAgd2lkdGggPSBwYXJlbnRIZWlnaHQ7IFxyXG4gICAgICAgICAgICBzdXBlcigwLCBwYXJlbnRXaWR0aCAtIGhlaWdodCwgaGVpZ2h0LCB3aWR0aCwgcGFyZW50Q29tcG9uZW50KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3aWR0aCA9IHBhcmVudFdpZHRoOyBcclxuICAgICAgICAgICAgc3VwZXIocGFyZW50SGVpZ2h0IC0gaGVpZ2h0LCAwLCB3aWR0aCwgaGVpZ2h0LCBwYXJlbnRDb21wb25lbnQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5wcmV2QnV0dG9uSGFuZGxlciA9IHRoaXMucHJldkJ1dHRvbkhhbmRsZXIuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm5leHRCdXR0b25IYW5kbGVyID0gdGhpcy5uZXh0QnV0dG9uSGFuZGxlci5iaW5kKHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLmNoaWxkV2lkdGggPSBjaGlsZFdpZHRoO1xyXG4gICAgICAgIHRoaXMub3JpZW50YXRpb24gPSBvcmllbnRhdGlvbjtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRCYWNrZ3JvdW5kQ29sb3IoJyNGMUYxRjEnKTtcclxuXHJcbiAgICAgICAgY29uc3QgeyBwcmV2QnV0dG9uLCBuZXh0QnV0dG9uIH0gPSB0aGlzLmNyZWF0ZVNjcm9sbEJ1dHRvbnMob3JpZW50YXRpb24sIHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJ0T2ZQYXJlbnQgPSBwYXJlbnRIZWlnaHQgLyBjaGlsZFdpZHRoO1xyXG4gICAgICAgICAgICB0aGlzLnBhckFuZENoaWxkRGlmID0gY2hpbGRXaWR0aCAtIHBhcmVudEhlaWdodDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBhcnRPZlBhcmVudCA9IHBhcmVudFdpZHRoIC8gY2hpbGRXaWR0aDtcclxuICAgICAgICAgICAgdGhpcy5wYXJBbmRDaGlsZERpZiA9IGNoaWxkV2lkdGggLSBwYXJlbnRXaWR0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2Nyb2xsID0gdGhpcy5jcmVhdGVTY3JvbGwob3JpZW50YXRpb24sIHdpZHRoLCBoZWlnaHQsIHRoaXMucGFydE9mUGFyZW50KTtcclxuXHJcbiAgICAgICAgdGhpcy5jdXJyZW50Q2hpbGRQb3MgPSAwO1xyXG4gICAgICAgIHRoaXMucGFydCA9IDEwIC8gdGhpcy5zY3JvbGxQb3NNYXg7XHJcblxyXG4gICAgICAgIHRoaXMuc2Nyb2xsUG9zID0gMDtcclxuXHJcbiAgICAgICAgcHJldkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKGV2ZW50cy5NT1VTRS5NT1VTRV9ET1dOLCB0aGlzLnByZXZCdXR0b25IYW5kbGVyKTtcclxuICAgICAgICBuZXh0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLk1PVVNFLk1PVVNFX0RPV04sIHRoaXMubmV4dEJ1dHRvbkhhbmRsZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZXZCdXR0b25IYW5kbGVyKGUpIHtcclxuICAgICAgICBjb25zdCBwYXJlbnRDb21wb25lbnQgPSB0aGlzLmdldFBhcmVudENvbXBvbmVudCgpO1xyXG4gICAgICAgIGNvbnN0IHNjcm9sbCA9IHRoaXMuc2Nyb2xsO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zY3JvbGxQb3MgKyAxMCA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxQb3MgKz0gMTA7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudENoaWxkUG9zICs9IHRoaXMucGFydCAqIHRoaXMucGFyQW5kQ2hpbGREaWY7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zY3JvbGxQb3MgPSAwO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDaGlsZFBvcyA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5vcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJykge1xyXG4gICAgICAgICAgICBzY3JvbGwuc2V0Qm91bmRpbmdDbGllbnRSZWN0KC10aGlzLnNjcm9sbFBvcyk7XHJcbiAgICAgICAgICAgIHBhcmVudENvbXBvbmVudC5zZXRTY3JvbGxZT2ZmZXIoTWF0aC5yb3VuZCh0aGlzLmN1cnJlbnRDaGlsZFBvcykpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNjcm9sbC5zZXRCb3VuZGluZ0NsaWVudFJlY3QodW5kZWZpbmVkLCAtdGhpcy5zY3JvbGxQb3MpO1xyXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQuc2V0U2Nyb2xsWE9mZmVyKE1hdGgucm91bmQodGhpcy5jdXJyZW50Q2hpbGRQb3MpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgbmV4dEJ1dHRvbkhhbmRsZXIoZSkge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudENvbXBvbmVudCA9IHRoaXMuZ2V0UGFyZW50Q29tcG9uZW50KCk7XHJcbiAgICAgICAgY29uc3Qgc2Nyb2xsID0gdGhpcy5zY3JvbGw7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNjcm9sbFBvcyAtIDEwID4gLXRoaXMuc2Nyb2xsUG9zTWF4KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsUG9zIC09IDEwO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDaGlsZFBvcyAtPSB0aGlzLnBhcnQgKiB0aGlzLnBhckFuZENoaWxkRGlmO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsUG9zID0gLXRoaXMuc2Nyb2xsUG9zTWF4O1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDaGlsZFBvcyA9IC10aGlzLnBhckFuZENoaWxkRGlmO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMub3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcclxuICAgICAgICAgICAgc2Nyb2xsLnNldEJvdW5kaW5nQ2xpZW50UmVjdCgtdGhpcy5zY3JvbGxQb3MpO1xyXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnQuc2V0U2Nyb2xsWU9mZmVyKE1hdGgucm91bmQodGhpcy5jdXJyZW50Q2hpbGRQb3MpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzY3JvbGwuc2V0Qm91bmRpbmdDbGllbnRSZWN0KHVuZGVmaW5lZCwgLXRoaXMuc2Nyb2xsUG9zKTtcclxuICAgICAgICAgICAgcGFyZW50Q29tcG9uZW50LnNldFNjcm9sbFhPZmZlcihNYXRoLnJvdW5kKHRoaXMuY3VycmVudENoaWxkUG9zKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFNjcm9sbEJ1dHRvbnNDaGFyKG9yaWVudGF0aW9uKSB7XHJcbiAgICAgICAgbGV0IHByZXZCdXR0b25UZXh0ID0gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludCgnMjVjNCcsIDE2KSk7XHJcbiAgICAgICAgbGV0IG5leHRCdXR0b25UZXh0ID0gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludCgnMjViYScsIDE2KSk7XHJcblxyXG4gICAgICAgIGlmIChvcmllbnRhdGlvbiA9PT0gJ3ZlcnRpY2FsJykge1xyXG4gICAgICAgICAgICBwcmV2QnV0dG9uVGV4dCA9IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoJzI1YjInLCAxNikpO1xyXG4gICAgICAgICAgICBuZXh0QnV0dG9uVGV4dCA9IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoJzI1YmMnLCAxNikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcHJldkJ1dHRvblRleHQsXHJcbiAgICAgICAgICAgIG5leHRCdXR0b25UZXh0XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZVNjcm9sbChvcmllbnRhdGlvbiwgd2lkdGgsIGhlaWdodCwgcGFydE9mUGFyZW50KSB7XHJcbiAgICAgICAgbGV0IHNjcm9sbEJhY2tncm91bmQ7XHJcblxyXG4gICAgICAgIGNvbnN0IHNjcm9sbEJhY2tncm91bmRXaWR0aCA9IHdpZHRoIC0gMyAqIGhlaWdodDtcclxuXHJcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSAndmVydGljYWwnKSB7XHJcbiAgICAgICAgICAgIHNjcm9sbEJhY2tncm91bmQgPSBuZXcgQ29tcG9zaXRlQ29tcG9uZW50KGhlaWdodCwgMCwgaGVpZ2h0LCBzY3JvbGxCYWNrZ3JvdW5kV2lkdGgsIHRoaXMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNjcm9sbEJhY2tncm91bmQgPSBuZXcgQ29tcG9zaXRlQ29tcG9uZW50KDAsIGhlaWdodCwgc2Nyb2xsQmFja2dyb3VuZFdpZHRoLCBoZWlnaHQsIHRoaXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHNjcm9sbDtcclxuXHJcbiAgICAgICAgaWYgKG9yaWVudGF0aW9uID09PSAndmVydGljYWwnKSB7XHJcbiAgICAgICAgICAgIHNjcm9sbCA9IG5ldyBDb21wb25lbnQoMCwgMiwgaGVpZ2h0IC0gNCwgTWF0aC5mbG9vcihwYXJ0T2ZQYXJlbnQgKiAoc2Nyb2xsQmFja2dyb3VuZFdpZHRoKSksIHNjcm9sbEJhY2tncm91bmQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNjcm9sbCA9IG5ldyBDb21wb25lbnQoMiwgMCwgTWF0aC5mbG9vcihwYXJ0T2ZQYXJlbnQgKiAoc2Nyb2xsQmFja2dyb3VuZFdpZHRoKSksIGhlaWdodCAtIDQsIHNjcm9sbEJhY2tncm91bmQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2Nyb2xsLnNldEJhY2tncm91bmRDb2xvcignI0MxQzFDMScpO1xyXG5cclxuICAgICAgICB0aGlzLnNjcm9sbFBvc01heCA9IHNjcm9sbEJhY2tncm91bmRXaWR0aCAtIE1hdGguZmxvb3IocGFydE9mUGFyZW50ICogKHNjcm9sbEJhY2tncm91bmRXaWR0aCkpO1xyXG5cclxuICAgICAgICByZXR1cm4gc2Nyb2xsO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZVNjcm9sbEJ1dHRvbnMob3JpZW50YXRpb24sIHdpZHRoLCBoZWlnaHQpIHtcclxuICAgICAgICBsZXQgeyBwcmV2QnV0dG9uVGV4dCwgbmV4dEJ1dHRvblRleHQgfSA9IHRoaXMuZ2V0U2Nyb2xsQnV0dG9uc0NoYXIob3JpZW50YXRpb24pO1xyXG5cclxuICAgICAgICBsZXQgbmV4dEJ1dHRvbjtcclxuICAgICAgICBjb25zdCBwcmV2QnV0dG9uID0gbmV3IEJ1dHRvbigwLCAwLCBoZWlnaHQsIGhlaWdodCwgcHJldkJ1dHRvblRleHQsIHRoaXMpO1xyXG5cclxuICAgICAgICBpZiAob3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcclxuICAgICAgICAgICAgbmV4dEJ1dHRvbiA9IG5ldyBCdXR0b24od2lkdGggLSAyICogaGVpZ2h0LCAwLCBoZWlnaHQsIGhlaWdodCwgbmV4dEJ1dHRvblRleHQsIHRoaXMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5leHRCdXR0b24gPSBuZXcgQnV0dG9uKDAsIHdpZHRoIC0gMiAqIGhlaWdodCwgaGVpZ2h0LCBoZWlnaHQsIG5leHRCdXR0b25UZXh0LCB0aGlzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHByZXZCdXR0b24uc2V0QmFja2dyb3VuZENvbG9yKCcjRjFGMUYxJyk7XHJcbiAgICAgICAgbmV4dEJ1dHRvbi5zZXRCYWNrZ3JvdW5kQ29sb3IoJyNGMUYxRjEnKTtcclxuXHJcbiAgICAgICAgcHJldkJ1dHRvbi5ob3ZlclByb3BlcnRpZXMuY29sb3IuYmFja2dyb3VuZENvbG9yID0gJyNEMkQyRDInO1xyXG4gICAgICAgIG5leHRCdXR0b24uaG92ZXJQcm9wZXJ0aWVzLmNvbG9yLmJhY2tncm91bmRDb2xvciA9ICcjRDJEMkQyJztcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcHJldkJ1dHRvbixcclxuICAgICAgICAgICAgbmV4dEJ1dHRvblxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBCdXR0b24gZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IodG9wID0gMCwgbGVmdCA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgdGV4dCA9ICcnLCBwYXJlbnRDb21wb25lbnQgPSBudWxsKSB7XHJcbiAgICAgICAgc3VwZXIodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0LCBwYXJlbnRDb21wb25lbnQpO1xyXG5cclxuICAgICAgICBjb25zdCB0ZXh0SGVpZ2h0ID0gMTY7XHJcblxyXG4gICAgICAgIGNvbnN0IHRleHRXaWR0aCA9IGdldFRleHRXaWR0aFdpdGhDYW52YXModGV4dCwgJ21vbm9zcGFjZScsIHRleHRIZWlnaHQpXHJcblxyXG4gICAgICAgIHRoaXMubGFiZWwgPSBuZXcgTGFiZWwoTWF0aC5mbG9vcihoZWlnaHQgLyAyKSAtIHRleHRIZWlnaHQgLyAyLCBNYXRoLmZsb29yKHdpZHRoIC8gMikgLSBNYXRoLmZsb29yKHRleHRXaWR0aCAvIDIpLCB0ZXh0V2lkdGggKyAxLCB0ZXh0SGVpZ2h0LCB0ZXh0KTtcclxuICAgICAgICB0aGlzLnByb3BlcnRpZXMuY3Vyc29yID0gJ3BvaW50ZXInO1xyXG4gICAgfVxyXG5cclxuICAgIHBhaW50Q29tcG9uZW50KGNvbnRleHQsIGVsYXBzZWRUaW1lKSB7IFxyXG4gICAgICAgIHN1cGVyLnBhaW50Q29tcG9uZW50KGNvbnRleHQsIGVsYXBzZWRUaW1lKTtcclxuXHJcbiAgICAgICAgY29uc3QgeyB0b3AsIGxlZnQgfSA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgIFxyXG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG5cclxuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShsZWZ0LCB0b3ApO1xyXG5cclxuICAgICAgICB0aGlzLmxhYmVsLmRyYXcoY29udGV4dCwgZWxhcHNlZFRpbWUpO1xyXG5cclxuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBtZXJnZSB9IGZyb20gJ2xvZGFzaCc7XHJcblxyXG5pbXBvcnQgZXZlbnRzIGZyb20gJy4uLy4uL2V2ZW50L2V2ZW50cy9ldmVudHMnO1xyXG5pbXBvcnQgQ3Vyc29yIGZyb20gJy4uL0N1cnNvcic7XHJcblxyXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuL0NvbXBvbmVudCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMYWJlbCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0b3AgPSAwLCBsZWZ0ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwLCB0ZXh0ID0gJycsIHBhcmVudENvbXBvbmVudCA9IG51bGwpIHtcclxuICAgICAgICBzdXBlcih0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQsIHBhcmVudENvbXBvbmVudCk7XHJcblxyXG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XHJcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzLmNvbG9yLnRleHRDb2xvciA9ICcjMDAwMDAwJztcclxuICAgICAgICB0aGlzLnByb3BlcnRpZXMudGV4dFByb3BlcnRpZXMgPSB7XHJcbiAgICAgICAgICAgIHRleHRBbGlnbjogJ2xlZnQnLFxyXG4gICAgICAgICAgICB0ZXh0QmFzZWxpbmU6ICd0b3AnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogMTYsXHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdtb25vc3BhY2UnXHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLm1heFRleHRMZW5ndGggPSAnaW5maW5pdGUnO1xyXG5cclxuICAgICAgICB0aGlzLmVkaXRhYmxlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuaGFuZGxlcnMuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMuTU9VU0UuTU9VU0VfRE9XTiwgdGhpcy5oYW5kbGVNb3VzZURvd24pO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlcnMuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMuS0VZQk9BUkQuS0VZX1BSRVNTLCB0aGlzLmhhbmRsZUtleVByZXNzKTtcclxuICAgICAgICB0aGlzLmhhbmRsZXJzLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLktFWUJPQVJELktFWV9ET1dOLCB0aGlzLmhhbmRsZUtleURvd24pO1xyXG5cclxuICAgICAgICB0aGlzLmxpbmVzTWV0cmljID0gW107XHJcbiAgICAgICAgdGhpcy50ZXh0TGluZXMgPSBbXTtcclxuXHJcbiAgICAgICAgdGhpcy5jdXJzb3JQb3NpdGlvbiA9IHtcclxuICAgICAgICAgICAgcm93OiAwLFxyXG4gICAgICAgICAgICBjb2x1bW46IDAsXHJcbiAgICAgICAgICAgIGluZGV4OiAwXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzLmN1cnNvciA9ICd0ZXh0JztcclxuXHJcbiAgICAgICAgbWVyZ2UodGhpcy5hbmltYXRpb25zLmFuaW1hdGVkUHJvcGVydGllcywgdGhpcy5wcm9wZXJ0aWVzKTtcclxuICAgICAgICBtZXJnZSh0aGlzLmhvdmVyUHJvcGVydGllcywgdGhpcy5wcm9wZXJ0aWVzKTtcclxuXHJcbiAgICAgICAgdGhpcy5uZWVkZWRUb1JlY2FsY3VsYXRlID0ge1xyXG4gICAgICAgICAgICBuZWVkZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIHJvdzogMCxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmN1cnNvciA9IG5ldyBDdXJzb3IoMCwgMCwgMSwgdGhpcy5wcm9wZXJ0aWVzLnRleHRQcm9wZXJ0aWVzLmZvbnRTaXplKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGVja0NvbGxpc2lvbldpdGhHbHlwaHModG9wT2Zmc2V0LCBsZWZ0T2Zmc2V0LCBtb3VzZUNvb3JkKSB7XHJcbiAgICAgICAgbGV0IGlzSW5zaWRlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5nbHlwaFBvc2l0aW9uLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpbmUgPSB0aGlzLmdseXBoUG9zaXRpb25baV07XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGluZS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeyB0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQgfSA9IGxpbmVbal07XHJcblxyXG4gICAgICAgICAgICAgICAgaXNJbnNpZGUgPSB0aGlzLmNvbGxpc2lvbi5pc0luc2lkZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdG9wICsgdG9wT2Zmc2V0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBsZWZ0ICsgbGVmdE9mZnNldCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbW91c2VDb29yZFxyXG4gICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoaXNJbnNpZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3AsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdzogaSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uOiBqLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogdGhpcy50ZXh0TGluZXNbaV0uc3RhcnRPZkxpbmUgKyBqXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tDb2xsaXNpb25XaXRoTGluZXModG9wT2Zmc2V0LCBsZWZ0T2Zmc2V0LCBtb3VzZUNvb3JkKSB7XHJcbiAgICAgICAgbGV0IGlzSW5zaWRlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5saW5lc01ldHJpYy5sZW5ndGg7IGkrKykgeyBcclxuICAgICAgICAgICAgY29uc3QgeyB0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMubGluZXNNZXRyaWNbaV07XHJcblxyXG4gICAgICAgICAgICBpc0luc2lkZSA9IHRoaXMuY29sbGlzaW9uLmlzSW5zaWRlKHtcclxuICAgICAgICAgICAgICAgICAgICB0b3A6IHRvcCArIHRvcE9mZnNldCxcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBsZWZ0ICsgbGVmdE9mZnNldCxcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHRcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBtb3VzZUNvb3JkXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBpZiAoaXNJbnNpZGUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9wLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvdzogaSxcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW46IHRoaXMuZ2x5cGhQb3NpdGlvbltpXS5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IHRoaXMudGV4dExpbmVzW2ldLnN0YXJ0T2ZMaW5lICsgdGhpcy5nbHlwaFBvc2l0aW9uW2ldLmxlbmd0aFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgaGFuZGxlTW91c2VEb3duKGUpIHtcclxuICAgICAgICBpZiAoZS50YXJnZXQuZWRpdGFibGUpIHtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XHJcblxyXG4gICAgICAgICAgICBpZiAodGFyZ2V0LnRleHQgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuY3Vyc29yLnNldFBvc2l0aW9uKDAsIDApO1xyXG5cclxuICAgICAgICAgICAgICAgIHRhcmdldC5jdXJzb3JQb3NpdGlvbiA9IHtcclxuICAgICAgICAgICAgICAgICAgICByb3c6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiAwXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgbW91c2VDb29yZCA9IHtcclxuICAgICAgICAgICAgICAgIHRvcDogZS5wYXlsb2FkLm1vdXNlQ29vcmQudG9wLFxyXG4gICAgICAgICAgICAgICAgbGVmdDogZS5wYXlsb2FkLm1vdXNlQ29vcmQubGVmdCxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAxLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAxXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBjb25zdCB7IHRvcDogdG9wT2Zmc2V0LCBsZWZ0OiBsZWZ0T2Zmc2V0IH0gPSB0YXJnZXQuZ2V0QWJzb2x1dGVDb29yZCgpO1xyXG4gICAgICAgICAgICBjb25zdCBnbHlwaEluZm8gPSB0YXJnZXQuY2hlY2tDb2xsaXNpb25XaXRoR2x5cGhzKHRvcE9mZnNldCwgbGVmdE9mZnNldCwgbW91c2VDb29yZCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZ2x5cGhJbmZvICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHRvcCwgbGVmdCwgcm93LCBjb2x1bW4sIGluZGV4IH0gPSBnbHlwaEluZm87XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuY3Vyc29yLnNldFBvc2l0aW9uKHRvcCwgbGVmdCk7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuY3Vyc29yUG9zaXRpb24gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbixcclxuICAgICAgICAgICAgICAgICAgICBpbmRleFxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGxpbmVJbmZvID0gdGFyZ2V0LmNoZWNrQ29sbGlzaW9uV2l0aExpbmVzKHRvcE9mZnNldCwgbGVmdE9mZnNldCwgbW91c2VDb29yZCk7XHJcblxyXG4gICAgICAgICAgICBpZiAobGluZUluZm8gIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgdG9wLCB3aWR0aCwgcm93LCBjb2x1bW4sIGluZGV4IH0gPSBsaW5lSW5mbztcclxuICAgICAgICAgICAgICAgIHRhcmdldC5jdXJzb3Iuc2V0UG9zaXRpb24odG9wLCB3aWR0aCk7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuY3Vyc29yUG9zaXRpb24gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm93LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbixcclxuICAgICAgICAgICAgICAgICAgICBpbmRleFxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHsgdG9wLCB3aWR0aCB9ID0gdGFyZ2V0LmxpbmVzTWV0cmljW3RhcmdldC5saW5lc01ldHJpYy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgdGFyZ2V0LmN1cnNvci5zZXRQb3NpdGlvbih0b3AsIHdpZHRoKTtcclxuXHJcbiAgICAgICAgICAgIHRhcmdldC5jdXJzb3JQb3NpdGlvbiA9IHtcclxuICAgICAgICAgICAgICAgIHJvdzogdGFyZ2V0LmxpbmVzTWV0cmljLmxlbmd0aCAtIDEsXHJcbiAgICAgICAgICAgICAgICBjb2x1bW46IHRhcmdldC5nbHlwaFBvc2l0aW9uW3RhcmdldC5nbHlwaFBvc2l0aW9uLmxlbmd0aCAtIDFdLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgIGluZGV4OiB0YXJnZXQudGV4dExpbmVzW3RhcmdldC5nbHlwaFBvc2l0aW9uLmxlbmd0aCAtIDFdLnN0YXJ0T2ZMaW5lICsgdGFyZ2V0LmdseXBoUG9zaXRpb25bdGFyZ2V0LmdseXBoUG9zaXRpb24ubGVuZ3RoIC0gMV0ubGVuZ3RoXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUtleVByZXNzKGUpIHtcclxuICAgICAgICBpZiAoZS50YXJnZXQuZWRpdGFibGUpIHtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRhcmdldC5tYXhUZXh0TGVuZ3RoID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC50ZXh0Lmxlbmd0aCA+PSB0YXJnZXQubWF4VGV4dExlbmd0aCkgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZS5wYXlsb2FkLmtleSA9PT0gJ0RlbGV0ZScpIHJldHVybjtcclxuICAgICAgICAgICAgaWYgKGUucGF5bG9hZC5rZXkgPT09ICdCYWNrc3BhY2UnKSByZXR1cm47XHJcbiAgICAgICAgICAgIGlmIChlLnBheWxvYWQua2V5ID09PSAnRW50ZXInKSByZXR1cm47XHJcbiAgICAgXHJcbiAgICAgICAgICAgIHRhcmdldC50ZXh0ID0gdGFyZ2V0Lmluc2VydEdseXBoKGUucGF5bG9hZC5rZXksIHRhcmdldC5jdXJzb3JQb3NpdGlvbi5pbmRleCwgdGFyZ2V0LnRleHQpO1xyXG4gICAgICAgICAgICB0YXJnZXQuY3Vyc29yUG9zaXRpb24uaW5kZXggKz0gMTtcclxuICAgIFxyXG4gICAgICAgICAgICB0YXJnZXQubmVlZGVkVG9SZWNhbGN1bGF0ZS5uZWVkZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVLZXlEb3duKGUpIHtcclxuICAgICAgICBpZiAoZS50YXJnZXQuZWRpdGFibGUpIHtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XHJcbiAgICAgICAgICAgIGxldCBrZXkgPSBlLnBheWxvYWQua2V5O1xyXG4gICAgICAgICAgICBsZXQgaW5kZXggPSB0YXJnZXQuY3Vyc29yUG9zaXRpb24uaW5kZXg7XHJcblxyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAnRGVsZXRlJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IHRhcmdldC50ZXh0Lmxlbmd0aCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIHRhcmdldC50ZXh0ID0gdGFyZ2V0LmRlbGV0ZUdseXBoKGluZGV4LCB0YXJnZXQudGV4dCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnQmFja3NwYWNlJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LnRleHQgPSB0YXJnZXQuZGVsZXRlR2x5cGgoaW5kZXggLSAxLCB0YXJnZXQudGV4dCk7XHJcbiAgICAgICAgICAgICAgICBpbmRleCAtPSAxO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJyAnKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQuaGFuZGxlS2V5UHJlc3MoZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnQXJyb3dSaWdodCcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSB0YXJnZXQudGV4dC5sZW5ndGgpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBpbmRleCArPSAxO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ0Fycm93TGVmdCcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGluZGV4IC09IDE7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnQXJyb3dVcCcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZMaW5lTGVuZ3RoID0gKHRhcmdldC50ZXh0TGluZXNbdGFyZ2V0LmN1cnNvclBvc2l0aW9uLnJvdyAtIDFdICYmIHRhcmdldC50ZXh0TGluZXNbdGFyZ2V0LmN1cnNvclBvc2l0aW9uLnJvdyAtIDFdLmxpbmUubGVuZ3RoKSB8fCAtMTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRMaW5lTGVuZ3RoID0gdGFyZ2V0LnRleHRMaW5lc1t0YXJnZXQuY3Vyc29yUG9zaXRpb24ucm93XS5saW5lLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgICBpbmRleCAtPSBNYXRoLm1heChwcmV2TGluZUxlbmd0aCwgY3VycmVudExpbmVMZW5ndGgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnQXJyb3dEb3duJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IHRhcmdldC50ZXh0Lmxlbmd0aCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRMaW5lTGVuZ3RoID0gdGFyZ2V0LnRleHRMaW5lc1t0YXJnZXQuY3Vyc29yUG9zaXRpb24ucm93XS5saW5lLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5leHRMaW5lTGVuZ3RoID0gKHRhcmdldC50ZXh0TGluZXNbdGFyZ2V0LmN1cnNvclBvc2l0aW9uLnJvdyArIDFdICYmIHRhcmdldC50ZXh0TGluZXNbdGFyZ2V0LmN1cnNvclBvc2l0aW9uLnJvdyArIDFdLmxpbmUubGVuZ3RoKSB8fCAtMTtcclxuXHJcbiAgICAgICAgICAgICAgICBpbmRleCArPSBNYXRoLm1heChjdXJyZW50TGluZUxlbmd0aCwgbmV4dExpbmVMZW5ndGgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSB0YXJnZXQudGV4dC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IHRhcmdldC50ZXh0Lmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGFyZ2V0LmN1cnNvclBvc2l0aW9uLmluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgIHRhcmdldC5uZWVkZWRUb1JlY2FsY3VsYXRlLm5lZWRlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUdseXBoKGluZGV4LCBzdHJpbmcpIHtcclxuICAgICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKDAsIGluZGV4KSArIHN0cmluZy5zbGljZShpbmRleCArIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIGluc2VydEdseXBoKGtleSwgaW5kZXgsIHN0cmluZykge1xyXG4gICAgICAgIGlmIChpbmRleCA+PSBzdHJpbmcubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmcgKyBrZXk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGtleSArIHN0cmluZztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzdHJpbmcuc2xpY2UoMCwgaW5kZXgpICsga2V5ICsgc3RyaW5nLnNsaWNlKGluZGV4KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRUZXh0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRleHQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VGV4dCh0ZXh0ID0gJycpIHtcclxuICAgICAgICB0aGlzLm5lZWRlZFRvUmVjYWxjdWxhdGUubmVlZGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xyXG4gICAgfVxyXG5cclxuICAgIHNldEZvbnRTaXplKGZvbnRTaXplID0gMTYpIHtcclxuICAgICAgICB0aGlzLnByb3BlcnRpZXMudGV4dFByb3BlcnRpZXMuZm9udFNpemUgPSBmb250U2l6ZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRUZXh0Q29sb3IoY29sb3IgPSAnIzAwMDAwMCcpIHtcclxuICAgICAgICB0aGlzLnByb3BlcnRpZXMuY29sb3IudGV4dENvbG9yID0gY29sb3I7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Rm9udChmb250KSB7XHJcbiAgICAgICAgdGhpcy50ZXh0UHJvcGVydGllcy5mb250ID0gZm9udDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRDdXJzb3JQb3NpdGlvbkZyb20yRChyb3csIGNvbHVtbikge1xyXG4gICAgICAgIGlmICh0aGlzLmdseXBoUG9zaXRpb24ubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgICAgIGlmIChjb2x1bW4gPj0gdGhpcy5nbHlwaFBvc2l0aW9uW3Jvd10ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnNvci5zZXRQb3NpdGlvbih0aGlzLmdseXBoUG9zaXRpb25bcm93XVtjb2x1bW4gLSAxXS50b3AsIHRoaXMuZ2x5cGhQb3NpdGlvbltyb3ddW2NvbHVtbiAtIDFdLmxlZnQgKyB0aGlzLmdseXBoUG9zaXRpb25bcm93XVtjb2x1bW4gLSAxXS53aWR0aCk7ICBcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3Vyc29yLnNldFBvc2l0aW9uKHRoaXMuZ2x5cGhQb3NpdGlvbltyb3ddW2NvbHVtbl0udG9wLCB0aGlzLmdseXBoUG9zaXRpb25bcm93XVtjb2x1bW5dLmxlZnQpOyAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnNvci5zZXRQb3NpdGlvbigwLCAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Q29udGV4dFByb3BlcnRpZXMoY29udGV4dCwgZWxhcHNlZFRpbWUpIHtcclxuICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IHRoaXMuYW5pbWF0aW9ucy5hbmltYXRlZFByb3BlcnRpZXMuY29sb3IudGV4dENvbG9yO1xyXG4gICAgICAgIGNvbnRleHQuZm9udCA9IGAke3RoaXMuYW5pbWF0aW9ucy5hbmltYXRlZFByb3BlcnRpZXMudGV4dFByb3BlcnRpZXMuZm9udFNpemV9cHggJHt0aGlzLmFuaW1hdGlvbnMuYW5pbWF0ZWRQcm9wZXJ0aWVzLnRleHRQcm9wZXJ0aWVzLmZvbnRGYW1pbHl9YDtcclxuICAgICAgICBjb250ZXh0LnRleHRBbGlnbiA9IHRoaXMuYW5pbWF0aW9ucy5hbmltYXRlZFByb3BlcnRpZXMudGV4dFByb3BlcnRpZXMudGV4dEFsaWduO1xyXG4gICAgICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gdGhpcy5hbmltYXRpb25zLmFuaW1hdGVkUHJvcGVydGllcy50ZXh0UHJvcGVydGllcy50ZXh0QmFzZWxpbmU7ICAgICBcclxuXHJcbiAgICAgICAgc3VwZXIuc2V0Q29udGV4dFByb3BlcnRpZXMoY29udGV4dCwgZWxhcHNlZFRpbWUpXHJcbiAgICB9XHJcblxyXG4gICAgY2FsY3VsYXRlTGluZXMoY29udGV4dCkge1xyXG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgICAgICBjb25zdCBmb250U2l6ZSA9IHRoaXMuYW5pbWF0aW9ucy5hbmltYXRlZFByb3BlcnRpZXMudGV4dFByb3BlcnRpZXMuZm9udFNpemU7XHJcbiAgICAgICAgdGhpcy50ZXh0TGluZXMgPSBbXTtcclxuICAgICAgICB0aGlzLmxpbmVzTWV0cmljID0gW107XHJcblxyXG4gICAgICAgIGxldCBnbHlwaHMgPSB0aGlzLnRleHQuc3BsaXQoJycpO1xyXG5cclxuICAgICAgICBsZXQgbGluZVdpZHRoID0gMDtcclxuICAgICAgICBsZXQgZ2x5cGhXaWR0aCA9IDA7XHJcbiAgICAgICAgbGV0IHN0YXJ0T2ZMaW5lID0gMDtcclxuICAgICAgICBsZXQgbGluZSA9ICcnO1xyXG4gICAgICAgIGdseXBocy5mb3JFYWNoKChnbHlwaCkgPT4ge1xyXG4gICAgICAgICAgICBnbHlwaFdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dChnbHlwaCkud2lkdGg7XHJcblxyXG4gICAgICAgICAgICBpZiAobGluZVdpZHRoICsgZ2x5cGhXaWR0aCA8IHdpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICBsaW5lICs9IGdseXBoO1xyXG4gICAgICAgICAgICAgICAgbGluZVdpZHRoICs9IGdseXBoV2lkdGg7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmxpbmVzTWV0cmljLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdG9wOiB0aGlzLnRleHRMaW5lcy5sZW5ndGggKiBmb250U2l6ZSxcclxuICAgICAgICAgICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogbGluZVdpZHRoLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBmb250U2l6ZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dExpbmVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgc3RhcnRPZkxpbmUsXHJcbiAgICAgICAgICAgICAgICBsaW5lXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgc3RhcnRPZkxpbmUgKz0gbGluZS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICBnbHlwaFdpZHRoID0gY29udGV4dC5tZWFzdXJlVGV4dChnbHlwaCkud2lkdGg7XHJcbiAgICAgICAgICAgIGxpbmVXaWR0aCA9IGdseXBoV2lkdGg7XHJcbiAgICAgICAgICAgIGxpbmUgPSBnbHlwaDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKGxpbmUgIT09ICcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGluZXNNZXRyaWMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB0b3A6IHRoaXMudGV4dExpbmVzLmxlbmd0aCAqIGZvbnRTaXplLFxyXG4gICAgICAgICAgICAgICAgbGVmdDogMCxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiBjb250ZXh0Lm1lYXN1cmVUZXh0KGxpbmUpLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBmb250U2l6ZSxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRleHRMaW5lcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFydE9mTGluZSxcclxuICAgICAgICAgICAgICAgICAgICBsaW5lXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuY2FsY3VsYXRlR2x5cGhQb3NpdGlvbihjb250ZXh0KTtcclxuICAgIH1cclxuXHJcbiAgICBjYWxjdWxhdGVHbHlwaFBvc2l0aW9uKGNvbnRleHQpIHtcclxuICAgICAgICB0aGlzLmdseXBoUG9zaXRpb24gPSBbXTtcclxuXHJcbiAgICAgICAgY29uc3QgZm9udFNpemUgPSB0aGlzLmFuaW1hdGlvbnMuYW5pbWF0ZWRQcm9wZXJ0aWVzLnRleHRQcm9wZXJ0aWVzLmZvbnRTaXplO1xyXG4gICAgICAgIHRoaXMudGV4dExpbmVzLmZvckVhY2goKHsgbGluZSB9LCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdseXBoUG9zaXRpb24gPSBbXTtcclxuICAgICAgICAgICAgY29uc3QgZ2x5cGhzID0gbGluZS5zcGxpdCgnJyk7XHJcblxyXG4gICAgICAgICAgICBsZXQgbGluZVdpZHRoID0gMDtcclxuXHJcbiAgICAgICAgICAgIGdseXBocy5mb3JFYWNoKChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IGNvbnRleHQubWVhc3VyZVRleHQoZSkud2lkdGg7XHJcblxyXG4gICAgICAgICAgICAgICAgZ2x5cGhQb3NpdGlvbi5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBnbHlwaDogZSxcclxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBsaW5lV2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgdG9wOiBmb250U2l6ZSAqIGksXHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogZm9udFNpemVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgbGluZVdpZHRoICs9IHdpZHRoO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZ2x5cGhQb3NpdGlvbi5wdXNoKGdseXBoUG9zaXRpb24pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEN1cnNvclRvRW5kKCkge1xyXG4gICAgICAgIHRoaXMuY3Vyc29yUG9zaXRpb24uaW5kZXggPSB0aGlzLnRleHQubGVuZ3RoO1xyXG5cclxuICAgICAgICB0aGlzLm5lZWRlZFRvUmVjYWxjdWxhdGUubmVlZGVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBjb252ZXJ0SW5kZXhUbzJEUG9zaXRpb24oaW5kZXgpIHtcclxuICAgICAgICBsZXQgcm93ID0gMDtcclxuICAgICAgICBsZXQgY29sdW1uID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMudGV4dExpbmVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnRleHRMaW5lc1tpXS5zdGFydE9mTGluZSA8PSBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgcm93ID0gaTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy50ZXh0TGluZXMubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgICAgIGNvbHVtbiA9IGluZGV4IC0gdGhpcy50ZXh0TGluZXNbcm93XS5zdGFydE9mTGluZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb2x1bW4gPj0gdGhpcy5nbHlwaFBvc2l0aW9uW3Jvd10ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjb2x1bW4gPSB0aGlzLmdseXBoUG9zaXRpb25bcm93XS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBpbmRleCA9IHRoaXMudGV4dExpbmVzW3Jvd10uc3RhcnRPZkxpbmUgKyBjb2x1bW47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb2x1bW4gPSAwO1xyXG4gICAgICAgICAgICBpbmRleCA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByb3csXHJcbiAgICAgICAgICAgIGNvbHVtbixcclxuICAgICAgICAgICAgaW5kZXhcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHBhaW50Q29tcG9uZW50KGNvbnRleHQsIGVsYXBzZWRUaW1lKSB7IFxyXG4gICAgICAgIHN1cGVyLnBhaW50Q29tcG9uZW50KGNvbnRleHQsIGVsYXBzZWRUaW1lKTtcclxuICAgICAgICBsZXQgeyB0b3AsIGxlZnQgfSA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgICAgIGNvbnRleHQuc2F2ZSgpO1xyXG5cclxuICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZShsZWZ0LCB0b3ApO1xyXG4gICAgICAgIGlmICh0aGlzLm5lZWRlZFRvUmVjYWxjdWxhdGUubmVlZGVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsY3VsYXRlTGluZXMoY29udGV4dCwgdGhpcy50ZXh0LCB0aGlzLm5lZWRlZFRvUmVjYWxjdWxhdGUucm93KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHsgcm93LCBjb2x1bW4sIGluZGV4IH0gPSB0aGlzLmNvbnZlcnRJbmRleFRvMkRQb3NpdGlvbih0aGlzLmN1cnNvclBvc2l0aW9uLmluZGV4KTtcclxuICAgICAgICAgICAgdGhpcy5jdXJzb3JQb3NpdGlvbi5yb3cgPSByb3c7XHJcbiAgICAgICAgICAgIHRoaXMuY3Vyc29yUG9zaXRpb24uY29sdW1uID0gY29sdW1uO1xyXG4gICAgICAgICAgICB0aGlzLmN1cnNvclBvc2l0aW9uLmluZGV4ID0gaW5kZXg7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNldEN1cnNvclBvc2l0aW9uRnJvbTJEKHJvdywgY29sdW1uKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMubmVlZGVkVG9SZWNhbGN1bGF0ZS5uZWVkZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gdGhpcy5wcm9wZXJ0aWVzLmNvbG9yLnRleHRDb2xvcjtcclxuICAgICAgICBjb250ZXh0LmZvbnQgPSBgJHt0aGlzLnByb3BlcnRpZXMudGV4dFByb3BlcnRpZXMuZm9udFNpemV9cHggJHt0aGlzLnByb3BlcnRpZXMudGV4dFByb3BlcnRpZXMuZm9udEZhbWlseX1gO1xyXG5cclxuICAgICAgICB0aGlzLnRleHRMaW5lcy5mb3JFYWNoKCh7IGxpbmUgfSwgaSkgPT4geyAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFRleHQobGluZSwgMCwgdGhpcy5saW5lc01ldHJpY1tpXS50b3ApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc1NlbGVjdGVkICYmIHRoaXMuZWRpdGFibGUpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJzb3IuZHJhdyhjb250ZXh0LCBlbGFwc2VkVGltZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb250ZXh0LnJlc3RvcmUoKTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBJbWFnZUNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3RvcihpbWFnZSwgZHggPSAwLCBkeSA9IDAsIG5hdHVyYWxXaWR0aCwgbmF0dXJhbEhlaWdodCwgZFdpZHRoLCBkSGVpZ2h0LCBzeCA9IDAsIHN5ID0gMCwgc1dpZHRoLCBzSGVpZ2h0KSB7XHJcbiAgICAgICAgdGhpcy5odG1sQ29tcG9uZW50ID0gaW1hZ2U7XHJcblxyXG4gICAgICAgIHRoaXMueCA9IGR4O1xyXG4gICAgICAgIHRoaXMueSA9IGR5O1xyXG5cclxuICAgICAgICBpZiAoZFdpZHRoICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IGRXaWR0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChkSGVpZ2h0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSBkSGVpZ2h0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNXaWR0aCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc1dpZHRoID0gc1dpZHRoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNIZWlnaHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLnNIZWlnaHQgPSBzSGVpZ2h0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5uYXR1cmFsV2lkdGggPSBuYXR1cmFsV2lkdGg7XHJcbiAgICAgICAgdGhpcy5uYXR1cmFsSGVpZ2h0ID0gbmF0dXJhbEhlaWdodDtcclxuXHJcbiAgICAgICAgdGhpcy5vZmZzZXRYID0gMDtcclxuICAgICAgICB0aGlzLm9mZnNldFkgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLnNjcm9sbFhPZmZzZXQgPSAwO1xyXG4gICAgICAgIHRoaXMuc2Nyb2xsWU9mZnNldCA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuc3ggPSBzeDtcclxuICAgICAgICB0aGlzLnN5ID0gc3k7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KSB7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG5cclxuICAgICAgICB0aGlzLnJlY2FsY3VsYXRlRnJhbWVzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0U2Nyb2xsWE9mZmVyKHgpIHtcclxuICAgICAgICB0aGlzLnNjcm9sbFhPZmZzZXQgPSB4O1xyXG4gICAgfVxyXG5cclxuICAgIHNldFNjcm9sbFlPZmZlcih5KSB7XHJcbiAgICAgICAgdGhpcy5zY3JvbGxZT2Zmc2V0ID0geTtcclxuICAgIH1cclxuXHJcbiAgICBzZXREWFBvc2l0aW9uKGR4LCBkeSkge1xyXG4gICAgICAgIHRoaXMueCA9IGR4O1xyXG4gICAgICAgIHRoaXMueSA9IGR5O1xyXG4gICAgfVxyXG5cclxuICAgIHJlY2FsY3VsYXRlRnJhbWVzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm5hdHVyYWxXaWR0aCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMueEZyYW1lc0NvdW50ID0gTWF0aC5mbG9vcigodGhpcy5uYXR1cmFsV2lkdGggLSB0aGlzLnN4KSAvIHRoaXMuc1dpZHRoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnhGcmFtZXNDb3VudCA8IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMueEZyYW1lc0NvdW50ID0gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMueEZyYW1lc0NvdW50ID0gMTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICBpZiAodGhpcy5uYXR1cmFsSGVpZ2h0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgdGhpcy55RnJhbWVzQ291bnQgPSBNYXRoLmZsb29yKCh0aGlzLm5hdHVyYWxIZWlnaHQgLSB0aGlzLnN5KSAvIHRoaXMuc0hlaWdodCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy55RnJhbWVzQ291bnQgPCAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnlGcmFtZXNDb3VudCA9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnlGcmFtZXNDb3VudCA9IDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmN1cnJlbnRYRnJhbWUgPSAxO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFlGcmFtZSA9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SHRtbCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5odG1sQ29tcG9uZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGdldFhGcmFtZXNDb3VudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy54RnJhbWVzQ291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0WUZyYW1lc0NvdW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnlGcmFtZXNDb3VudDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRGcmFtZXNDb3VudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy54RnJhbWVzQ291bnQgKiB0aGlzLnlGcmFtZXNDb3VudDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRSZW1haW5YRnJhbWVzQ291bnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMueEZyYW1lc0NvdW50IC0gdGhpcy5jdXJyZW50WEZyYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJlbWFpbllGcmFtZXNDb3VudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy55RnJhbWVzQ291bnQgLSB0aGlzLmN1cnJlbnRZRnJhbWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVtYWluRnJhbWVzQ291bnQoKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLnhGcmFtZXNDb3VudCAtIHRoaXMuY3VycmVudFhGcmFtZSkgKiAodGhpcy55RnJhbWVzQ291bnQgLSB0aGlzLmN1cnJlbnRZRnJhbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldE5leHRGcmFtZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50WEZyYW1lICsgMSA+IHRoaXMueEZyYW1lc0NvdW50KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRZRnJhbWUgKyAxID4gdGhpcy55RnJhbWVzQ291bnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFhGcmFtZSA9IDE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRZRnJhbWUgPSAxO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50WUZyYW1lICs9IDE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRYRnJhbWUgPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50WEZyYW1lICs9IDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm9mZnNldFggPSB0aGlzLnN4ICsgdGhpcy5zV2lkdGggKiAodGhpcy5jdXJyZW50WEZyYW1lIC0gMSk7XHJcbiAgICAgICAgdGhpcy5vZmZzZXRZID0gdGhpcy5zeSArIHRoaXMuc0hlaWdodCAqICh0aGlzLmN1cnJlbnRZRnJhbWUgLSAxKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRGcmFtZShmcmFtZSkge1xyXG4gICAgICAgIGxldCBmcmFtZXNDb3VudCA9IHRoaXMuZ2V0RnJhbWVzQ291bnQoKTtcclxuICAgICAgICBsZXQgZnJhbWVDb3VudCA9IE1hdGguZmxvb3IoZnJhbWVzQ291bnQgKiBmcmFtZSkgKyAxO1xyXG5cclxuICAgICAgICBpZiAoZnJhbWVDb3VudCA+IGZyYW1lc0NvdW50KSB7XHJcbiAgICAgICAgICAgIGZyYW1lQ291bnQgPSBmcmFtZXNDb3VudDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB4RnJhbWVDb3VudCA9IHRoaXMuZ2V0WEZyYW1lc0NvdW50KCk7XHJcblxyXG4gICAgICAgIGlmIChmcmFtZUNvdW50IDwgeEZyYW1lQ291bnQpIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50WEZyYW1lID0gZnJhbWVDb3VudDtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50WUZyYW1lID0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRZRnJhbWUgPSBNYXRoLmNlaWwoZnJhbWVDb3VudCAvIHhGcmFtZUNvdW50KTtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50WEZyYW1lID0gZnJhbWVDb3VudCAtICgodGhpcy5jdXJyZW50WUZyYW1lIC0gMSkgKiB4RnJhbWVDb3VudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLm9mZnNldFggPSB0aGlzLnN4ICsgdGhpcy5zV2lkdGggKiAodGhpcy5jdXJyZW50WEZyYW1lIC0gMSk7XHJcbiAgICAgICAgdGhpcy5vZmZzZXRZID0gdGhpcy5zeSArIHRoaXMuc0hlaWdodCAqICh0aGlzLmN1cnJlbnRZRnJhbWUgLSAxKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRPZmZzZXQoZnJhbWUpIHtcclxuICAgICAgICBsZXQgd2lkdGhPZk9uZUxpbmUgPSB0aGlzLm5hdHVyYWxXaWR0aCAtIHRoaXMuc1dpZHRoO1xyXG4gICAgICAgIGxldCB3aWR0aCA9IHRoaXMuZ2V0WUZyYW1lc0NvdW50KCkgKiB3aWR0aE9mT25lTGluZTtcclxuXHJcbiAgICAgICAgbGV0IG5ld1dpZHRoID0gTWF0aC5mbG9vcih3aWR0aCAqIGZyYW1lKTtcclxuXHJcbiAgICAgICAgbGV0IGxpbmVzQ291bnQgPSAgTWF0aC5mbG9vcihuZXdXaWR0aCAvIHRoaXMuc1dpZHRoKTtcclxuXHJcbiAgICAgICAgdGhpcy5vZmZzZXRZID0gdGhpcy5zSGVpZ2h0ICogTWF0aC5mbG9vcihuZXdXaWR0aCAvIHdpZHRoT2ZPbmVMaW5lKTtcclxuICAgICAgICB0aGlzLm9mZnNldFggPSBuZXdXaWR0aCAtIGxpbmVzQ291bnQgKiB0aGlzLnNXaWR0aDtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3KGNvbnRleHQsIHgsIHkpIHtcclxuICAgICAgICBsZXQgbGVmdCA9IHRoaXMueDtcclxuICAgICAgICBsZXQgdG9wID0gdGhpcy55O1xyXG5cclxuICAgICAgICBpZiAoeCAhPT0gdW5kZWZpbmVkICYmIHkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBsZWZ0ID0geDtcclxuICAgICAgICAgICAgdG9wID0geTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLndpZHRoICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGhpcy5odG1sQ29tcG9uZW50LCB0aGlzLm9mZnNldFgsIHRoaXMub2Zmc2V0WSwgdGhpcy5zV2lkdGgsIHRoaXMuc0hlaWdodCwgbGVmdCArIHRoaXMuc2Nyb2xsWE9mZnNldCwgdG9wICsgdGhpcy5zY3JvbGxZT2Zmc2V0LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UodGhpcy5odG1sQ29tcG9uZW50LCBsZWZ0ICsgdGhpcy5zY3JvbGxYT2Zmc2V0LCB0b3AgKyB0aGlzLnNjcm9sbFlPZmZzZXQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgTGFiZWwgZnJvbSAnLi4vLi4vQ29tcG9uZW50L0xhYmVsJztcclxuaW1wb3J0IGV2ZW50cyBmcm9tICcuLi8uLi8uLi9ldmVudC9ldmVudHMvZXZlbnRzJztcclxuXHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uLy4uL0NvbXBvbmVudC9Db21wb25lbnQnO1xyXG5pbXBvcnQgeyBDb21wb3NpdGVDb21wb25lbnQgfSBmcm9tICcuLi8uLi9Db21wb25lbnQvQ29tcG9uZW50JztcclxuaW1wb3J0IHsgZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3RleHRXaWR0aCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0SW5wdXRNb2RhbFdpbmRvdyBleHRlbmRzIENvbXBvc2l0ZUNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0b3AgPSAwLCBsZWZ0ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwLCBkZXNjcmlwdGlvblRleHQsIHdpbmRvd0NvbXBvbmVudCwgcGFyZW50Q29tcG9uZW50ID0gbnVsbCkge1xyXG4gICAgICAgIHN1cGVyKHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCwgcGFyZW50Q29tcG9uZW50KTtcclxuXHJcbiAgICAgICAgY29uc3QgaGFsZldpZHRoID0gTWF0aC5jZWlsKHdpZHRoIC8gMik7XHJcbiAgICAgICAgY29uc3QgaGFsZkhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQgLyAyKTtcclxuICAgICAgICBjb25zdCBoYWxmRGVzY3JpcHRpb25XaWR0aCA9IE1hdGguY2VpbCgoZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyhkZXNjcmlwdGlvblRleHQsICdtb25vc3BhY2UnLCAxNikgKyAxKSAvIDIpO1xyXG4gICAgICAgIGNvbnN0IGhhbGZVc2VySW5wdXRXaWR0aCA9IE1hdGguY2VpbChoYWxmV2lkdGggKiAwLjYpO1xyXG5cclxuICAgICAgICBjb25zdCBvbmVHbHlwaFdpZHRoID0gTWF0aC5jZWlsKGdldFRleHRXaWR0aFdpdGhDYW52YXMoJ3gnLCAnbW9ub3NwYWNlJywgMTYpKTtcclxuXHJcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBuZXcgTGFiZWwoaGFsZkhlaWdodCAtIDEwIC0gMjAgLSAzLCBoYWxmV2lkdGggLSBoYWxmVXNlcklucHV0V2lkdGgsIGhhbGZEZXNjcmlwdGlvbldpZHRoICogMiwgMjAsIGRlc2NyaXB0aW9uVGV4dCk7XHJcbiAgICAgICAgY29uc3QgdXNlcklucHV0ID0gbmV3IExhYmVsKGhhbGZIZWlnaHQgLSAxMCwgaGFsZldpZHRoIC0gaGFsZlVzZXJJbnB1dFdpZHRoLCBoYWxmVXNlcklucHV0V2lkdGggKiAyLCAyMCwgJycpO1xyXG4gICAgICAgIGNvbnN0IGVudGVyQnV0dG9uID0gbmV3IEJ1dHRvbihoYWxmSGVpZ2h0ICogMiAtIDUwIC0gNSwgaGFsZldpZHRoICogMiAtIDEwMCAtIDUsIDEwMCwgNTAsICcnKTtcclxuXHJcbiAgICAgICAgdXNlcklucHV0LmVkaXRhYmxlID0gdHJ1ZTtcclxuICAgICAgICB1c2VySW5wdXQudGFiYWJsZSA9IHRydWU7XHJcbiAgICAgICAgdXNlcklucHV0LmRyYXdCb3JkZXIgPSB0cnVlO1xyXG4gICAgICAgIHVzZXJJbnB1dC5zZXRCYWNrZ3JvdW5kQ29sb3IoJyNiYjAwMDAnKTtcclxuICAgICAgICB1c2VySW5wdXQubWF4VGV4dExlbmd0aCA9IE1hdGguZmxvb3IoaGFsZlVzZXJJbnB1dFdpZHRoIC8gb25lR2x5cGhXaWR0aCAqIDIpO1xyXG4gICAgICAgIGRlc2NyaXB0aW9uLnNldEJhY2tncm91bmRDb2xvcignIzAwYmJiYicpO1xyXG5cclxuICAgICAgICBlbnRlckJ1dHRvbi5zZXRCYWNrZ3JvdW5kQ29sb3IoJyNhYWFhYWEnKTtcclxuICAgICAgICBlbnRlckJ1dHRvbi50YWJhYmxlID0gdHJ1ZTtcclxuICAgICAgICBlbnRlckJ1dHRvbi5kcmF3Qm9yZGVyID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdXNlcklucHV0LnNldFRleHRDb2xvcignI0ZGRkYwMCcpO1xyXG4gICAgICAgIHVzZXJJbnB1dC5jdXJzb3Iuc2V0Q29sb3IoJyMwOEI2MDAnKTtcclxuXHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbktleSA9ICdkZXNjcmlwdGlvbic7XHJcbiAgICAgICAgdGhpcy51c2VySW5wdXRLZXkgPSAndXNlcmlucHV0JztcclxuICAgICAgICB0aGlzLmJ1dHRvbktleSA9ICdidXR0b24nO1xyXG5cclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChkZXNjcmlwdGlvbiwgdGhpcy5kZXNjcmlwdGlvbktleSk7XHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQodXNlcklucHV0LCB0aGlzLnVzZXJJbnB1dEtleSk7XHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoZW50ZXJCdXR0b24sIHRoaXMuYnV0dG9uS2V5KTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0RXZlbnRzKGVudGVyQnV0dG9uLCB3aW5kb3dDb21wb25lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRFdmVudHMoZW50ZXJCdXR0b24sIHdpbmRvd0NvbXBvbmVudCkge1xyXG4gICAgICAgIGNvbnN0IG1vdXNlRW50ZXJIYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZW50ZXJCdXR0b24uaXNTZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgZW50ZXJCdXR0b24uZ2V0QmFja2dyb3VuZEltYWdlKCkuc2V0RnJhbWUoMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBtb3VzZVVwSGFuZGxlciA9ICgpID0+IHtcclxuICAgICAgICAgICAgZW50ZXJCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudHMuTU9VU0UuTU9VU0VfRU5URVIsIG1vdXNlRW50ZXJIYW5kbGVyKTtcclxuICAgICAgICAgICAgZW50ZXJCdXR0b24uZ2V0QmFja2dyb3VuZEltYWdlKCkuc2V0RnJhbWUoMCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZW50ZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihldmVudHMuTU9VU0UuTU9VU0VfRE9XTiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBlbnRlckJ1dHRvbi5nZXRCYWNrZ3JvdW5kSW1hZ2UoKS5zZXRGcmFtZSgxKTtcclxuXHJcbiAgICAgICAgICAgIGVudGVyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLk1PVVNFLk1PVVNFX0VOVEVSLCBtb3VzZUVudGVySGFuZGxlcik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHdpbmRvd0NvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50cy5NT1VTRS5NT1VTRV9VUCwgbW91c2VVcEhhbmRsZXIpO1xyXG5cclxuICAgICAgICBlbnRlckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKGV2ZW50cy5NT1VTRS5NT1VTRV9MRUFWRSwgKCkgPT4geyAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChlbnRlckJ1dHRvbi5pc1NlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICBlbnRlckJ1dHRvbi5nZXRCYWNrZ3JvdW5kSW1hZ2UoKS5zZXRGcmFtZSgwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLm9ucmVtb3ZlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB3aW5kb3dDb21wb25lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudHMuTU9VU0UuTU9VU0VfVVAsIG1vdXNlVXBIYW5kbGVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWRkQnV0dG9uRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudCkge1xyXG4gICAgICAgIHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5idXR0b25LZXkpLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgZXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZUJ1dHRvbkV2ZW50TGlzdGVuZXIobmFtZSwgZXZlbnQpIHtcclxuICAgICAgICB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMuYnV0dG9uS2V5KS5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIGV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRPa0J1dHRvbkNvbXBvbmVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGlsZENvbXBvbmVudCh0aGlzLmJ1dHRvbktleSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGVzY3JpcHRpb25Db21wb25lbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5kZXNjcmlwdGlvbktleSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0SW5wdXRVc2VyQ29tcG9uZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMudXNlcklucHV0S2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRJbnB1dFVzZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy51c2VySW5wdXRLZXkpLnRleHQ7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IGV2ZW50cyBmcm9tICcuLi8uLi9ldmVudC9ldmVudHMvZXZlbnRzJztcclxuaW1wb3J0IEltYWdlQ29tcG9uZW50IGZyb20gJy4uL0ltYWdlQ29tcG9uZW50L0ltYWdlQ29tcG9uZW50JztcclxuaW1wb3J0IExhYmVsIGZyb20gJy4uL0NvbXBvbmVudC9MYWJlbCc7XHJcblxyXG5pbXBvcnQgeyBDb21wb3NpdGVDb21wb25lbnQgfSBmcm9tICcuLi9Db21wb25lbnQvQ29tcG9uZW50JztcclxuaW1wb3J0IHsgZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyB9IGZyb20gJy4uLy4uL3V0aWxzL3RleHRXaWR0aCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWdpY1NlbGVjdGluZ01vZGFsV2luZG93IGV4dGVuZHMgQ29tcG9zaXRlQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHRvcCA9IDAsIGxlZnQgPSAwLCB3aWR0aCA9IDAsIGhlaWdodCA9IDAsIG1hZ2ljcyA9IFtdLCBpbWFnZXMgPSB7fSwgcGFyZW50Q29tcG9uZW50ID0gbnVsbCkge1xyXG4gICAgICAgIHN1cGVyKHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCwgcGFyZW50Q29tcG9uZW50KTtcclxuXHJcbiAgICAgICAgdGhpcy5tYWdpY3MgPSBbLi4ubWFnaWNzXTtcclxuICAgICAgICB0aGlzLnRvdGFsV2lkdGggPSAwO1xyXG5cclxuICAgICAgICBjb25zdCBiYWNrID0gaW1hZ2VzLmJhY2s7XHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGg6IGJhY2tXaWR0aCwgbmF0dXJhbEhlaWdodDogYmFja0hlaWdodCB9ID0gYmFjaztcclxuXHJcbiAgICAgICAgY29uc3QgYmFja0ltYWdlQ29tcG9uZW50ID0gbmV3IEltYWdlQ29tcG9uZW50KGJhY2ssIDAsIDAsIGJhY2tXaWR0aCwgYmFja0hlaWdodCwgYmFja1dpZHRoLCBiYWNrSGVpZ2h0LCAwLCAwLCBiYWNrV2lkdGgsIGJhY2tIZWlnaHQpO1xyXG4gICAgICAgIHRoaXMuc2V0QmFja2dyb3VuZEltYWdlKGJhY2tJbWFnZUNvbXBvbmVudCk7XHJcblxyXG4gICAgICAgIHRoaXMuZmlsbFdpdGhNYWdpY3MoKTtcclxuICAgIH1cclxuXHJcbiAgICBmaWxsV2l0aE1hZ2ljcygpIHtcclxuICAgICAgICBjb25zdCBob3Jpem9udGFsV2lkdGggPSA1O1xyXG4gICAgICAgIGNvbnN0IHZlcnRpY2FsV2lkdGggPSAzO1xyXG4gICAgICAgIGNvbnN0IHRleHRIZWlnaHQgPSAxNjtcclxuXHJcbiAgICAgICAgdGhpcy5tYWdpY3MuZm9yRWFjaCgobWFnaWMpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZ3JhcGhpY0NvbXBvbmVudCA9IG1hZ2ljLmdldEdyYXBoaWNDb21wb25lbnQoKTtcclxuICAgICAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBncmFwaGljQ29tcG9uZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgbWFnaWNOYW1lID0gbWFnaWMuZ2V0TmFtZSgpO1xyXG4gICAgICAgICAgICBjb25zdCBtYWdpY05hbWVXaWR0aCA9IE1hdGguY2VpbChnZXRUZXh0V2lkdGhXaXRoQ2FudmFzKG1hZ2ljTmFtZSwgJ21vbm9zcGFjZScsIHRleHRIZWlnaHQpKTtcclxuXHJcbiAgICAgICAgICAgIGdyYXBoaWNDb21wb25lbnQuZHJhd0JvcmRlciA9IHRydWU7XHJcbiAgICAgICAgICAgIGdyYXBoaWNDb21wb25lbnQuc2V0Qm91bmRpbmdDbGllbnRSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgbWFnaWNXaXRoTmFtZSA9IG5ldyBDb21wb3NpdGVDb21wb25lbnQoaG9yaXpvbnRhbFdpZHRoLCB0aGlzLnRvdGFsV2lkdGggKyBob3Jpem9udGFsV2lkdGgsIHdpZHRoLCBoZWlnaHQgKyB2ZXJ0aWNhbFdpZHRoICsgdGV4dEhlaWdodCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1hZ2ljTmFtZUxhYmVsID0gbmV3IExhYmVsKDAsIDAsIG1hZ2ljTmFtZVdpZHRoLCB0ZXh0SGVpZ2h0LCBtYWdpY05hbWUpO1xyXG5cclxuICAgICAgICAgICAgbWFnaWNOYW1lTGFiZWwucHJvcGVydGllcy5jdXJzb3IgPSAnYXV0byc7XHJcblxyXG4gICAgICAgICAgICBtYWdpY1dpdGhOYW1lLmFkZENvbXBvbmVudChncmFwaGljQ29tcG9uZW50LCAncGljdHVyZScpO1xyXG4gICAgICAgICAgICBtYWdpY1dpdGhOYW1lLmFkZENvbXBvbmVudChtYWdpY05hbWVMYWJlbCwgJ25hbWUnKTtcclxuICAgICAgICAgICAgbWFnaWNOYW1lTGFiZWwuYWxpZ25DZW50ZXIoKTtcclxuXHJcbiAgICAgICAgICAgIG1hZ2ljTmFtZUxhYmVsLnNldEJvdW5kaW5nQ2xpZW50UmVjdChoZWlnaHQgKyB2ZXJ0aWNhbFdpZHRoKTtcclxuICAgICAgICAgICAgbWFnaWNOYW1lTGFiZWwuc2V0VGV4dENvbG9yKCcjRThENDc4Jyk7XHJcbiAgICAgICAgICAgIG1hZ2ljLmdldEdyYXBoaWNDb21wb25lbnQoKS50YWJhYmxlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KG1hZ2ljV2l0aE5hbWUsIG1hZ2ljLmdldE5hbWUoKSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRvdGFsV2lkdGggKz0gaG9yaXpvbnRhbFdpZHRoICsgd2lkdGg7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGFkZE1hZ2ljU2VsZWN0aW5nRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudENhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhpcy5nZXRDaGlsZENvbXBvbmVudCh0aGlzLmJ1dHRvbktleSlcclxuICAgICAgICB0aGlzLm1hZ2ljcy5mb3JFYWNoKChtYWdpYykgPT4ge1xyXG4gICAgICAgICAgICBtYWdpYy5nZXRHcmFwaGljQ29tcG9uZW50KCkuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBldmVudENhbGxiYWNrKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmaW5kTWFnaWNCeUdyYXBoaWNDb21wb25lbnQoZ3JhcGhpY0NvbXBvbmVudCkge1xyXG4gICAgICAgIGNvbnN0IG1hZ2ljID0gdGhpcy5tYWdpY3MuZmluZCgobWFnaWMpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbWFnaWNHcmFwaGljQ29tcG9uZW50ID0gbWFnaWMuZ2V0R3JhcGhpY0NvbXBvbmVudCgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmV0dXJuIGdyYXBoaWNDb21wb25lbnQgPT09IG1hZ2ljR3JhcGhpY0NvbXBvbmVudDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG1hZ2ljID8gbWFnaWMgOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE1hZ2ljKGluZGV4KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFnaWNzW2luZGV4XSB8fCBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbGVjdE1hZ2ljKCkge1xyXG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTWFnaWNTZWxlY3RpbmdFdmVudExpc3RlbmVyKGV2ZW50cy5NT1VTRS5NT1VTRV9VUCwgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoZS50YXJnZXQuZ2V0UGFyZW50Q29tcG9uZW50KCkuZ2V0UGFyZW50Q29tcG9uZW50KCkuZmluZE1hZ2ljQnlHcmFwaGljQ29tcG9uZW50KGUudGFyZ2V0KSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKGV2ZW50cy5LRVlCT0FSRC5LRVlfUFJFU1MsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5wYXlsb2FkLmtleSA9PT0gJ0VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZS50YXJnZXQuZ2V0UGFyZW50Q29tcG9uZW50KCkuZ2V0UGFyZW50Q29tcG9uZW50KCkuZmluZE1hZ2ljQnlHcmFwaGljQ29tcG9uZW50KGUudGFyZ2V0KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSAgXHJcbn1cclxuIiwiaW1wb3J0IExhYmVsIGZyb20gJy4vTGFiZWwnO1xyXG5cclxuaW1wb3J0IHsgQ29tcG9uZW50LCBDb21wb3NpdGVDb21wb25lbnQgfSBmcm9tICcuL0NvbXBvbmVudCc7XHJcbmltcG9ydCB7IGdldFRleHRXaWR0aFdpdGhDYW52YXMgfSBmcm9tICcuLi8uLi91dGlscy90ZXh0V2lkdGgnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvZ3Jlc3NCYXIgZXh0ZW5kcyBDb21wb3NpdGVDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IodG9wID0gMCwgbGVmdCA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgbWluVmFsdWUsIG1heFZhbHVlLCBpbml0aWFsVmFsdWUsIHBhcmVudENvbXBvbmVudCA9IG51bGwpIHtcclxuICAgICAgICBzdXBlcih0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQsIHBhcmVudENvbXBvbmVudCk7XHJcblxyXG4gICAgICAgIHRoaXMubWluVmFsdWUgPSBtaW5WYWx1ZTtcclxuICAgICAgICB0aGlzLm1heFZhbHVlID0gbWF4VmFsdWU7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSBpbml0aWFsVmFsdWU7XHJcblxyXG4gICAgICAgIHRoaXMub25lSW5QaXhlbCA9ICh3aWR0aCAtIDIpIC8gKG1heFZhbHVlIC0gbWluVmFsdWUpO1xyXG5cclxuICAgICAgICBjb25zdCBiYXJDb21wb25lbnQgPSBuZXcgQ29tcG9uZW50KDEsIDEsIHRoaXMub25lSW5QaXhlbCAqIChpbml0aWFsVmFsdWUgLSBtaW5WYWx1ZSksIGhlaWdodCAtIDIpO1xyXG4gICAgICAgIGJhckNvbXBvbmVudC5zZXRCYWNrZ3JvdW5kQ29sb3IoJyNhYTAwMDAnKTtcclxuICAgICAgICB0aGlzLnNldEJhY2tncm91bmRDb2xvcignI2ZmZmZmZicpO1xyXG5cclxuICAgICAgICB0aGlzLmJhckNvbXBvbmVudEtleSA9ICdiYXInO1xyXG5cclxuICAgICAgICBjb25zdCBsYWJlbFRleHQgPSBgJHtpbml0aWFsVmFsdWV9LyR7bWF4VmFsdWV9YDtcclxuXHJcbiAgICAgICAgY29uc3QgdGV4dEhlaWdodCA9IDE2O1xyXG4gICAgICAgIGNvbnN0IHRleHRXaWR0aCA9IE1hdGguY2VpbChnZXRUZXh0V2lkdGhXaXRoQ2FudmFzKGxhYmVsVGV4dCwnbW9ub3NwYWNlJywgdGV4dEhlaWdodCkpO1xyXG5cclxuICAgICAgICBjb25zdCBsYWJlbCA9IG5ldyBMYWJlbCgwICwgMCwgdGV4dFdpZHRoLCB0ZXh0SGVpZ2h0LCBsYWJlbFRleHQpO1xyXG5cclxuICAgICAgICB0aGlzLmxhYmVsQ29tcG9uZW50S2V5ID0gJ2xhYmVsJztcclxuXHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoYmFyQ29tcG9uZW50LCB0aGlzLmJhckNvbXBvbmVudEtleSk7XHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQobGFiZWwsIHRoaXMubGFiZWxDb21wb25lbnRLZXkpO1xyXG5cclxuICAgICAgICBsYWJlbC5hbGlnbkNlbnRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFRleHRDb21wb25lbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5sYWJlbENvbXBvbmVudEtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QmFyQ29tcG9uZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMuYmFyQ29tcG9uZW50S2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRCYXJDb2xvcihjb2xvciA9ICcjYWEwMDAwJykge1xyXG4gICAgICAgIHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5iYXJDb21wb25lbnRLZXkpLnNldEJhY2tncm91bmRDb2xvcihjb2xvcik7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VmFsdWUodmFsdWUpIHtcclxuICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIGNvbnN0IGJhciA9IHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5iYXJDb21wb25lbnRLZXkpO1xyXG4gICAgICAgIGNvbnN0IHsgdG9wLCBsZWZ0LCBoZWlnaHQgfSA9IGJhci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgICAgYmFyLnNldEJvdW5kaW5nQ2xpZW50UmVjdCh0b3AsIGxlZnQsIE1hdGguZmxvb3IodmFsdWUgKiB0aGlzLm9uZUluUGl4ZWwpLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICBjb25zdCBsYWJlbFRleHQgPSBgJHt2YWx1ZX0vJHt0aGlzLm1heFZhbHVlfWA7XHJcbiAgICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMubGFiZWxDb21wb25lbnRLZXkpO1xyXG4gICAgICAgIGxhYmVsLnNldFRleHQobGFiZWxUZXh0KTtcclxuXHJcbiAgICAgICAgY29uc3QgeyBoZWlnaHQ6IGhlaWdodExhYmVsIH0gPSBsYWJlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgICAgY29uc3QgdGV4dFdpZHRoID0gTWF0aC5jZWlsKGdldFRleHRXaWR0aFdpdGhDYW52YXMobGFiZWxUZXh0LCAnbW9ub3NwYWNlJywgMTYpKSArIDE7XHJcblxyXG4gICAgICAgIGxhYmVsLnNldEJvdW5kaW5nQ2xpZW50UmVjdCgwLCAwLCB0ZXh0V2lkdGgsIGhlaWdodExhYmVsKTtcclxuICAgICAgICBsYWJlbC5hbGlnbkNlbnRlcigpO1xyXG4gICAgfVxyXG4gfVxyXG5cclxuIiwiaW1wb3J0IEltYWdlQ29tcG9uZW50IGZyb20gJy4uL0ltYWdlQ29tcG9uZW50L0ltYWdlQ29tcG9uZW50JztcclxuaW1wb3J0IFByb2dyZXNzQmFyIGZyb20gJy4uL0NvbXBvbmVudC9Qcm9ncmVzc0Jhcic7XHJcblxyXG5pbXBvcnQgeyBDb21wb3NpdGVDb21wb25lbnQgfSBmcm9tICcuLi9Db21wb25lbnQvQ29tcG9uZW50JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvYWRpbmdTY3JlZW4gZXh0ZW5kcyBDb21wb3NpdGVDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IodG9wID0gMCwgbGVmdCA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgcHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kLCBwYXJlbnRDb21wb25lbnQgPSBudWxsKSB7XHJcbiAgICAgICAgc3VwZXIodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0LCBwYXJlbnRDb21wb25lbnQpO1xyXG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoOiBwcm9ncmVzc0JhckJhY2tncm91bmRXaWR0aCwgbmF0dXJhbEhlaWdodDogcHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kSGVpZ2h0IH0gPSBwcm9ncmVzc0JhckJhY2tncm91bmQ7XHJcbiAgICAgICAgY29uc3QgcHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kQ29tcG9uZW50ID0gbmV3IEltYWdlQ29tcG9uZW50KHByb2dyZXNzQmFyQmFja2dyb3VuZCwgMCwgMCwgcHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kV2lkdGgsIHByb2dyZXNzQmFyQmFja2dyb3VuZEhlaWdodCwgcHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kV2lkdGgsIHByb2dyZXNzQmFyQmFja2dyb3VuZEhlaWdodCwgMCwgMCwgcHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kV2lkdGgsIHByb2dyZXNzQmFyQmFja2dyb3VuZEhlaWdodCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxvYWRpbmdQcm9ncmVzc0JhckJhY2tncm91bmRDb21wb25lbnQgPSBuZXcgQ29tcG9zaXRlQ29tcG9uZW50KDAsIDAsIHByb2dyZXNzQmFyQmFja2dyb3VuZFdpZHRoLCBwcm9ncmVzc0JhckJhY2tncm91bmRIZWlnaHQsIHRoaXMpO1xyXG4gICAgICAgIGxvYWRpbmdQcm9ncmVzc0JhckJhY2tncm91bmRDb21wb25lbnQuYWxpZ25DZW50ZXIoKTtcclxuICAgICAgICBsb2FkaW5nUHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kQ29tcG9uZW50LnNldEJhY2tncm91bmRJbWFnZShwcm9ncmVzc0JhckJhY2tncm91bmRDb21wb25lbnQpO1xyXG5cclxuICAgICAgICB0aGlzLnNldEJhY2tncm91bmRDb2xvcignIzAwMDAwMCcpO1xyXG5cclxuICAgICAgICBjb25zdCBsb2FkaW5nUHJvZ3Jlc3NCYXIgPSBuZXcgUHJvZ3Jlc3NCYXIoMCwgMCwgMTE0LCAxNiwgMCwgMTAwLCAwKTtcclxuICAgICAgICBsb2FkaW5nUHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kQ29tcG9uZW50LmFkZENvbXBvbmVudChsb2FkaW5nUHJvZ3Jlc3NCYXIpO1xyXG4gICAgICAgIGxvYWRpbmdQcm9ncmVzc0Jhci5hbGlnbkNlbnRlcigpO1xyXG5cclxuICAgICAgICBsb2FkaW5nUHJvZ3Jlc3NCYXIuc2V0QmFja2dyb3VuZENvbG9yKCdyZ2JhKDAsIDAsIDAsIDApJyk7XHJcbiAgICAgICAgbG9hZGluZ1Byb2dyZXNzQmFyLmdldFRleHRDb21wb25lbnQoKS5zZXRUZXh0Q29sb3IoJyNmZmZmZmYnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkaW5nUHJvZ3Jlc3NCYXIgPSBsb2FkaW5nUHJvZ3Jlc3NCYXI7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TG9hZGluZ1Byb2dyZXNzQmFyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRpbmdQcm9ncmVzc0JhcjtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgSW1hZ2VDb21wb25lbnQgZnJvbSBcIi4uL0ltYWdlQ29tcG9uZW50L0ltYWdlQ29tcG9uZW50XCI7XHJcblxyXG5pbXBvcnQgeyBDb21wb25lbnQsIENvbXBvc2l0ZUNvbXBvbmVudCB9IGZyb20gXCIuL0NvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBnZXRUZXh0V2lkdGhXaXRoQ2FudmFzIH0gZnJvbSBcIi4uLy4uL3V0aWxzL3RleHRXaWR0aFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhdHVzQmFyIGV4dGVuZHMgQ29tcG9zaXRlQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHRvcCA9IDAsIGxlZnQgPSAwLCB3aWR0aCA9IDAsIGhlaWdodCA9IDAsIGltYWdlcyA9IHt9LCBwYXJlbnRDb21wb25lbnQgPSBudWxsKSB7XHJcbiAgICAgICAgc3VwZXIodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0LCBwYXJlbnRDb21wb25lbnQpO1xyXG5cclxuICAgICAgICB0aGlzLmVuZW15SW5mb1dpbmRvd0tleSA9ICdlbmVteSc7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJJbmZvV2luZG93S2V5ID0gJ3BsYXllcic7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0QmFja2dyb3VuZChpbWFnZXMubGVmdCwgaW1hZ2VzLnJpZ2h0LCBpbWFnZXMuYmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QmFja2dyb3VuZChsZWZ0SW1nLCByaWdodEltZywgYmFja0ltZykge1xyXG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuXHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGg6IGJhY2tXaWR0aCwgbmF0dXJhbEhlaWdodDogYmFja0hlaWdodCB9ID0gYmFja0ltZztcclxuICAgICAgICBjb25zdCB7IG5hdHVyYWxXaWR0aDogbGVmdFdpZHRoLCBuYXR1cmFsSGVpZ2h0OiBsZWZ0SGVpZ2h0IH0gPSBsZWZ0SW1nO1xyXG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoOiByaWdodFdpZHRoLCBuYXR1cmFsSGVpZ2h0OiByaWdodEhlaWdodCB9ID0gcmlnaHRJbWc7XHJcblxyXG4gICAgICAgIGNvbnN0IGJhY2tJbWdDb21wb25lbnQgPSBuZXcgSW1hZ2VDb21wb25lbnQoYmFja0ltZywgMCwgMCwgYmFja1dpZHRoLCBiYWNrSGVpZ2h0LCBiYWNrV2lkdGgsIGJhY2tIZWlnaHQsIDAsIDAsIGJhY2tXaWR0aCwgYmFja0hlaWdodCk7XHJcbiAgICAgICAgY29uc3QgbGVmdEltZ0NvbXBvbmVudCA9IG5ldyBJbWFnZUNvbXBvbmVudChsZWZ0SW1nLCAwLCAwLCBsZWZ0V2lkdGgsIGxlZnRIZWlnaHQsIGxlZnRXaWR0aCwgbGVmdEhlaWdodCwgMCwgMCwgbGVmdFdpZHRoLCBsZWZ0SGVpZ2h0KTtcclxuICAgICAgICBjb25zdCByaWdodEltZ0NvbXBvbmVudCA9IG5ldyBJbWFnZUNvbXBvbmVudChyaWdodEltZywgMCwgMCwgcmlnaHRXaWR0aCwgcmlnaHRIZWlnaHQsIHJpZ2h0V2lkdGgsIHJpZ2h0SGVpZ2h0LCAwLCAwLCByaWdodFdpZHRoLCByaWdodEhlaWdodCk7XHJcblxyXG4gICAgICAgIGxldCB0b3RhbFdpZHRoID0gMDtcclxuICAgICAgICB3aGlsZSAodG90YWxXaWR0aCA8IHdpZHRoKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IG5ldyBDb21wb25lbnQoMCwgdG90YWxXaWR0aCwgYmFja1dpZHRoLCBiYWNrSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5zZXRCYWNrZ3JvdW5kSW1hZ2UoYmFja0ltZ0NvbXBvbmVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGNvbXBvbmVudCk7XHJcblxyXG4gICAgICAgICAgICB0b3RhbFdpZHRoICs9IGJhY2tXaWR0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGxlZnRDb21wb25lbnQgPSBuZXcgQ29tcG9uZW50KDAsIDAsIGxlZnRXaWR0aCwgbGVmdEhlaWdodCk7XHJcblxyXG4gICAgICAgIGxlZnRDb21wb25lbnQuc2V0QmFja2dyb3VuZEltYWdlKGxlZnRJbWdDb21wb25lbnQpO1xyXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGxlZnRDb21wb25lbnQpO1xyXG5cclxuICAgICAgICBjb25zdCByaWdodENvbXBvbmVudCA9IG5ldyBDb21wb25lbnQoMCwgd2lkdGggLSByaWdodFdpZHRoLCByaWdodFdpZHRoLCByaWdodEhlaWdodCk7XHJcblxyXG4gICAgICAgIHJpZ2h0Q29tcG9uZW50LnNldEJhY2tncm91bmRJbWFnZShyaWdodEltZ0NvbXBvbmVudCk7XHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQocmlnaHRDb21wb25lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBsYXllckluZm9XaW5kb3coKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5wbGF5ZXJJbmZvV2luZG93S2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRFbmVteUluZm9XaW5kb3coKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5lbmVteUluZm9XaW5kb3dLZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEVuZW15SW5mb1dpbmRvdyhlbmVteUluZm9XaW5kb3cpIHtcclxuICAgICAgICBjb25zdCBlbmVteSA9IHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5lbmVteUluZm9XaW5kb3dLZXkpO1xyXG5cclxuICAgICAgICBpZiAoZW5lbXkpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVDb21wb25lbnQoZW5lbXkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoZW5lbXlJbmZvV2luZG93LCB0aGlzLmVuZW15SW5mb1dpbmRvd0tleSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UGxheWVySW5mb1dpbmRvdyhwbGF5ZXJJbmZvV2luZG93KSB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5nZXRDaGlsZENvbXBvbmVudCh0aGlzLnBsYXllckluZm9XaW5kb3dLZXkpO1xyXG5cclxuICAgICAgICBpZiAocGxheWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlQ29tcG9uZW50KHBsYXllcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChwbGF5ZXJJbmZvV2luZG93LCB0aGlzLnBsYXllckluZm9XaW5kb3dLZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEVuZW15SW5mbyhuYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgIGNvbnN0IGVuZW15ID0gdGhpcy5nZXRDaGlsZENvbXBvbmVudCh0aGlzLmVuZW15SW5mb1dpbmRvd0tleSk7XHJcbiAgICAgICAgZW5lbXkuZ2V0Q2hpbGRDb21wb25lbnQoZW5lbXkuaGVhbHRoQmFyS2V5KS5zZXRWYWx1ZSh2YWx1ZSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxhYmVsID0gZW5lbXkuZ2V0Q2hpbGRDb21wb25lbnQoZW5lbXkubmFtZUxhYmVsS2V5KTtcclxuICAgICAgICBsYWJlbC5zZXRUZXh0KG5hbWUpO1xyXG5cclxuICAgICAgICBjb25zdCB7IHRvcCwgbGVmdCwgaGVpZ2h0IH0gPSBsYWJlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBjb25zdCBuYW1lV2lkdGggPSBNYXRoLmNlaWwoZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyhuYW1lLCBsYWJlbC5wcm9wZXJ0aWVzLnRleHRQcm9wZXJ0aWVzLmZvbnRGYW1pbHksIGxhYmVsLnByb3BlcnRpZXMudGV4dFByb3BlcnRpZXMuZm9udFNpemUpKTtcclxuXHJcbiAgICAgICAgbGFiZWwuc2V0Qm91bmRpbmdDbGllbnRSZWN0KHRvcCwgbGVmdCwgbmFtZVdpZHRoLCBoZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFBsYXllckluZm8obmFtZSwgdmFsdWUpIHtcclxuICAgICAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMucGxheWVySW5mb1dpbmRvd0tleSk7XHJcbiAgICAgICAgcGxheWVyLmdldENoaWxkQ29tcG9uZW50KHBsYXllci5oZWFsdGhCYXJLZXkpLnNldFZhbHVlKHZhbHVlKTtcclxuXHJcbiAgICAgICAgY29uc3QgbGFiZWwgPSBwbGF5ZXIuZ2V0Q2hpbGRDb21wb25lbnQocGxheWVyLm5hbWVMYWJlbEtleSk7XHJcbiAgICAgICAgbGFiZWwuc2V0VGV4dChuYW1lKTtcclxuXHJcbiAgICAgICAgY29uc3QgeyB0b3AsIGxlZnQsIGhlaWdodCB9ID0gbGFiZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgY29uc3QgbmFtZVdpZHRoID0gTWF0aC5jZWlsKGdldFRleHRXaWR0aFdpdGhDYW52YXMobmFtZSwgbGFiZWwucHJvcGVydGllcy50ZXh0UHJvcGVydGllcy5mb250RmFtaWx5LCBsYWJlbC5wcm9wZXJ0aWVzLnRleHRQcm9wZXJ0aWVzLmZvbnRTaXplKSk7XHJcblxyXG4gICAgICAgIGxhYmVsLnNldEJvdW5kaW5nQ2xpZW50UmVjdCh0b3AsIGxlZnQsIG5hbWVXaWR0aCwgaGVpZ2h0KTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgTGFiZWwgZnJvbSBcIi4vTGFiZWxcIjtcclxuaW1wb3J0IFByb2dyZXNzQmFyIGZyb20gXCIuL1Byb2dyZXNzQmFyXCI7XHJcbmltcG9ydCBJbWFnZUNvbXBvbmVudCBmcm9tIFwiLi4vSW1hZ2VDb21wb25lbnQvSW1hZ2VDb21wb25lbnRcIjtcclxuXHJcbmltcG9ydCB7IENvbXBvc2l0ZUNvbXBvbmVudCB9IGZyb20gXCIuL0NvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBnZXRUZXh0V2lkdGhXaXRoQ2FudmFzIH0gZnJvbSBcIi4uLy4uL3V0aWxzL3RleHRXaWR0aFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hhcmFjdGVySW5mb1dpbmRvdyBleHRlbmRzIENvbXBvc2l0ZUNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0b3AgPSAwLCBsZWZ0ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwLCBjaGFyYWN0ZXJOYW1lID0gJycsIG1pbkhQLCBtYXhIUCwgaW5pdGlhbEhQLCBpbWFnZXMgPSB7fSwgcGFyZW50Q29tcG9uZW50ID0gbnVsbCkge1xyXG4gICAgICAgIHN1cGVyKHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCwgcGFyZW50Q29tcG9uZW50KTtcclxuXHJcbiAgICAgICAgY29uc3QgbGFiZWxUb3AgPSAxNTtcclxuICAgICAgICBjb25zdCBsYWJlbEhlaWdodCA9IDE2O1xyXG4gICAgICAgIGNvbnN0IG5hbWVXaWR0aCA9IE1hdGguY2VpbChnZXRUZXh0V2lkdGhXaXRoQ2FudmFzKGAke2NoYXJhY3Rlck5hbWV9OmAsICdtb25vc3BhY2UnLCBsYWJlbEhlaWdodCkpO1xyXG5cclxuICAgICAgICBjb25zdCBuYW1lTGFiZWwgPSBuZXcgTGFiZWwobGFiZWxUb3AsIDEwLCBuYW1lV2lkdGggKyAxLCBsYWJlbEhlaWdodCwgYCR7Y2hhcmFjdGVyTmFtZX06YCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGdhcEJldHdlZW5MYWJlbEFuZEhlYWx0aEJhckhlaWdodCA9IDM7XHJcbiAgICAgICAgY29uc3QgbGVmdEFuZFJpZ2h0TWFyZ2luc0ZvckhlYWx0aEJhcldpZHRoID0gMjQ7XHJcbiAgICAgICAgY29uc3QgaGVhbHRoQmFyID0gbmV3IFByb2dyZXNzQmFyKGxhYmVsSGVpZ2h0ICsgbGFiZWxUb3AgKyBnYXBCZXR3ZWVuTGFiZWxBbmRIZWFsdGhCYXJIZWlnaHQsIDEwLCB3aWR0aCAtIGxlZnRBbmRSaWdodE1hcmdpbnNGb3JIZWFsdGhCYXJXaWR0aCwgMjUsIG1pbkhQLCBtYXhIUCwgaW5pdGlhbEhQKTtcclxuXHJcbiAgICAgICAgdGhpcy5uYW1lTGFiZWxLZXkgPSAnbmFtZWxhYmVsJztcclxuICAgICAgICB0aGlzLmhlYWx0aEJhcktleSA9ICdoZWFsdGJhcic7XHJcblxyXG4gICAgICAgIG5hbWVMYWJlbC5zZXRUZXh0Q29sb3IoJyNmZmZmZmYnKTtcclxuXHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGg6IGltZ1dpZHRoLCBuYXR1cmFsSGVpZ2h0OiBpbWdIZWlnaHQgfSA9IGltYWdlcy5iYWNrO1xyXG5cclxuICAgICAgICBjb25zdCBiYWNrSW1hZ2VDb21wb25lbnQgPSBuZXcgSW1hZ2VDb21wb25lbnQoaW1hZ2VzLmJhY2ssIDAsIDAsIGltZ1dpZHRoLCBpbWdIZWlnaHQsIGltZ1dpZHRoLCBpbWdIZWlnaHQsIDAsIDAsIGltZ1dpZHRoLCBpbWdIZWlnaHQpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChuYW1lTGFiZWwsIHRoaXMubmFtZUxhYmVsS2V5KTtcclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChoZWFsdGhCYXIsIHRoaXMuaGVhbHRoQmFyS2V5KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRCYWNrZ3JvdW5kSW1hZ2UoYmFja0ltYWdlQ29tcG9uZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRIZWFsdGhCYXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5oZWFsdGhCYXJLZXkpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBldmVudHMgZnJvbSAnLi4vLi4vZXZlbnQvZXZlbnRzL2V2ZW50cyc7XHJcblxyXG5pbXBvcnQgeyBDb21wb3NpdGVDb21wb25lbnQgfSBmcm9tICcuL0NvbXBvbmVudCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJsZSBleHRlbmRzIENvbXBvc2l0ZUNvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0b3AgPSAwLCBsZWZ0ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwLCByb3dDb3VudCA9IDAsIGNvbHVtbkNvdW50ID0gMCwgY2VsbFdpZHRoID0gMCwgY2VsbEhlaWdodCA9IDAsIHBhcmVudENvbXBvbmVudCA9IG51bGwpIHtcclxuICAgICAgICBzdXBlcih0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQsIHBhcmVudENvbXBvbmVudCk7XHJcblxyXG4gICAgICAgIHRoaXMuY29sdW1uQ291bnQgPSBjb2x1bW5Db3VudDtcclxuICAgICAgICB0aGlzLnJvd0NvdW50ID0gcm93Q291bnQ7XHJcblxyXG4gICAgICAgIHRoaXMuYXJyb3dLZXlIYW5kbGVyID0gdGhpcy5hcnJvd0tleUhhbmRsZXIuYmluZCh0aGlzKTtcclxuXHJcbiAgICAgICAgbGV0IHRvdGFsUm93c0hlaWdodCA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3dDb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCB0b3RhbFJvd3NXaWR0aCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgY29sdW1uQ291bnQ7IGorKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2VsbCA9IG5ldyBDb21wb3NpdGVDb21wb25lbnQodG90YWxSb3dzSGVpZ2h0LCB0b3RhbFJvd3NXaWR0aCwgY2VsbFdpZHRoLCBjZWxsSGVpZ2h0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGNlbGwsIFN0cmluZyhpICogY29sdW1uQ291bnQgKyBqKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY2VsbC5zZXRCYWNrZ3JvdW5kQ29sb3IoJ3JnYmEoMCwgMCwgMCwgMCknKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0b3RhbFJvd3NXaWR0aCArPSBjZWxsV2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRvdGFsUm93c0hlaWdodCArPSBjZWxsSGVpZ2h0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKGV2ZW50cy5LRVlCT0FSRC5LRVlfRE9XTiwgdGhpcy5hcnJvd0tleUhhbmRsZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGFycm93S2V5SGFuZGxlcihlKSB7XHJcbiAgICAgICAgY29uc3Qgc2Nyb2xsWCA9IHRoaXMuc2Nyb2xsWDtcclxuICAgICAgICBjb25zdCBzY3JvbGxZID0gdGhpcy5zY3JvbGxZO1xyXG4gICAgICAgIGNvbnN0IGtleSA9IGUucGF5bG9hZC5rZXk7XHJcblxyXG4gICAgICAgIGlmIChzY3JvbGxYKSB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdBcnJvd0xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxYLnByZXZCdXR0b25IYW5kbGVyKGUpO1xyXG4gICAgICAgICAgICB9IFxyXG5cclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ0Fycm93UmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxYLm5leHRCdXR0b25IYW5kbGVyKGUpO1xyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNjcm9sbFkpIHtcclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gJ0Fycm93VXAnKSB7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxZLnByZXZCdXR0b25IYW5kbGVyKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdBcnJvd0Rvd24nKSB7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxZLm5leHRCdXR0b25IYW5kbGVyKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldFRhYmxlQ29tcG9uZW50KHJvdyA9IDAsIGNvbHVtbiA9IDApIHtcclxuICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQoU3RyaW5nKHJvdyAqIHRoaXMuY29sdW1uQ291bnQgKyBjb2x1bW4pKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNoaWxkID8gY2hpbGQgOiBudWxsO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBjb25zdCBnZXRGaWxlU2l6ZSA9ICh1cmwpID0+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgIHhoci5vcGVuKFwiSEVBRFwiLCB1cmwsIHRydWUpOyBcclxuIFxyXG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PSB4aHIuRE9ORSkge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoXCJDb250ZW50LUxlbmd0aFwiKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHhoci5zZW5kKCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBnZXRGaWxlQmxvYiA9ICh1cmwsIG9ucHJvZ3Jlc3MsIGlkZW50aWZpZXIpID0+IHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHhtbEhUVFAgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICB4bWxIVFRQLm9wZW4oJ0dFVCcsIHVybCwgdHJ1ZSk7XHJcbiAgICAgICAgeG1sSFRUUC5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xyXG5cclxuICAgICAgICBsZXQgcHJldlZhbHVlID0gLTE7XHJcblxyXG4gICAgICAgIHhtbEhUVFAub25sb2FkID0gKGUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFt4bWxIVFRQLnJlc3BvbnNlXSk7XHJcbiAgICAgICAgICAgIHJlc29sdmUod2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYikpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHhtbEhUVFAub25wcm9ncmVzcyA9ICgoeyBsb2FkZWQgfSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAobG9hZGVkICE9PSBwcmV2VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHByZXZWYWx1ZSA9IGxvYWRlZDtcclxuXHJcbiAgICAgICAgICAgICAgICBvbnByb2dyZXNzKGxvYWRlZCwgaWRlbnRpZmllcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgeG1sSFRUUC5zZW5kKCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVGaWxlUHJvbWlzZSA9IChmaWxlKSA9PiB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICBmaWxlLm9ubG9hZCA9IChpKSA9PiB7XHJcbiAgICAgICAgICAgIHJlc29sdmUoaS5zcmNFbGVtZW50KTtcclxuICAgICAgICB9IFxyXG4gICAgfSlcclxufTtcclxuIiwiaW1wb3J0IHsgZ2V0RmlsZVNpemUsIGdldEZpbGVCbG9iLCBjcmVhdGVGaWxlUHJvbWlzZSB9IGZyb20gJy4uL3V0aWxzL2ZpbGUnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTG9hZE1hbmFnZXIge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy50b3RhbFNpemUgPSAwO1xyXG4gICAgICAgIHRoaXMuY3VycmVudExvYWRlZFNpemUgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLmltYWdlVXJsID0gW107XHJcbiAgICAgICAgdGhpcy5sb2FkZWRJbWFnZXMgPSBbXTtcclxuXHJcbiAgICAgICAgdGhpcy5zb3VuZFVybCA9IFtdO1xyXG4gICAgICAgIHRoaXMubG9hZGVkU291bmQgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRVcmwodXJsT2JqZWN0LCBuYW1lT2JqKSB7XHJcbiAgICAgICAgY29uc3Qgc291bmRVcmxzID0gdXJsT2JqZWN0LnNvdW5kO1xyXG4gICAgICAgIGNvbnN0IGltYWdlVXJscyA9IHVybE9iamVjdC5pbWFnZTtcclxuXHJcbiAgICAgICAgY29uc3Qgc291bmROYW1lID0gbmFtZU9iai5zb3VuZDtcclxuICAgICAgICBjb25zdCBpbWFnZU5hbWUgPSBuYW1lT2JqLmltYWdlO1xyXG5cclxuICAgICAgICBpZiAoaW1hZ2VVcmxzKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQXJyYXkodGhpcy5pbWFnZVVybCwgaW1hZ2VVcmxzLCBpbWFnZU5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoc291bmRVcmxzKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQXJyYXkodGhpcy5zb3VuZFVybCwgc291bmRVcmxzLCBzb3VuZE5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVBcnJheShhcnJheUZvclVwZGF0aW5nLCB1cGRhdGluZ0FycmF5LCBuYW1lKSB7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gYXJyYXlGb3JVcGRhdGluZy5maW5kSW5kZXgoKHsgbmFtZTogdXJsTmFtZSB9KSA9PiB1cmxOYW1lID09PSBuYW1lKTtcclxuXHJcbiAgICAgICAgaWYgKH5pbmRleCkge1xyXG4gICAgICAgICAgICBhcnJheUZvclVwZGF0aW5nW2luZGV4XS51cmxzID0gWy4uLmFycmF5Rm9yVXBkYXRpbmdbaW5kZXhdLnVybHMsIC4uLnVwZGF0aW5nQXJyYXldXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXJyYXlGb3JVcGRhdGluZy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHVybHM6IFsuLi51cGRhdGluZ0FycmF5XSxcclxuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGNhbGN1bGF0ZVRvdGFsU2l6ZSgpIHtcclxuICAgICAgICBjb25zdCBwcm9taXNlQXJyID0gW107XHJcblxyXG4gICAgICAgIGxldCBpbWFnZUNvdW50ID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5pbWFnZVVybC5mb3JFYWNoKCh7IHVybHMgfSkgPT4ge1xyXG4gICAgICAgICAgICB1cmxzLmZvckVhY2goKHVybCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcHJvbWlzZUFyci5wdXNoKGdldEZpbGVTaXplKHVybCkpO1xyXG4gICAgICAgICAgICAgICAgaW1hZ2VDb3VudCArPSAxO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNvdW5kVXJsLmZvckVhY2goKHsgdXJscyB9KSA9PiB7XHJcbiAgICAgICAgICAgIHVybHMuZm9yRWFjaCgodXJsKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwcm9taXNlQXJyLnB1c2goZ2V0RmlsZVNpemUodXJsKSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGFzc2V0c1NpemUgPSBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlQXJyKTtcclxuXHJcbiAgICAgICAgdGhpcy50b3RhbFNpemUgPSBhc3NldHNTaXplLnJlZHVjZSgocHJldiwgc2l6ZSkgPT4gcHJldiArIHBhcnNlSW50KHNpemUsIDEwKSwgMCk7XHJcbiAgICAgICAgdGhpcy5pbWFnZXNTaXplID0gYXNzZXRzU2l6ZS5zbGljZSgwLCBpbWFnZUNvdW50KTtcclxuICAgICAgICB0aGlzLnNvdW5kU2l6ZSA9IGFzc2V0c1NpemUuc2xpY2UoaW1hZ2VDb3VudCk7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLnRvdGFsU2l6ZTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBsb2FkKG9ucHJvZ3Jlc3NDYWxsYmFjaykge1xyXG4gICAgICAgIGNvbnN0IHByb21pc2VBcnIgPSBbXTtcclxuICAgICAgICBjb25zdCBsb2FkUHJvZ3Jlc3MgPSB7fTtcclxuXHJcbiAgICAgICAgY29uc3Qgb25wcm9ncmVzcyA9ICh2YWx1ZSwgaSkgPT4ge1xyXG4gICAgICAgICAgICBsb2FkUHJvZ3Jlc3NbaV0gPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIGxldCBjdXJyZW50TG9hZGVkU2l6ZSA9IDA7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhsb2FkUHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRMb2FkZWRTaXplICs9IGxvYWRQcm9ncmVzc1trZXlzW2ldXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50TG9hZGVkU2l6ZSA9IGN1cnJlbnRMb2FkZWRTaXplO1xyXG4gICAgICAgICAgICBjb25zdCBwZXJjZW50ID0gTWF0aC5yb3VuZCh0aGlzLmN1cnJlbnRMb2FkZWRTaXplIC8gdGhpcy50b3RhbFNpemUgKiAxMDApO1xyXG5cclxuICAgICAgICAgICAgaWYgKG9ucHJvZ3Jlc3NDYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgb25wcm9ncmVzc0NhbGxiYWNrKHBlcmNlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgbGV0IGltYWdlQ291bnQgPSAwO1xyXG5cclxuICAgICAgICBsZXQgaWQgPSAwO1xyXG4gICAgICAgIHRoaXMuaW1hZ2VVcmwuZm9yRWFjaCgoeyB1cmxzIH0pID0+IHtcclxuICAgICAgICAgICAgdXJscy5mb3JFYWNoKCh1cmwpID0+IHtcclxuICAgICAgICAgICAgICAgIHByb21pc2VBcnIucHVzaChnZXRGaWxlQmxvYih1cmwsIG9ucHJvZ3Jlc3MsIGlkKSk7XHJcbiAgICAgICAgICAgICAgICBpZCArPSAxO1xyXG4gICAgICAgICAgICAgICAgaW1hZ2VDb3VudCArPSAxO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zb3VuZFVybC5mb3JFYWNoKCh7IHVybHMgfSkgPT4ge1xyXG4gICAgICAgICAgICB1cmxzLmZvckVhY2goKHVybCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcHJvbWlzZUFyci5wdXNoKGdldEZpbGVCbG9iKHVybCwgb25wcm9ncmVzcywgaWQpKTtcclxuICAgICAgICAgICAgICAgIGlkICs9IDE7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBibG9icyA9IGF3YWl0IFByb21pc2UuYWxsKHByb21pc2VBcnIpO1xyXG5cclxuICAgICAgICBjb25zdCBpbWdQcm9taXNlID0gYmxvYnMuc2xpY2UoMCwgaW1hZ2VDb3VudCkubWFwKChibG9iKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICBpbWcuc3JjID0gYmxvYjtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVGaWxlUHJvbWlzZShpbWcpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBzb3VuZFByb21pc2UgPSBibG9icy5zbGljZShpbWFnZUNvdW50KS5tYXAoKGJsb2IpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgc291bmQgPSBuZXcgQXVkaW8oKTtcclxuICAgICAgICAgICAgc291bmQuc3JjID0gYmxvYjtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBzb3VuZDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgYXNzZXRzUHJvbWlzZSA9IFsuLi5pbWdQcm9taXNlXTtcclxuICAgICAgICBsZXQgYXNzZXRzID0gYXdhaXQgUHJvbWlzZS5hbGwoYXNzZXRzUHJvbWlzZSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGdyb3VwZWQgPSB0aGlzLmdldEdyb3VwZWRMb2FkZWRBc3NldHMoWy4uLmFzc2V0cywgLi4uc291bmRQcm9taXNlXSk7XHJcblxyXG4gICAgICAgIHRoaXMuaW1hZ2VVcmwgPSBbXTtcclxuICAgICAgICB0aGlzLnNvdW5kVXJsID0gW107XHJcbiAgICAgICAgdGhpcy5sb2FkZWQgPSB7Li4udGhpcy5sb2FkZWRJbWFnZXMsIC4uLmdyb3VwZWQgfTsgICAgICAgIFxyXG5cclxuICAgICAgICByZXR1cm4gZ3JvdXBlZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRHcm91cGVkTG9hZGVkQXNzZXRzKGFzc2V0cykge1xyXG4gICAgICAgIGNvbnN0IGdyb3VwZWQgPSB7XHJcbiAgICAgICAgICAgIGltYWdlczogW10sXHJcbiAgICAgICAgICAgIHNvdW5kOiBbXVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5pbWFnZVVybC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLmltYWdlVXJsW2ldLnVybHMubGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5pbWFnZVVybFtpXS5uYW1lO1xyXG5cclxuICAgICAgICAgICAgZ3JvdXBlZC5pbWFnZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBpbWFnZXM6IGFzc2V0cy5zbGljZShvZmZzZXQsIG9mZnNldCArIGxlbmd0aCksXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBuYW1lXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgb2Zmc2V0ICs9IGxlbmd0aDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zb3VuZFVybC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLnNvdW5kVXJsW2ldLnVybHMubGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5zb3VuZFVybFtpXS5uYW1lO1xyXG5cclxuICAgICAgICAgICAgZ3JvdXBlZC5zb3VuZC5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHNvdW5kOiBhc3NldHMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBsZW5ndGgpLFxyXG4gICAgICAgICAgICAgICAgbmFtZTogbmFtZVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIG9mZnNldCArPSBsZW5ndGg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZ3JvdXBlZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRJbWFnZXNCeU5hbWUobmFtZSkge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5sb2FkZWQuaW1hZ2VzLmZpbmRJbmRleCgoeyBuYW1lOiBpbWFnZXNOYW1lIH0pID0+IGltYWdlc05hbWUgPT09IG5hbWUpO1xyXG4gICAgICAgIHJldHVybiAofmluZGV4KSA/IHRoaXMubG9hZGVkLmltYWdlc1tpbmRleF0uaW1hZ2VzIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTb3VuZEJ5TmFtZShuYW1lKSB7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSB0aGlzLmxvYWRlZC5zb3VuZC5maW5kSW5kZXgoKHsgbmFtZTogc291bmROYW1lIH0pID0+IHNvdW5kTmFtZSA9PT0gbmFtZSk7XHJcbiAgICAgICAgcmV0dXJuICh+aW5kZXgpID8gdGhpcy5sb2FkZWQuc291bmRbaW5kZXhdLnNvdW5kIDogbnVsbDtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTdG9yYWdlTWFuYWdlciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmtleXMgPSBbXTtcclxuICAgICAgICB0aGlzLnJlY29yZHMgPSBbXTtcclxuXHJcbiAgICAgICAgdGhpcy5tYXhSZWNvcmRzTnVtYmVyID0gMTA7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxTdG9yYWdlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGxvY2FsU3RvcmFnZS5rZXkoaSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoa2V5Lm1hdGNoKC9tYWxla3lsaWstZ2FtZS8pKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmtleXMucHVzaChrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnBhcnNlUmVjb3JkcygpOyAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgc2F2ZVJlc3VsdChuYW1lLCBtb25zdGVyS2lsbGVkKSB7XHJcbiAgICAgICAgY29uc3QgbWF4UmVjb3Jkc051bWJlciA9IHRoaXMubWF4UmVjb3Jkc051bWJlcjtcclxuXHJcbiAgICAgICAgdGhpcy5yZWNvcmRzLnB1c2goe1xyXG4gICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICBtb25zdGVyS2lsbGVkXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucmVjb3Jkcy5zb3J0KChsLCByKSA9PiBsLnRpbWUgLSByLnRpbWUpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucmVjb3Jkcy5sZW5ndGggJiYgaSA8IG1heFJlY29yZHNOdW1iZXI7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCB7IG5hbWUsIG1vbnN0ZXJLaWxsZWQgfSA9IHRoaXMucmVjb3Jkc1tpXTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHJlY29yZCA9IGBuYW1lPSR7bmFtZX07bW9uc3RlcktpbGxlZD0ke21vbnN0ZXJLaWxsZWR9O2A7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdtYWxla3lsaWstZ2FtZT0nICsgaSwgcmVjb3JkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnJlY29yZHMubGVuZ3RoID4gbWF4UmVjb3Jkc051bWJlcikge1xyXG4gICAgICAgICAgICB0aGlzLnJlY29yZHMgPSB0aGlzLnJlY29yZHMuc2xpY2UoMCwgbWF4UmVjb3Jkc051bWJlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHBhcnNlUmVjb3JkcygpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMua2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCByZWNvcmQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmtleXNbaV0pLnNwbGl0KCc7Jyk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBuYW1lID0gcmVjb3JkWzBdLnNwbGl0KCc9JylbMV07XHJcbiAgICAgICAgICAgIGNvbnN0IG1vbnN0ZXJLaWxsZWQgPSByZWNvcmRbMV0uc3BsaXQoJz0nKVsxXTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHJlY29yZE9iamVjdCA9IHtcclxuICAgICAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgICAgICBtb25zdGVyS2lsbGVkLFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnJlY29yZHMucHVzaChyZWNvcmRPYmplY3QpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRTb3J0ZWRSZWNvcmRzKCkge1xyXG4gICAgICAgIHRoaXMucmVjb3Jkcy5zb3J0KChsLCByKSA9PiByLm1vbnN0ZXJLaWxsZWQgLSBsLm1vbnN0ZXJLaWxsZWQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlY29yZHM7XHJcbiAgICB9XHJcbn1cclxuIiwiY29uc3QgUEFUSCA9IHtcclxuICAgIElNQUdFOiB7XHJcbiAgICAgICAgSEVBRF9JTUFHRVM6ICcuL2Fzc2V0cy9pbWFnZXMvbW9uc3RlcnMvaGVhZHMnLFxyXG4gICAgICAgIEJPRFlfSU1BR0VTOiAnLi9hc3NldHMvaW1hZ2VzL21vbnN0ZXJzL2JvZGllcycsXHJcbiAgICAgICAgTEVGVF9BUk1fSU1BR0VTOiAnLi9hc3NldHMvaW1hZ2VzL21vbnN0ZXJzL2FybXMvbGVmdCcsXHJcbiAgICAgICAgUklHSFRfQVJNX0lNQUdFUzogJy4vYXNzZXRzL2ltYWdlcy9tb25zdGVycy9hcm1zL3JpZ2h0JyxcclxuICAgICAgICBMRUdfSU1BR0VTOiAnLi9hc3NldHMvaW1hZ2VzL21vbnN0ZXJzL2xlZ3MnLFxyXG4gICAgICAgIEJBQ0tHUk9VTkRfSU1BR0VTOiAnLi9hc3NldHMvaW1hZ2VzJyxcclxuICAgICAgICBNQUlOX0NIQVI6ICcuL2Fzc2V0cy9pbWFnZXMnLFxyXG4gICAgICAgIE1BR0lDOiAnLi9hc3NldHMvaW1hZ2VzL21hZ2ljJyxcclxuICAgICAgICBVSTogJy4vYXNzZXRzL2ltYWdlcy91aScsXHJcbiAgICAgICAgVEFTSzoge1xyXG4gICAgICAgICAgICBOQU1FOiAnLi9hc3NldHMvaW1hZ2VzL3Rhc2svbmFtZScsXHJcbiAgICAgICAgICAgIE5BTUVfQ09VTlRSWV9CWV9GTEFHOiAnLi9hc3NldHMvaW1hZ2VzL3Rhc2svbmFtZUNvdW50cnlCeUZsYWcnLFxyXG4gICAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgU09VTkQ6IHtcclxuICAgICAgICBNQUdJQzogJy4vYXNzZXRzL3NvdW5kL21hZ2ljJ1xyXG4gICAgfSxcclxufTsgXHJcblxyXG5leHBvcnQgZGVmYXVsdCBQQVRIO1xyXG4iLCJpbXBvcnQgSW1hZ2VDb21wb25lbnQgZnJvbSAnLi4vVUkvSW1hZ2VDb21wb25lbnQvSW1hZ2VDb21wb25lbnQnO1xyXG5cclxuaW1wb3J0IHsgQ29tcG9uZW50LCBDb21wb3NpdGVDb21wb25lbnQgfSBmcm9tICcuLi9VSS9Db21wb25lbnQvQ29tcG9uZW50JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vbnN0ZXJHcmFwaGljQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9zaXRlQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHRvcCwgbGVmdCwgaGVhZEltYWdlLCBsZWZ0QXJtSW1hZ2UsIHJpZ2h0SW1hZ2UsIGJvZHlJbWFnZSwgbGVnSW1hZ2UsIHBhcmVudENvbXBvbmVudCA9IG51bGwpIHtcclxuICAgICAgICBjb25zdCB7IG5hdHVyYWxIZWlnaHQ6IGhlYWROYXR1cmFsSGVpZ2h0IH0gPSBoZWFkSW1hZ2U7XHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGg6IGJvZHlOYXR1cmFsV2lkdGgsIG5hdHVyYWxIZWlnaHQ6IGJvZHlOYXR1cmFsSGVpZ2h0IH0gPSBib2R5SW1hZ2U7XHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGg6IGxlZnROYXR1cmFsV2lkdGggfSA9IGxlZnRBcm1JbWFnZTtcclxuICAgICAgICBjb25zdCB7IG5hdHVyYWxXaWR0aDogcmlnaHROYXR1cmFsV2lkdGggfSA9IHJpZ2h0SW1hZ2U7XHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsSGVpZ2h0OiBsZWdOYXR1cmFsSGVpZ2h0IH0gPSBsZWdJbWFnZTtcclxuXHJcbiAgICAgICAgY29uc3QgaGVpZ2h0Q29ycmVjdGlvbiA9IDMwO1xyXG4gICAgICAgIGNvbnN0IHdpZHRoID0gbGVmdE5hdHVyYWxXaWR0aCArIGJvZHlOYXR1cmFsV2lkdGggKyByaWdodE5hdHVyYWxXaWR0aDtcclxuICAgICAgICBjb25zdCBoZWlnaHQgPSBoZWFkTmF0dXJhbEhlaWdodCArIGJvZHlOYXR1cmFsSGVpZ2h0ICsgbGVnTmF0dXJhbEhlaWdodCAtIGhlaWdodENvcnJlY3Rpb247XHJcblxyXG4gICAgICAgIHN1cGVyKHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCwgcGFyZW50Q29tcG9uZW50KTtcclxuXHJcbiAgICAgICAgY29uc3QgeyBcclxuICAgICAgICAgICAgaGVhZENvbXBvbmVudCxcclxuICAgICAgICAgICAgYm9keUNvbXBvbmVudCxcclxuICAgICAgICAgICAgbGVmdEFybUNvbXBvbmVudCxcclxuICAgICAgICAgICAgcmlnaHRBcm1Db21wb25lbnQsXHJcbiAgICAgICAgICAgIGxlZ0NvbXBvbmVudFxyXG4gICAgICAgIH0gPSB0aGlzLmluaXRNb25zdGVyUGFydHMoaGVhZEltYWdlLCBib2R5SW1hZ2UsIGxlZnRBcm1JbWFnZSwgcmlnaHRJbWFnZSwgbGVnSW1hZ2UpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChib2R5Q29tcG9uZW50LCAnYm9keScpO1xyXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGhlYWRDb21wb25lbnQsICdoZWFkJyk7XHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQobGVnQ29tcG9uZW50LCAnbGVnJyk7XHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQobGVmdEFybUNvbXBvbmVudCwgJ2xlZnRhcm0nKTtcclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChyaWdodEFybUNvbXBvbmVudCwgJ3JpZ2h0YXJtJyk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdEFuaW1hdGlvblRvSGVhZChoZWFkQ29tcG9uZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0TW9uc3RlclBhcnRzKGhlYWRJbWFnZSwgYm9keUltYWdlLCBsZWZ0QXJtSW1hZ2UsIHJpZ2h0SW1hZ2UsIGxlZ0ltYWdlKSB7XHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGg6IGhlYWROYXR1cmFsV2lkdGgsIG5hdHVyYWxIZWlnaHQ6IGhlYWROYXR1cmFsSGVpZ2h0IH0gPSBoZWFkSW1hZ2U7XHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGg6IGJvZHlOYXR1cmFsV2lkdGgsIG5hdHVyYWxIZWlnaHQ6IGJvZHlOYXR1cmFsSGVpZ2h0IH0gPSBib2R5SW1hZ2U7XHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGg6IGxlZnROYXR1cmFsV2lkdGgsIG5hdHVyYWxIZWlnaHQ6IGxlZnROYXR1cmFsSGVpZ2h0IH0gPSBsZWZ0QXJtSW1hZ2U7XHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGg6IHJpZ2h0TmF0dXJhbFdpZHRoLCBuYXR1cmFsSGVpZ2h0OiByaWdodE5hdHVyYWxIZWlnaHQgfSA9IHJpZ2h0SW1hZ2U7XHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGg6IGxlZ05hdHVyYWxXaWR0aCwgbmF0dXJhbEhlaWdodDogbGVnTmF0dXJhbEhlaWdodCB9ID0gbGVnSW1hZ2U7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgICAgY29uc3QgYm9keUNvbXBvbmVudCA9IG5ldyBDb21wb25lbnQoaGVpZ2h0IC0gbGVnTmF0dXJhbEhlaWdodCAtIGJvZHlOYXR1cmFsSGVpZ2h0LCB3aWR0aCAvIDIgLSBib2R5TmF0dXJhbFdpZHRoIC8gMiwgYm9keU5hdHVyYWxXaWR0aCwgYm9keU5hdHVyYWxIZWlnaHQpO1xyXG4gICAgICAgIGJvZHlDb21wb25lbnQuc2V0QmFja2dyb3VuZEltYWdlKG5ldyBJbWFnZUNvbXBvbmVudChib2R5SW1hZ2UsIDAsIDAsIGJvZHlOYXR1cmFsV2lkdGgsIGJvZHlOYXR1cmFsSGVpZ2h0LCBib2R5TmF0dXJhbFdpZHRoLCBib2R5TmF0dXJhbEhlaWdodCwgMCwgMCwgYm9keU5hdHVyYWxXaWR0aCwgYm9keU5hdHVyYWxIZWlnaHQpKSAgXHJcblxyXG4gICAgICAgIGNvbnN0IGhlYWRUb3BPZmZzZXQgPSAzMDtcclxuICAgICAgICBjb25zdCBoZWFkTGVmdE9mZnNldCA9IDE1O1xyXG4gICAgICAgIGNvbnN0IGhlYWRDb21wb25lbnQgPSBuZXcgQ29tcG9uZW50KGhlaWdodCAtIGxlZ05hdHVyYWxIZWlnaHQgLSBib2R5TmF0dXJhbEhlaWdodCAtIGhlYWROYXR1cmFsSGVpZ2h0ICsgaGVhZFRvcE9mZnNldCwgd2lkdGggLyAyIC0gaGVhZE5hdHVyYWxXaWR0aCAvIDIgLSBoZWFkTGVmdE9mZnNldCwgaGVhZE5hdHVyYWxXaWR0aCwgaGVhZE5hdHVyYWxIZWlnaHQpO1xyXG4gICAgICAgIGhlYWRDb21wb25lbnQuc2V0QmFja2dyb3VuZEltYWdlKG5ldyBJbWFnZUNvbXBvbmVudChoZWFkSW1hZ2UsIDAsIDAsIGhlYWROYXR1cmFsV2lkdGgsIGhlYWROYXR1cmFsSGVpZ2h0LCBoZWFkTmF0dXJhbFdpZHRoLCBoZWFkTmF0dXJhbEhlaWdodCwgMCwgMCwgaGVhZE5hdHVyYWxXaWR0aCwgaGVhZE5hdHVyYWxIZWlnaHQpKTtcclxuXHJcbiAgICAgICAgY29uc3QgbGVnTGVmdE9mZnNldCA9IDEzO1xyXG4gICAgICAgIGNvbnN0IGxlZ0NvbXBvbmVudCA9IG5ldyBDb21wb25lbnQoaGVpZ2h0IC0gbGVnTmF0dXJhbEhlaWdodCwgd2lkdGggLyAyIC0gbGVnTmF0dXJhbFdpZHRoIC8gMiAtIGxlZ0xlZnRPZmZzZXQsIGxlZ05hdHVyYWxXaWR0aCwgbGVnTmF0dXJhbEhlaWdodCk7XHJcbiAgICAgICAgbGVnQ29tcG9uZW50LnNldEJhY2tncm91bmRJbWFnZShuZXcgSW1hZ2VDb21wb25lbnQobGVnSW1hZ2UsIDAsIDAsIGxlZ05hdHVyYWxXaWR0aCwgbGVnTmF0dXJhbEhlaWdodCwgbGVnTmF0dXJhbFdpZHRoLCBsZWdOYXR1cmFsSGVpZ2h0LCAwLCAwLCBsZWdOYXR1cmFsV2lkdGgsIGxlZ05hdHVyYWxIZWlnaHQpKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBsZWZ0QXJtVG9wT2Zmc2V0ID0gNDU7XHJcbiAgICAgICAgY29uc3QgbGVmdEFybUxlZnRPZmZzZXQgPSAxNTtcclxuICAgICAgICBjb25zdCBsZWZ0QXJtQ29tcG9uZW50ID0gbmV3IENvbXBvbmVudChoZWlnaHQgLSBsZWdOYXR1cmFsSGVpZ2h0IC0gYm9keU5hdHVyYWxIZWlnaHQgKyBsZWZ0QXJtVG9wT2Zmc2V0LCB3aWR0aCAvIDIgLSBsZWZ0QXJtTGVmdE9mZnNldCwgbGVmdE5hdHVyYWxXaWR0aCwgbGVmdE5hdHVyYWxIZWlnaHQpO1xyXG4gICAgICAgIGxlZnRBcm1Db21wb25lbnQuc2V0QmFja2dyb3VuZEltYWdlKG5ldyBJbWFnZUNvbXBvbmVudChsZWZ0QXJtSW1hZ2UsIDAsIDAsIGxlZnROYXR1cmFsV2lkdGgsIGxlZnROYXR1cmFsSGVpZ2h0LCBsZWZ0TmF0dXJhbFdpZHRoLCBsZWZ0TmF0dXJhbEhlaWdodCwgMCwgMCwgbGVmdE5hdHVyYWxXaWR0aCwgbGVmdE5hdHVyYWxIZWlnaHQpKTtcclxuXHJcbiAgICAgICAgY29uc3QgcmlnaHRBcm1Ub3BPZmZzZXQgPSA0MDtcclxuICAgICAgICBjb25zdCByaWdodEFybUxlZnRPZmZzZXQgPSA4OTtcclxuICAgICAgICBjb25zdCByaWdodEFybUNvbXBvbmVudCA9IG5ldyBDb21wb25lbnQoaGVpZ2h0IC0gbGVnTmF0dXJhbEhlaWdodCAtIGJvZHlOYXR1cmFsSGVpZ2h0ICsgcmlnaHRBcm1Ub3BPZmZzZXQsIHdpZHRoIC8gMiAtIHJpZ2h0QXJtTGVmdE9mZnNldCwgcmlnaHROYXR1cmFsV2lkdGgsIHJpZ2h0TmF0dXJhbEhlaWdodCk7XHJcbiAgICAgICAgcmlnaHRBcm1Db21wb25lbnQuc2V0QmFja2dyb3VuZEltYWdlKG5ldyBJbWFnZUNvbXBvbmVudChyaWdodEltYWdlLCAwLCAwLCByaWdodE5hdHVyYWxXaWR0aCwgcmlnaHROYXR1cmFsSGVpZ2h0LCByaWdodE5hdHVyYWxXaWR0aCwgcmlnaHROYXR1cmFsSGVpZ2h0LCAwLCAwLCByaWdodE5hdHVyYWxXaWR0aCwgcmlnaHROYXR1cmFsSGVpZ2h0KSk7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGhlYWRDb21wb25lbnQsXHJcbiAgICAgICAgICAgIGJvZHlDb21wb25lbnQsXHJcbiAgICAgICAgICAgIGxlZnRBcm1Db21wb25lbnQsXHJcbiAgICAgICAgICAgIHJpZ2h0QXJtQ29tcG9uZW50LFxyXG4gICAgICAgICAgICBsZWdDb21wb25lbnRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRBbmltYXRpb25Ub0hlYWQoaGVhZENvbXBvbmVudCkge1xyXG4gICAgICAgIGNvbnN0IHRpbWVJblNlY29uZCA9IDI7XHJcbiAgICAgICAgY29uc3QgdG9NaWxsaVNlY29uZFNjYWxlID0gMTAwMDtcclxuXHJcbiAgICAgICAgY29uc3QgZnVsbFBhdGhMZW5ndGggPSA2MDtcclxuICAgICAgICBjb25zdCBoYWxmUGF0aExlbmd0aCA9IE1hdGguZmxvb3IoZnVsbFBhdGhMZW5ndGggLyAyKTtcclxuXHJcbiAgICAgICAgY29uc3QgZG93blNwZWVkID0gLShoYWxmUGF0aExlbmd0aCAgLyAodGltZUluU2Vjb25kICogdG9NaWxsaVNlY29uZFNjYWxlICogMC4yNSkpOyBcclxuICAgICAgICBjb25zdCB1cFNwZWVkID0gZnVsbFBhdGhMZW5ndGggIC8gKHRpbWVJblNlY29uZCAqIHRvTWlsbGlTZWNvbmRTY2FsZSAqIDAuNSk7IFxyXG4gICAgICAgIGNvbnN0IHRvSW5pdGlhbFBvc1NwZWVkID0gLShoYWxmUGF0aExlbmd0aCAgLyAodGltZUluU2Vjb25kICogdG9NaWxsaVNlY29uZFNjYWxlICogMC4yNSkpOyBcclxuXHJcbiAgICAgICAgaGVhZENvbXBvbmVudC5hbmltYXRpb25zLnNldEFuaW1hdGlvbignaGVhZE1vdmluZycsIHRpbWVJblNlY29uZCwgJ2luZmluaXRlJywgKGNvbnRleHQsIGluaXRpYWxQcm9wZXJ0aWVzLCBwcm9wZXJ0aWVzLCBlbGFwc2VUaW1lLCBjb21wb25lbnQpID0+IHtcclxuICAgICAgICAgICAgbGV0IHNwZWVkO1xyXG5cclxuICAgICAgICAgICAgaWYgKGVsYXBzZVRpbWUgPD0gMC4yNSkge1xyXG4gICAgICAgICAgICAgICAgc3BlZWQgPSBkb3duU3BlZWQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxhcHNlVGltZSA+IDAuMjUgJiYgZWxhcHNlVGltZSA8PSAwLjc1KSB7XHJcbiAgICAgICAgICAgICAgICBzcGVlZCA9IHVwU3BlZWQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxhcHNlVGltZSA+IDAuNzUpIHtcclxuICAgICAgICAgICAgICAgIHNwZWVkID0gdG9Jbml0aWFsUG9zU3BlZWQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHByb3BlcnRpZXMuYm91bmRpbmdDbGllbnRSZWN0LnRvcCArPSBzcGVlZDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDaGFyYWN0ZXIge1xyXG4gICAgY29uc3RydWN0b3IobmFtZSwgbWF4SFAsIGluaXRpYWxIUCwgZ3JhcGhpY0NvbXBvbmVudCA9IG51bGwpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEhQID0gaW5pdGlhbEhQO1xyXG4gICAgICAgIHRoaXMubWF4SFAgPSBtYXhIUDtcclxuICAgICAgICB0aGlzLmdyYXBoaWNDb21wb25lbnQgPSBncmFwaGljQ29tcG9uZW50O1xyXG4gICAgICAgIHRoaXMubWFnaWNzID0gW107XHJcblxyXG4gICAgICAgIHRoaXMuaHBDaGFuZ2VMaXN0ZW5lcnMgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRHcmFwaGljQ29tcG9uZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdyYXBoaWNDb21wb25lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgYXR0YWNrKGNoYXJhY3RlciwgbWFnaWMsIGNhbnZhcykge1xyXG4gICAgICAgIGlmIChtYWdpYykge1xyXG4gICAgICAgICAgICBhd2FpdCBtYWdpYy5hdHRhY2sodGhpcywgY2hhcmFjdGVyLCBjYW52YXMpO1xyXG4gICAgICAgICAgICBjaGFyYWN0ZXIudGFrZUF0dGFjayhtYWdpYy5kYW1hZ2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNoYXJhY3Rlci50YWtlQXR0YWNrKDUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB0YWtlQXR0YWNrKGRhbWFnZSkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudEhQIC09IGRhbWFnZTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEhQIDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRIUCA9IDA7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuaHBDaGFuZ2VMaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+IHtcclxuICAgICAgICAgICAgbGlzdGVuZXIodGhpcy5jdXJyZW50SFApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkTWFnaWMobWFnaWMpIHtcclxuICAgICAgICB0aGlzLm1hZ2ljcy5wdXNoKG1hZ2ljKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRNYWdpY3MoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubWFnaWNzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE5hbWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDdXJyZW50SFAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEhQO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE1heEhQKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1heEhQO1xyXG4gICAgfVxyXG5cclxuICAgIGlzQWxpdmUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEhQID4gMDtcclxuICAgIH1cclxuXHJcbiAgICBhZGRIUENoYW5nZUxpc3RlbmVyKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgdGhpcy5ocENoYW5nZUxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgTW9uc3RlckdyYXBoaWNDb21wb25lbnQgZnJvbSAnLi4vR3JhcGhpY0NvbXBvbmVudC9Nb25zdGVyR3JhcGhpY0NvbXBvbmVudCc7XHJcbmltcG9ydCBDaGFyYWN0ZXIgZnJvbSAnLi4vQ2hhcmFjdGVyL0NoYXJhY3Rlcic7XHJcblxyXG5jb25zdCBhZGplY3RpdmVzID0gW1xyXG4gICAgJ9Cj0LbQsNGB0L3Ri9C5JywgXHJcbiAgICAn0KHQvtC/0LvQuNCy0YvQuScsXHJcbiAgICAn0JDQtNGB0LrQuNC5JyxcclxuICAgICfQkdC10LfQsdC+0LbQvdGL0LknLFxyXG4gICAgJ9CR0LXQt9C20LDQu9C+0YHRgtC90YvQuScsXHJcbiAgICAn0JHRg9C50L3Ri9C5JyxcclxuICAgICfQlNC40LrQuNC5JyxcclxuICAgICfQlNGM0Y/QstC+0LvRjNGB0LrQuNC5JyxcclxuICAgICfQltC10YHRgtC+0LrQuNC5JyxcclxuICAgICfQl9Cy0LXRgNGB0LrQuNC5JyxcclxuICAgICfQl9C70L7QsdC90YvQuScsXHJcbiAgICAn0J3QsNCz0LvRi9C5JyxcclxuICAgICfQndC10LjRgdGC0L7QstGL0LknLFxyXG4gICAgJ9Cd0LXRg9C00LXRgNC20LjQvNGL0LknLFxyXG4gICAgJ9Ch0LDRgtCw0L3QuNC90YHQutC40LknLFxyXG4gICAgJ9Ch0YPQvNCw0YHRiNC10LTRiNC40LknLFxyXG5dO1xyXG5cclxuY29uc3QgcmFjZXMgPSBbXHJcbiAgICAn0J7Qs9GAJyxcclxuICAgICfQk9C90L7QvCcsXHJcbiAgICAn0JPQvtCx0LvQuNC9JyxcclxuICAgICfQktCw0LzQv9C40YAnLFxyXG4gICAgJ9CU0LXQvNC+0L0nLFxyXG4gICAgJ9CX0L7QvNCx0LgnLFxyXG4gICAgJ9Ce0LHQvtGA0L7RgtC10L3RjCcsXHJcbiAgICAn0KLRgNC+0LvQu9GMJyxcclxuXTtcclxuXHJcbmNvbnN0IG5hbWVzID0gW1xyXG4gICAgJ9Ci0L7QvCcsXHJcbiAgICAn0JzQsNC60YEnLFxyXG4gICAgJ9CU0LjQvNCwJyxcclxuICAgICfQlNC10L3QuNGBJyxcclxuICAgICfQkNGA0YLQtdC8JyxcclxuICAgICfQktCw0LTQuNC8JyxcclxuICAgICfQktCw0YHRjycsXHJcbiAgICAn0JPQtdC90LAnLFxyXG4gICAgJ9CW0LXQvdGPJyxcclxuICAgICfQmNC70YzRjycsXHJcbiAgICAn0JrQuNGA0LjQu9C7JyxcclxuICAgICfQnNCw0LrQsNGAJyxcclxuICAgICfQndC40LrQuNGC0LAnLFxyXG4gICAgJ9Ce0LvQtdCzJyxcclxuICAgICfQn9Cw0YjQsCcsXHJcbiAgICAn0KDQvtC80LAnLFxyXG5dO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9uc3RlckZhY3Rvcnkge1xyXG4gICAgY29uc3RydWN0b3IoaGVhZEltZ3MsIGxlZnRBcm1JbWdzLCByaWdodEFybUltZ3MsIGJvZHlJbWdzLCBsZWdJbWdzKSB7XHJcbiAgICAgICAgdGhpcy5oZWFkSW1ncyA9IFsuLi5oZWFkSW1nc107XHJcbiAgICAgICAgdGhpcy5sZWZ0QXJtSW1ncyA9IFsuLi5sZWZ0QXJtSW1nc107XHJcbiAgICAgICAgdGhpcy5yaWdodEFybUltZ3MgPSBbLi4ucmlnaHRBcm1JbWdzXTtcclxuICAgICAgICB0aGlzLmJvZHlJbWdzID0gWy4uLmJvZHlJbWdzXTtcclxuICAgICAgICB0aGlzLmxlZ0ltZ3MgPSBbLi4ubGVnSW1nc107XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlTW9uc3RlcihjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0KSB7XHJcbiAgICAgICAgY29uc3QgcmFuZCA9IE1hdGgucmFuZG9tO1xyXG4gICAgICAgIGNvbnN0IHJvdW5kID0gTWF0aC5yb3VuZDtcclxuXHJcbiAgICAgICAgY29uc3QgaGVhZEluZGV4ID0gcm91bmQocmFuZCgpICogKHRoaXMuaGVhZEltZ3MubGVuZ3RoIC0gMSkpO1xyXG4gICAgICAgIGNvbnN0IGxlZnRBcm1JbmRleCA9IHJvdW5kKHJhbmQoKSAqICh0aGlzLmxlZnRBcm1JbWdzLmxlbmd0aCAtIDEpKTtcclxuICAgICAgICBjb25zdCByaWdodEFybUluZGV4ID0gcm91bmQocmFuZCgpICogKHRoaXMucmlnaHRBcm1JbWdzLmxlbmd0aCAtIDEpKTtcclxuICAgICAgICBjb25zdCBib2R5SW5kZXggPSByb3VuZChyYW5kKCkgKiAodGhpcy5ib2R5SW1ncy5sZW5ndGggLSAxKSk7XHJcbiAgICAgICAgY29uc3QgbGVnSW5kZXggPSByb3VuZChyYW5kKCkgKiAodGhpcy5sZWdJbWdzLmxlbmd0aCAtIDEpKTtcclxuXHJcbiAgICAgICAgY29uc3QgbWFyZ2luVG9wID0gMTUwO1xyXG4gICAgICAgIGNvbnN0IG1hcmdpbkxlZnQgPSAxMDA7XHJcblxyXG4gICAgICAgIGNvbnN0IG1vbnN0ZXJHcmFwaGljID0gbmV3IE1vbnN0ZXJHcmFwaGljQ29tcG9uZW50KDAsIDAsIHRoaXMuaGVhZEltZ3NbaGVhZEluZGV4XSwgdGhpcy5sZWZ0QXJtSW1nc1tsZWZ0QXJtSW5kZXhdLCB0aGlzLnJpZ2h0QXJtSW1nc1tyaWdodEFybUluZGV4XSwgdGhpcy5ib2R5SW1nc1tib2R5SW5kZXhdLCB0aGlzLmxlZ0ltZ3NbbGVnSW5kZXhdKTtcclxuICAgICAgICBjb25zdCB7IHdpZHRoOiBtb25zdGVyV2lkdGgsICBoZWlnaHQ6IG1vbnN0ZXJIZWlnaHQgfSA9IG1vbnN0ZXJHcmFwaGljLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIG1vbnN0ZXJHcmFwaGljLnNldEJvdW5kaW5nQ2xpZW50UmVjdChNYXRoLmZsb29yKChjYW52YXNIZWlnaHQgLSBtYXJnaW5Ub3ApIC8gMiAtIG1vbnN0ZXJIZWlnaHQgLyAyKSwgTWF0aC5mbG9vcihjYW52YXNXaWR0aCAvIDIgKyBtYXJnaW5MZWZ0KSwgbW9uc3RlcldpZHRoLCBtb25zdGVySGVpZ2h0KTtcclxuXHJcbiAgICAgICAgY29uc3QgZmlyc3ROYW1lID0gYWRqZWN0aXZlc1tyb3VuZChyYW5kKCkgKiAoYWRqZWN0aXZlcy5sZW5ndGggLSAxKSldO1xyXG4gICAgICAgIGNvbnN0IHNlY29uZE5hbWUgPSByYWNlc1tyb3VuZChyYW5kKCkgKiAocmFjZXMubGVuZ3RoIC0gMSkpXTtcclxuICAgICAgICBjb25zdCB0aGlyZE5hbWUgPSBuYW1lc1tyb3VuZChyYW5kKCkgKiAobmFtZXMubGVuZ3RoIC0gMSkpXTtcclxuXHJcbiAgICAgICAgY29uc3QgbW9uc3RlciA9IG5ldyBDaGFyYWN0ZXIoYCR7Zmlyc3ROYW1lfSAke3NlY29uZE5hbWV9ICR7dGhpcmROYW1lfWAsIDEwMCwgMTAwLCBtb25zdGVyR3JhcGhpYyk7XHJcblxyXG4gICAgICAgIHJldHVybiBtb25zdGVyO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQQVRIIGZyb20gJy4uL3BhdGgvcGF0aCc7XHJcblxyXG5jb25zdCBjb3VudHJ5TWFwID0gW1xyXG4gICAge1xyXG4gICAgICAgIGNvdW50cnk6ICfQkNCy0YHRgtGA0LDQu9C40Y8nLFxyXG4gICAgICAgIGNhcGl0YWw6ICfQutCw0L3QsdC10YDRgNCwJyxcclxuICAgICAgICBmbGFnSW1hZ2U6IGAke1BBVEguSU1BR0UuVEFTSy5OQU1FX0NPVU5UUllfQllfRkxBR30vYXVzdHJhbGlhLnBuZ2BcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY291bnRyeTogJ9CQ0LLRgdGC0YDQuNGPJyxcclxuICAgICAgICBjYXBpdGFsOiAn0LLQtdC90LAnLFxyXG4gICAgICAgIGZsYWdJbWFnZTogYCR7UEFUSC5JTUFHRS5UQVNLLk5BTUVfQ09VTlRSWV9CWV9GTEFHfS9hdXN0cmlhLnBuZ2BcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY291bnRyeTogJ9CR0LXQu9Cw0YDRg9GB0YwnLFxyXG4gICAgICAgIGNhcGl0YWw6ICfQvNC40L3RgdC6JyxcclxuICAgICAgICBmbGFnSW1hZ2U6IGAke1BBVEguSU1BR0UuVEFTSy5OQU1FX0NPVU5UUllfQllfRkxBR30vYmVsYXJ1cy5wbmdgXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvdW50cnk6ICfQkdGA0LDQt9C40LvQuNGPJyxcclxuICAgICAgICBjYXBpdGFsOiAn0LHRgNCw0LfQuNC70LjQsCcsXHJcbiAgICAgICAgZmxhZ0ltYWdlOiBgJHtQQVRILklNQUdFLlRBU0suTkFNRV9DT1VOVFJZX0JZX0ZMQUd9L2JyYXppbC5wbmdgXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvdW50cnk6ICfQktC10LvQuNC60L7QsdGA0LjRgtCw0L3QuNGPJyxcclxuICAgICAgICBjYXBpdGFsOiAn0LvQvtC90LTQvtC9JyxcclxuICAgICAgICBmbGFnSW1hZ2U6IGAke1BBVEguSU1BR0UuVEFTSy5OQU1FX0NPVU5UUllfQllfRkxBR30vdW5pdGVka2luZ2RvbS5wbmdgXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvdW50cnk6ICfQk9GA0LXRhtC40Y8nLFxyXG4gICAgICAgIGNhcGl0YWw6ICfQsNGE0LjQvdGLJyxcclxuICAgICAgICBmbGFnSW1hZ2U6IGAke1BBVEguSU1BR0UuVEFTSy5OQU1FX0NPVU5UUllfQllfRkxBR30vZ3JlZWNlLnBuZ2BcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY291bnRyeTogJ9CV0LPQuNC/0LXRgicsXHJcbiAgICAgICAgY2FwaXRhbDogJ9C60LDQuNGAJyxcclxuICAgICAgICBmbGFnSW1hZ2U6IGAke1BBVEguSU1BR0UuVEFTSy5OQU1FX0NPVU5UUllfQllfRkxBR30vZWd5cHQucG5nYFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb3VudHJ5OiAn0JjQvdC00LjRjycsXHJcbiAgICAgICAgY2FwaXRhbDogJ9C00LXQu9C4JyxcclxuICAgICAgICBmbGFnSW1hZ2U6IGAke1BBVEguSU1BR0UuVEFTSy5OQU1FX0NPVU5UUllfQllfRkxBR30vaW5kaWEucG5nYFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb3VudHJ5OiAn0JjRgdC/0LDQvdC40Y8nLFxyXG4gICAgICAgIGNhcGl0YWw6ICfQvNCw0LTRgNC40LQnLFxyXG4gICAgICAgIGZsYWdJbWFnZTogYCR7UEFUSC5JTUFHRS5UQVNLLk5BTUVfQ09VTlRSWV9CWV9GTEFHfS9zcGFpbi5wbmdgXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvdW50cnk6ICfQmNGC0LDQu9C40Y8nLFxyXG4gICAgICAgIGNhcGl0YWw6ICfRgNC40LwnLFxyXG4gICAgICAgIGZsYWdJbWFnZTogYCR7UEFUSC5JTUFHRS5UQVNLLk5BTUVfQ09VTlRSWV9CWV9GTEFHfS9pdGFseS5wbmdgXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvdW50cnk6ICfQmtCw0LfQsNGF0YHRgtCw0L0nLFxyXG4gICAgICAgIGNhcGl0YWw6ICfQsNGB0YLQsNC90LAnLFxyXG4gICAgICAgIGZsYWdJbWFnZTogYCR7UEFUSC5JTUFHRS5UQVNLLk5BTUVfQ09VTlRSWV9CWV9GTEFHfS9rYXpha2hzdGFuLnBuZ2BcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY291bnRyeTogJ9Ca0LjRgtCw0LknLFxyXG4gICAgICAgIGNhcGl0YWw6ICfQv9C10LrQuNC9JyxcclxuICAgICAgICBmbGFnSW1hZ2U6IGAke1BBVEguSU1BR0UuVEFTSy5OQU1FX0NPVU5UUllfQllfRkxBR30vY2hpbmEucG5nYFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb3VudHJ5OiAn0JrQvtGA0LXRjyDQodC10LLQtdGA0L3QsNGPJyxcclxuICAgICAgICBjYXBpdGFsOiAn0L/RhdC10L3RjNGP0L0nLFxyXG4gICAgICAgIGZsYWdJbWFnZTogYCR7UEFUSC5JTUFHRS5UQVNLLk5BTUVfQ09VTlRSWV9CWV9GTEFHfS9ub3J0aGtvcmVhLnBuZ2BcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY291bnRyeTogJ9Ca0L7RgNC10Y8g0K7QttC90LDRjycsXHJcbiAgICAgICAgY2FwaXRhbDogJ9GB0LXRg9C7JyxcclxuICAgICAgICBmbGFnSW1hZ2U6IGAke1BBVEguSU1BR0UuVEFTSy5OQU1FX0NPVU5UUllfQllfRkxBR30vc291dGhrb3JlYS5wbmdgXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIGNvdW50cnk6ICfQoNC+0YHRgdC40LnRgdC60LDRjyDQpNC10LTQtdGA0LDRhtC40Y8nLFxyXG4gICAgICAgIGNhcGl0YWw6ICfQvNC+0YHQutCy0LAnLFxyXG4gICAgICAgIGZsYWdJbWFnZTogYCR7UEFUSC5JTUFHRS5UQVNLLk5BTUVfQ09VTlRSWV9CWV9GTEFHfS9ydXNzaWEucG5nYFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjb3VudHJ5OiAn0KHQqNCQJyxcclxuICAgICAgICBjYXBpdGFsOiAn0LLQsNGI0LjQvdCz0YLQvtC9JyxcclxuICAgICAgICBmbGFnSW1hZ2U6IGAke1BBVEguSU1BR0UuVEFTSy5OQU1FX0NPVU5UUllfQllfRkxBR30vdW5pdGVkc3RhdGVzLnBuZ2BcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY291bnRyeTogJ9Cj0LrRgNCw0LjQvdCwJyxcclxuICAgICAgICBjYXBpdGFsOiAn0LrQuNC10LInLFxyXG4gICAgICAgIGZsYWdJbWFnZTogYCR7UEFUSC5JTUFHRS5UQVNLLk5BTUVfQ09VTlRSWV9CWV9GTEFHfS91a3JhaW5lLnBuZ2BcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY291bnRyeTogJ9Cv0L/QvtC90LjRjycsXHJcbiAgICAgICAgY2FwaXRhbDogJ9GC0L7QutC40L4nLFxyXG4gICAgICAgIGZsYWdJbWFnZTogYCR7UEFUSC5JTUFHRS5UQVNLLk5BTUVfQ09VTlRSWV9CWV9GTEFHfS9qYXBhbi5wbmdgXHJcbiAgICB9LFxyXG5dO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY291bnRyeU1hcDtcclxuIiwiaW1wb3J0IFBBVEggZnJvbSAnLi4vcGF0aC9wYXRoJztcclxuXHJcbmNvbnN0IG5hbWVUYXNrTWFwID0gW1xyXG4gICAge1xyXG4gICAgICAgIG5hbWVzOiBbJ2FsbGlnYXRvcicsICdjcm9jb2RpbGUnXSxcclxuICAgICAgICBpbWFnZTogYCR7UEFUSC5JTUFHRS5UQVNLLk5BTUV9L2FsbGlnYXRvci5qcGdgXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIG5hbWVzOiBbJ2JlYXInXSxcclxuICAgICAgICBpbWFnZTogYCR7UEFUSC5JTUFHRS5UQVNLLk5BTUV9L2JlYXIuanBnYFxyXG4gICAgfSxcclxuICAgIHsgXHJcbiAgICAgICAgbmFtZXM6IFsnY3JvdyddLFxyXG4gICAgICAgIGltYWdlOiBgJHtQQVRILklNQUdFLlRBU0suTkFNRX0vY3Jvdy5qcGdgXHJcbiAgICB9LFxyXG4gICAgeyBcclxuICAgICAgICBuYW1lczogWydkb2xwaGluJ10sXHJcbiAgICAgICAgaW1hZ2U6IGAke1BBVEguSU1BR0UuVEFTSy5OQU1FfS9kb2xwaGluLmpwZ2BcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgbmFtZXM6IFsnZm94J10sXHJcbiAgICAgICAgaW1hZ2U6IGAke1BBVEguSU1BR0UuVEFTSy5OQU1FfS9mb3guanBnYFxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBuYW1lczogWyd0aWdlciddLFxyXG4gICAgICAgIGltYWdlOiBgJHtQQVRILklNQUdFLlRBU0suTkFNRX0vdGlnZXIuanBnYFxyXG4gICAgfSxcclxuICAgIHsgXHJcbiAgICAgICAgbmFtZXM6IFsnbGlvbicsICdsZXYnLCAnbGV3J10sXHJcbiAgICAgICAgaW1hZ2U6IGAke1BBVEguSU1BR0UuVEFTSy5OQU1FfS9saW9uLmpwZ2BcclxuICAgIH0sXHJcbiAgICB7IFxyXG4gICAgICAgIG5hbWVzOiBbJ2NhdCcsICdtYWxlIGNhdCddLFxyXG4gICAgICAgIGltYWdlOiBgJHtQQVRILklNQUdFLlRBU0suTkFNRX0vY2F0LmpwZ2BcclxuICAgIH0sXHJcbiAgICB7IFxyXG4gICAgICAgIG5hbWVzOiBbJ2RvZyddLFxyXG4gICAgICAgIGltYWdlOiBgJHtQQVRILklNQUdFLlRBU0suTkFNRX0vZG9nLmpwZ2BcclxuICAgIH0sXHJcbiAgICB7IFxyXG4gICAgICAgIG5hbWVzOiBbJ2hvcnNlJ10sXHJcbiAgICAgICAgaW1hZ2U6IGAke1BBVEguSU1BR0UuVEFTSy5OQU1FfS9ob3JzZS5qcGdgXHJcbiAgICB9LFxyXG4gICAgeyBcclxuICAgICAgICBuYW1lczogWyd6ZWJyYSddLFxyXG4gICAgICAgIGltYWdlOiBgJHtQQVRILklNQUdFLlRBU0suTkFNRX0vemVicmEuanBnYFxyXG4gICAgfSxcclxuXTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IG5hbWVUYXNrTWFwO1xyXG4iLCJpbXBvcnQgTGFiZWwgZnJvbSAnLi4vLi4vQ29tcG9uZW50L0xhYmVsJztcclxuaW1wb3J0IGV2ZW50cyBmcm9tICcuLi8uLi8uLi9ldmVudC9ldmVudHMvZXZlbnRzJztcclxuaW1wb3J0IEltYWdlQ29tcG9uZW50IGZyb20gJy4uLy4uL0ltYWdlQ29tcG9uZW50L0ltYWdlQ29tcG9uZW50JztcclxuXHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uLy4uL0NvbXBvbmVudC9Db21wb25lbnQnO1xyXG5pbXBvcnQgeyBDb21wb3NpdGVDb21wb25lbnQgfSBmcm9tICcuLi8uLi9Db21wb25lbnQvQ29tcG9uZW50JztcclxuaW1wb3J0IHsgZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3RleHRXaWR0aCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYXNrTW9kYWxXaW5kb3cgZXh0ZW5kcyBDb21wb3NpdGVDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IodG9wID0gMCwgbGVmdCA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgZGVzY3JpcHRpb24gPSAnJyAsIGFkZGl0aW9uYWxSZXNvdXJjZXMgPSB7fSwgd2luZG93Q29tcG9uZW50LCBwYXJlbnRDb21wb25lbnQgPSBudWxsKSB7XHJcbiAgICAgICAgc3VwZXIodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0LCBwYXJlbnRDb21wb25lbnQpO1xyXG5cclxuICAgICAgICBjb25zdCBoYWxmV2lkdGggPSBNYXRoLmNlaWwod2lkdGggLyAyKTtcclxuICAgICAgICBsZXQgaGFsZkRlc2NyaXB0aW9uV2lkdGggPSBNYXRoLmNlaWwoKGdldFRleHRXaWR0aFdpdGhDYW52YXMoZGVzY3JpcHRpb24sICdtb25vc3BhY2UnLCAnMTZweCcpICkgLyAyKTtcclxuXHJcblxyXG4gICAgICAgIGNvbnN0IGRlc2NyaXB0aW9uTWFyZ2luID0gMjA7XHJcbiAgICAgICAgaWYgKGhhbGZEZXNjcmlwdGlvbldpZHRoID4gaGFsZldpZHRoIC0gZGVzY3JpcHRpb25NYXJnaW4pIHtcclxuICAgICAgICAgICAgaGFsZkRlc2NyaXB0aW9uV2lkdGggPSBoYWxmV2lkdGggLSBkZXNjcmlwdGlvbk1hcmdpbjtcclxuICAgICAgICB9XHJcbiAgICAgICBcclxuICAgICAgICBjb25zdCB0YXNrRGVzY3JpcHRpb24gPSBuZXcgTGFiZWwoMTAsIGhhbGZXaWR0aCAtIGhhbGZEZXNjcmlwdGlvbldpZHRoLCBoYWxmRGVzY3JpcHRpb25XaWR0aCAqIDIsIDMwLCBkZXNjcmlwdGlvbik7XHJcblxyXG4gICAgICAgIGNvbnN0IGVudGVyV2lkdGggPSAxMDA7XHJcbiAgICAgICAgY29uc3QgZW50ZXJIZWlnaHQgPSAxMDA7XHJcbiAgICAgICAgY29uc3QgZW50ZXJCdXR0b24gPSBuZXcgQnV0dG9uKDAsIDAsIGVudGVyV2lkdGgsIGVudGVySGVpZ2h0LCAnJyk7XHJcblxyXG4gICAgICAgIHRhc2tEZXNjcmlwdGlvbi5zZXRCYWNrZ3JvdW5kQ29sb3IoJyMwMGJiYmInKTtcclxuXHJcbiAgICAgICAgZW50ZXJCdXR0b24uc2V0QmFja2dyb3VuZENvbG9yKCcjYWFhYWFhJyk7XHJcblxyXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb25LZXkgPSAnZGVzY3JpcHRpb24nO1xyXG4gICAgICAgIHRoaXMuYnV0dG9uS2V5ID0gJ2J1dHRvbic7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KHRhc2tEZXNjcmlwdGlvbiwgdGhpcy5kZXNjcmlwdGlvbktleSk7XHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoZW50ZXJCdXR0b24sIHRoaXMuYnV0dG9uS2V5KTtcclxuXHJcbiAgICAgICAgdGFza0Rlc2NyaXB0aW9uLnNldEJhY2tncm91bmRDb2xvcigncmdiYSgwLCAwLCAwLCAwKScpO1xyXG4gICAgICAgIHRhc2tEZXNjcmlwdGlvbi5zZXRUZXh0Q29sb3IoJyNmZmZmZmYnKTtcclxuXHJcbiAgICAgICAgY29uc3QgbW9kYWxXaW5kb3dJbWFnZSA9IGFkZGl0aW9uYWxSZXNvdXJjZXMuaW1hZ2VzLm1vZGFsV2luZG93SW1hZ2U7XHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGg6IG1vZGFsV2lkdGgsIG5hdHVyYWxIZWlnaHQ6IG1vZGFsSGVpZ2h0IH0gPSBtb2RhbFdpbmRvd0ltYWdlO1xyXG5cclxuICAgICAgICBjb25zdCBva0J1dHRvbkltYWdlID0gYWRkaXRpb25hbFJlc291cmNlcy5pbWFnZXMub2tCdXR0b25JbWFnZTtcclxuICAgICAgICBjb25zdCB7IG5hdHVyYWxXaWR0aDogb2tCdXR0b25XaWR0aCwgbmF0dXJhbEhlaWdodDogb2tCdXR0b25IZWlnaHQgfSA9IG9rQnV0dG9uSW1hZ2U7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0QmFja2dyb3VuZEltYWdlKG5ldyBJbWFnZUNvbXBvbmVudChtb2RhbFdpbmRvd0ltYWdlLCAwLCAwLCBtb2RhbFdpZHRoLCBtb2RhbEhlaWdodCwgbW9kYWxXaWR0aCwgbW9kYWxIZWlnaHQsIDAsIDAsIG1vZGFsV2lkdGgsIG1vZGFsSGVpZ2h0KSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGVudGVyQnV0dG9uTWFyZ2luID0gMTk7XHJcbiAgICAgICAgZW50ZXJCdXR0b24uc2V0Qm91bmRpbmdDbGllbnRSZWN0KG1vZGFsSGVpZ2h0IC0gZW50ZXJCdXR0b25NYXJnaW4gLSBva0J1dHRvbkhlaWdodCwgbW9kYWxXaWR0aCAtIGVudGVyQnV0dG9uTWFyZ2luIC0gb2tCdXR0b25XaWR0aCAvIDIsIG9rQnV0dG9uV2lkdGggLyAyLCBva0J1dHRvbkhlaWdodCk7XHJcbiAgICAgICAgZW50ZXJCdXR0b24uc2V0QmFja2dyb3VuZEltYWdlKG5ldyBJbWFnZUNvbXBvbmVudChva0J1dHRvbkltYWdlLCAwLCAwLCBva0J1dHRvbldpZHRoLCBva0J1dHRvbkhlaWdodCwgb2tCdXR0b25XaWR0aCwgb2tCdXR0b25IZWlnaHQsIDAsIDAsIG9rQnV0dG9uV2lkdGggLyAyLCBva0J1dHRvbkhlaWdodCkpO1xyXG4gICAgICAgIGVudGVyQnV0dG9uLnRhYmFibGUgPSB0cnVlO1xyXG4gICAgICAgIGVudGVyQnV0dG9uLmRyYXdCb3JkZXIgPSB0cnVlO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRFdmVudHMoZW50ZXJCdXR0b24sIHdpbmRvd0NvbXBvbmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdEV2ZW50cyhlbnRlckJ1dHRvbiwgd2luZG93Q29tcG9uZW50KSB7XHJcbiAgICAgICAgY29uc3QgbW91c2VFbnRlckhhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlbnRlckJ1dHRvbi5pc1NlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICBlbnRlckJ1dHRvbi5nZXRCYWNrZ3JvdW5kSW1hZ2UoKS5zZXRGcmFtZSgxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IG1vdXNlVXBIYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBlbnRlckJ1dHRvbi5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50cy5NT1VTRS5NT1VTRV9FTlRFUiwgbW91c2VFbnRlckhhbmRsZXIpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGVudGVyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLk1PVVNFLk1PVVNFX0RPV04sICgpID0+IHtcclxuICAgICAgICAgICAgZW50ZXJCdXR0b24uZ2V0QmFja2dyb3VuZEltYWdlKCkuc2V0RnJhbWUoMSk7XHJcblxyXG4gICAgICAgICAgICBlbnRlckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKGV2ZW50cy5NT1VTRS5NT1VTRV9FTlRFUiwgbW91c2VFbnRlckhhbmRsZXIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB3aW5kb3dDb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMuTU9VU0UuTU9VU0VfVVAsIG1vdXNlVXBIYW5kbGVyKTtcclxuXHJcbiAgICAgICAgZW50ZXJCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihldmVudHMuTU9VU0UuTU9VU0VfTEVBVkUsICgpID0+IHsgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoZW50ZXJCdXR0b24uaXNTZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgZW50ZXJCdXR0b24uZ2V0QmFja2dyb3VuZEltYWdlKCkuc2V0RnJhbWUoMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5vbnJlbW92ZSA9ICgpID0+IHtcclxuICAgICAgICAgICAgd2luZG93Q29tcG9uZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRzLk1PVVNFLk1PVVNFX1VQLCBtb3VzZVVwSGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGdldERlZmF1bHRDb21wb25lbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2tCdXR0b25Db21wb25lbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRPa0J1dHRvbkNvbXBvbmVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGlsZENvbXBvbmVudCh0aGlzLmJ1dHRvbktleSk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGFza0Rlc2NyaXB0aW9uQ29tcG9uZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMuZGVzY3JpcHRpb25LZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZEJ1dHRvbkV2ZW50TGlzdGVuZXIobmFtZSwgZXZlbnQpIHtcclxuICAgICAgICB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMuYnV0dG9uS2V5KS5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBhbnN3ZXJJc1JpZ2h0KCkge1xyXG4gICAgICAgIHJldHVybiAgZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVzdWx0KCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmFkZEJ1dHRvbkV2ZW50TGlzdGVuZXIoZXZlbnRzLk1PVVNFLk1PVVNFX1VQLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRPa0J1dHRvbkNvbXBvbmVudCgpLmdldEJhY2tncm91bmRJbWFnZSgpLnNldEZyYW1lKDApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5hbnN3ZXJJc1JpZ2h0KCkpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMuS0VZQk9BUkQuS0VZX1BSRVNTLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUucGF5bG9hZC5rZXkgPT09ICdFbnRlcicgJiYgZS5jYW5jZWxCdWJibGUgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuYW5zd2VySXNSaWdodCgpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IExhYmVsIGZyb20gJy4uLy4uL0NvbXBvbmVudC9MYWJlbCc7XHJcbmltcG9ydCBUYXNrTW9kYWxXaW5kb3cgZnJvbSAnLi9UYXNrTW9kYWxXaW5kb3cnO1xyXG5pbXBvcnQgSW1hZ2VDb21wb25lbnQgZnJvbSAnLi4vLi4vSW1hZ2VDb21wb25lbnQvSW1hZ2VDb21wb25lbnQnO1xyXG5cclxuaW1wb3J0IHsgZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3RleHRXaWR0aCc7XHJcblxyXG5jb25zdCBvcGVyYXRpb25zID0gW1xyXG4gICAge1xyXG4gICAgICAgIGNoYXJQcmVzZW50YXRpb246ICcrJyxcclxuICAgICAgICBwZXJmb3JtKGZpcnN0LCBzZWNvbmQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZpcnN0ICsgc2Vjb25kO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY2hhclByZXNlbnRhdGlvbjogJy0nLFxyXG4gICAgICAgIHBlcmZvcm0oZmlyc3QsIHNlY29uZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmlyc3QgLSBzZWNvbmQ7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjaGFyUHJlc2VudGF0aW9uOiAneCcsXHJcbiAgICAgICAgcGVyZm9ybShmaXJzdCwgc2Vjb25kKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmaXJzdCAqIHNlY29uZDtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5dO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU29sdmVFeHByZXNzaW9uVGFza1dpbmRvdyBleHRlbmRzIFRhc2tNb2RhbFdpbmRvdyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0b3AgPSAwLCBsZWZ0ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwLCBhZGRpdGlvbmFsUmVzb3VyY2VzID0ge30sIHBhcmVudENvbXBvbmVudCA9IG51bGwpIHtcclxuICAgICAgICBzdXBlcih0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQsICfQoNC10YjQuNGC0LUg0LTQsNC90L3QvtC1INCy0YvRgNCw0LbQtdC90LjQtTonLCBhZGRpdGlvbmFsUmVzb3VyY2VzLCBwYXJlbnRDb21wb25lbnQpO1xyXG5cclxuICAgICAgICBjb25zdCBvcGVyYXRpb24gPSBvcGVyYXRpb25zW01hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIChvcGVyYXRpb25zLmxlbmd0aCAtIDEpKV07XHJcblxyXG4gICAgICAgIGNvbnN0IHRleHRGaWVsZEltYWdlID0gYWRkaXRpb25hbFJlc291cmNlcy5pbWFnZXMudGV4dEZpZWxkSW1hZ2U7XHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGg6IHRleHRGaWVsZFdpZHRoLCBuYXR1cmFsSGVpZ2h0OiB0ZXh0RmllbGRIZWlnaHQgfSA9IHRleHRGaWVsZEltYWdlO1xyXG5cclxuICAgICAgICBjb25zdCB7IGZpcnN0T3BlcmFuZCwgc2Vjb25kT3BlcmFuZCB9ID0gdGhpcy5nZXRPcGVyYW5kcyhvcGVyYXRpb24pO1xyXG4gICAgICAgIHRoaXMudGFza1JpZ2h0QW5zd2VyID0gb3BlcmF0aW9uLnBlcmZvcm0oZmlyc3RPcGVyYW5kLCBzZWNvbmRPcGVyYW5kKTtcclxuXHJcbiAgICAgICAgY29uc3QgbGFiZWxUZXh0ID0gYCR7Zmlyc3RPcGVyYW5kfSAke29wZXJhdGlvbi5jaGFyUHJlc2VudGF0aW9ufSAke3NlY29uZE9wZXJhbmR9ID1gO1xyXG5cclxuICAgICAgICBjb25zdCBoYWxmV2lkdGggPSBNYXRoLmNlaWwod2lkdGggLyAyKTtcclxuICAgICAgICBjb25zdCBoYWxmSGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCAvIDIpO1xyXG4gICAgICAgIGNvbnN0IGhhbGZFeHByZXNzaW9uV2lkdGggPSBNYXRoLmNlaWwoKGdldFRleHRXaWR0aFdpdGhDYW52YXMobGFiZWxUZXh0LCAnbW9ub3NwYWNlJywgJzE2cHgnKSArIDEpIC8gMik7XHJcbiAgICAgICAgY29uc3QgaGFsZkFuc3dlcldpZHRoID0gTWF0aC5jZWlsKChnZXRUZXh0V2lkdGhXaXRoQ2FudmFzKCc5OTk5JywgJ21vbm9zcGFjZScsICcxNnB4JykgKyAxKSAvIDIpO1xyXG4gICAgICAgIGNvbnN0IGhhbGZFeHByZXNzaW9uV2l0aEFuc3dlciA9IGhhbGZBbnN3ZXJXaWR0aCArIGhhbGZFeHByZXNzaW9uV2lkdGggKyAzO1xyXG5cclxuICAgICAgICBjb25zdCBoYWxmVGV4dEZpZWxkSGVpZ2h0ID0gTWF0aC5yb3VuZCh0ZXh0RmllbGRIZWlnaHQgLyAyKTtcclxuICAgICAgICBjb25zdCBleHByZXNzaW9uID0gbmV3IExhYmVsKGhhbGZIZWlnaHQgLSBoYWxmVGV4dEZpZWxkSGVpZ2h0LCBoYWxmV2lkdGggLSBoYWxmRXhwcmVzc2lvbldpdGhBbnN3ZXIsIGhhbGZFeHByZXNzaW9uV2lkdGggKiAyLCB0ZXh0RmllbGRIZWlnaHQsIGxhYmVsVGV4dCk7XHJcbiAgICAgICAgY29uc3QgYW5zd2VySW5wdXQgPSBuZXcgTGFiZWwoaGFsZkhlaWdodCAtIGhhbGZUZXh0RmllbGRIZWlnaHQsIGhhbGZXaWR0aCAtIGhhbGZFeHByZXNzaW9uV2l0aEFuc3dlciArIGhhbGZFeHByZXNzaW9uV2lkdGggKiAyICsgMywgaGFsZkFuc3dlcldpZHRoICogMiwgdGV4dEZpZWxkSGVpZ2h0LCAnJyk7XHJcblxyXG4gICAgICAgIGV4cHJlc3Npb24uc2V0QmFja2dyb3VuZENvbG9yKCdyZ2JhKDAsIDAsIDAsIDApJyk7XHJcbiAgICAgICAgZXhwcmVzc2lvbi5zZXRUZXh0Q29sb3IoJyNmZmZmZmYnKTtcclxuXHJcbiAgICAgICAgYW5zd2VySW5wdXQuZWRpdGFibGUgPSB0cnVlO1xyXG4gICAgICAgIGFuc3dlcklucHV0LnRhYmFibGUgPSB0cnVlO1xyXG4gICAgICAgIGFuc3dlcklucHV0LmRyYXdCb3JkZXIgPSB0cnVlO1xyXG4gICAgICAgIGFuc3dlcklucHV0LnNldEJhY2tncm91bmRDb2xvcigncmdiYSgwLCAwLCAwLCAwKScpO1xyXG4gICAgICAgIGFuc3dlcklucHV0LnNldEJhY2tncm91bmRJbWFnZShuZXcgSW1hZ2VDb21wb25lbnQodGV4dEZpZWxkSW1hZ2UsIDAsIDAsIHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQsIHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQsIDAsIDAsIHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQpKTtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5tYXhUZXh0TGVuZ3RoID0gNDtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5zZXRUZXh0Q29sb3IoJyNGRkZGMDAnKTtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5jdXJzb3Iuc2V0Q29sb3IoJyMwOEI2MDAnKTtcclxuXHJcbiAgICAgICAgdGhpcy5leHByZXNzaW9uS2V5ID0gJ2V4cHJlc3Npb24nO1xyXG4gICAgICAgIHRoaXMuYW5zd2VyS2V5ID0gJ2Fuc3dlcic7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGV4cHJlc3Npb24sIHRoaXMuZXhwcmVzc2lvbktleSk7XHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoYW5zd2VySW5wdXQsIHRoaXMuYW5zd2VyS2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREZWZhdWx0Q29tcG9uZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMuYW5zd2VyS2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRPcGVyYW5kcyhvcGVyYXRpb24pIHtcclxuICAgICAgICBsZXQgZmlyc3RPcGVyYW5kID0gMTtcclxuICAgICAgICBsZXQgc2Vjb25kT3BlcmFuZCA9IDE7XHJcblxyXG4gICAgICAgIGZpcnN0T3BlcmFuZCA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDUwKTtcclxuXHJcbiAgICAgICAgaWYgKG9wZXJhdGlvbi5jaGFyUHJlc2VudGF0aW9uID09PSAneCcpIHtcclxuICAgICAgICAgICAgaWYgKGZpcnN0T3BlcmFuZCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgc2Vjb25kT3BlcmFuZCA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDUwKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxpbWl0ID0gTWF0aC5jZWlsKDEwMCAvIGZpcnN0T3BlcmFuZCk7XHJcbiAgICAgICAgICAgICAgICBzZWNvbmRPcGVyYW5kID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbGltaXQpOyBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlY29uZE9wZXJhbmQgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA1MCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBmaXJzdE9wZXJhbmQsXHJcbiAgICAgICAgICAgIHNlY29uZE9wZXJhbmRcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYW5zd2VySXNSaWdodCgpIHtcclxuICAgICAgICBjb25zdCBhbnN3ZXIgPSBwYXJzZUZsb2F0KHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5hbnN3ZXJLZXkpLmdldFRleHQoKSk7XHJcbiAgICAgICAgcmV0dXJuICBhbnN3ZXIgPT09IHRoaXMudGFza1JpZ2h0QW5zd2VyO1xyXG4gICAgfVxyXG59XHJcbiIsImNvbnN0IGRpY3Rpb25hcnkgPSBbXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2FnZScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9Cy0L7Qt9GA0LDRgdGCJywgJ9Cy0LXQuicsICfRjdC/0L7RhdCwJywgJ9C/0LXRgNC40L7QtCcsICfRgdGC0LDRgNC10YLRjCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdhcHBlYXInLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQv9C+0Y/QstC70Y/RgtGM0YHRjycsICfQutCw0LfQsNGC0YzRgdGPJywgJ9C/0YDQtdC00YHRgtCw0YLRjCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdhcnRpc3QnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfRhdGD0LTQvtC20L3QuNC6JywgJ9Cw0YDRgtC40YHRgiddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdhdXR1bW4nLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQvtGB0LXQvdGMJywgJ9C+0YHQtdC90L3QuNC5J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2JheScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C30LDQu9C40LInLCAn0LHRg9GF0YLQsCcsICfQvtGC0YHQtdC6JywgJ9Cz0YPQsdCwJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2JlYWsnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQutC70Y7QsiddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdibG9vbScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9GG0LLQtdGC0LXQvdC40LUnLCAn0YDQsNGB0YbQstC10YInLCAn0YbQstC10YHRgtC4JywgJ9GA0LDRgdGG0LLQtdGB0YLQuCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdidW1weScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9GD0YXQsNCx0LjRgdGC0YvQuScsICfQvdC10YDQvtCy0L3Ri9C5J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2J1cnN0JyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LLQt9GA0YvQsicsICfQstGB0L/Ri9GI0LrQsCcsICfRgNCw0LfRgNGL0LInLCAn0LvQvtC/0L3Rg9GC0YwnLCAn0YDQsNC30YDRi9Cy0LDRgtGMJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2J1enonLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQs9GD0LTQtdGC0YwnLCAn0LbRg9C20LbQsNGC0YwnLCAn0LPRg9C7JywgJ9C20YPQttC20LDQvdC40LUnLCAn0YHQu9GD0YXQuCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdjYXJlJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LfQsNCx0L7RgtCwJywgJ9GD0YXQvtC0JywgJ9C30LDQsdC+0YLQuNGC0YzRgdGPJywgJ9GD0YXQsNC20LjQstCw0YLRjCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdjaGVjaycsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C/0YDQvtCy0LXRgNC60LAnLCAn0YfQtdC6JywgJ9C60L7QvdGC0YDQvtC70YwnLCAn0L/RgNC+0LLQtdGA0Y/RgtGMJywgJ9C60L7QvdGC0YDQvtC70LjRgNC+0LLQsNGC0YwnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnY2hpbGx5JyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0YXQvtC70L7QtNC90L4nLCAn0YHRg9GF0L4nLCAn0LfRj9Cx0LrQvicsICfRhdC+0LvQvtC00L3Ri9C5JywgJ9C/0YDQvtGF0LvQsNC00L3Ri9C5JywgJ9C30Y/QsdC60LjQuScsICfQv9GA0L7QvNC+0LfQs9C70YvQuSddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdjb21mb3J0JyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LrQvtC80YTQvtGA0YInLCAn0YPQtNC+0LHRgdGC0LLQsCcsICfRg9GO0YInLCAn0YPRgtC10YjQuNGC0YwnLCAn0YPRgtC10YjQsNGC0YwnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnY29tbXVuaXR5JyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0YHQvtC+0LHRidC10YHRgtCy0L4nLCAn0L7QsdGJ0LjQvdCwJywgJ9C+0LHRidC10YHRgtCy0L4nLCAn0L7QsdGJ0L3QvtGB0YLRjCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdjb3VudHJ5JyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0YHRgtGA0LDQvdCwJywgJ9C80LXRgdGC0L3QvtGB0YLRjCcsICfQt9Cw0LPQvtGA0L7QtNC90YvQuSddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdjb3ZlcmVkJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LrRgNGL0YLRi9C5JywgJ9C/0L7QutGA0YvRgtGL0LknXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnY3JhZGxlJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LrQvtC70YvQsdC10LvRjCcsICfQu9GO0LvRjNC60LAnLCAn0LPQvdC10LfQtNC+J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2RhbmdsZScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C80L7RgtCw0YLRjNGB0Y8nLCAn0LHQvtC70YLQsNGC0YzRgdGPJywgJ9GB0LLQuNGB0LDRgtGMJywgJ9C60LDRh9Cw0YLRjNGB0Y8nXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnZGVjaXNpb24nLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfRgNC10YjQtdC90LjQtSddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdkZWxpY2lvdXMnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQstC60YPRgdC90L4nLCAn0LLQvtGB0YXQuNGC0LjRgtC10LvRjNC90YvQuSddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdkZW50aXN0JyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LTQsNC90YLQuNGB0YInLCAn0LfRg9Cx0L3QvtC5INCy0YDQsNGHJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2RldycsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9GA0L7RgdCwJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2Rpc2FwcGVhcicsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C40YHRh9C10LfQsNGC0YwnLCAn0L/RgNC+0L/QsNC00LDRgtGMJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2R1c3R5JyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0L/Ri9C70YzQvdGL0LknXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnZWRnZScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C60YDQsNC5JywgJ9C/0YDQtdC40LzRg9GJ0LXRgdGC0LLQvicsICfQutGA0L7QvNC60LAnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnZmFybWVyJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0YTQtdGA0LzQtdGAJywgJ9C60L7Qu9GF0L7Qt9C90LjQuiddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdmZWFyJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0YHRgtGA0LDRhScsICfQsdC+0Y/Qt9C90YwnLCAn0L7Qv9Cw0YHQtdC90LjQtScsICfQsdC+0Y/RgtGM0YHRjycsICfQvtC/0LDRgdCw0YLRjNGB0Y8nXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnZmlyZWZseScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9GB0LLQtdGC0LvRj9C6JywgJ9GB0LLQtdGC0LvRj9GH0L7QuiddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdmaXgnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfRhNC40LrRgdC40YDQvtCy0LDRgtGMJywgJ9C40YHQv9GA0LDQstC70Y/RgtGMJywgJ9GD0YHRgtCw0L3QsNCy0LvQuNCy0LDRgtGMJywgJ9GH0LjQvdC40YLRjCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdmbHVmZnknLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQv9GD0YjQuNGB0YLRi9C5J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2ZvbGxvdycsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9GB0LvQtdC00L7QstCw0YLRjCcsICfRgdC70LXQtNC40YLRjCcsICfQv9GA0LjQtNC10YDQttC40LLQsNGC0YzRgdGPJywgJ9C40LTRgtC4J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2dhbGxvcCcsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9Cz0LDQu9C+0L/QvtC8JywgJ9Cz0LDQu9C+0L8nLCAn0YHQutCw0YfQutCwJywgJ9C/0YDQvtGB0LrQsNC60LDRgtGMJywgJ9GB0LrQsNC60LDRgtGMINCz0LDQu9C+0L/QvtC8JywgJ9Cz0LDQu9C+0L/QuNGA0L7QstCw0YLRjCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdnZW50bGUnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQvdC10LbQvdGL0LknLCAn0LzRj9Cz0LrQuNC5JywgJ9Cy0LXQttC70LjQstGL0LknXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnZ2xhbmNlJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LLQt9Cz0LvRj9C0JywgJ9C30YDQtdC90LjQtScsICfQstC40LQnLCAn0LfRgNC10LvQuNGJ0LUnLCAn0L/RgNC40YbQtdC7JywgJ9GD0LLQuNC00LXRgtGMJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2dsb3NzeScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9Cz0LvRj9C90YbQtdCy0YvQuScsICfQsdC70LXRgdGC0Y/RidC40LknXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnZ2xvdycsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C/0YvQu9Cw0YLRjCcsICfRgdCy0LXRgtC40YLRjNGB0Y8nLCAn0L/Ri9C70LDRgtGMJywgJ9GB0LLQtdGH0LXQvdC40LUnLCAn0LbQsNGAJywgJ9GA0YPQvNGP0L3QtdGGJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2dvYWwnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfRhtC10LvRjCcsICfQs9C+0LsnLCAn0LfQsNC00LDRh9CwJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2hhbGYnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQv9C+0LvQvtCy0LjQvdCwJywgJ9GH0LDRgdGC0YwnLCAn0L3QsNC/0L7Qu9C+0LLQuNC90YMnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnaGVhbHRoeScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C30LTQvtGA0L7QstGL0LknLCAn0L/QvtC70LXQt9C90YvQuSddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdob29mJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LrQvtC/0YvRgtC+JywgJ9C90L7Qs9CwJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2luY2x1ZGUnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQstC60LvRjtGH0LDRgtGMJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2ludml0YXRpb24nLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQv9GA0LjQs9C70LDRiNC10L3QuNC1J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ2tuaWdodCcsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9GA0YvRhtCw0YDRjCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdsYXp5JyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LvQtdC90LjQstGL0LknXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnbGVhZicsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C70LjRgdGCJywgJ9C70LjRgdGC0L7QstC+0LknXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnbGVhaycsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9GD0YLQtdGH0LrQsCcsICfRgtC10YfRjCcsICfQv9GA0L7RgdCw0YfQuNCy0LDRgtGM0YHRjyddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdsaWJyYXJ5JyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LHQuNCx0LvQuNC+0YLQtdC60LAnLCAn0LHQuNCx0LvQuNC+0YLQtdGH0L3Ri9C5J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ21hcmtldCcsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9GA0YvQvdC+0LonLCAn0LHQsNC30LDRgCcsICfQv9GA0L7QtNCw0LLQsNGC0YwnLCAn0YDRi9C90L7Rh9C90YvQuSddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdtZWx0JyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0YLQsNGP0YLRjCcsICfQv9C70LDQstC40YLRjNGB0Y8nLCAn0YDQsNGB0YLQvtC/0LjRgtGMJywgJ9C/0LvQsNCy0LjRgtGM0YHRjycsICfQv9C70LDQstC40YLRjCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdtaXNlcmFibGUnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQvdC10YHRh9Cw0YHRgtC90YvQuScsICfQttCw0LvQutC40LknLCAn0YPQsdC+0LPQuNC5J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ21vbnRoJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LzQtdGB0Y/RhiddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdtdWRkeScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C80YPRgtC40YLRjCcsICfQs9GA0Y/Qt9C90YvQuScsICfQvNGD0YLQvdGL0LknLCAn0YLRg9GB0LrQu9GL0LknXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnbXVzZXVtJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LzRg9C30LXQuSddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdub3RlJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LfQsNC80LXRgtC60LAnLCAn0LLQvdC40LzQsNC90LjQtScsICfQv9GA0LjQvNC10YfQsNC90LjQtScsICfQt9Cw0L/QuNGB0LrQsCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdwYWlyJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0L/QsNGA0LAnLCAn0YfQtdGC0LAnLCAn0L/QsNGA0L3Ri9C5J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3BhdGllbnQnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQv9Cw0YbQuNC10L3RgicsICfRgtC10YDQv9C10LvQuNCy0YvQuScsICfQv9Cw0YbQuNC10L3RgicsICfQsdC+0LvRjNC90L7QuSddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdwZWFjZWZ1bCcsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C80LjRgNC90L7QtScsICfRgdC/0L7QutC+0LnQvdGL0LknLCAn0LzQuNGA0L3Ri9C5J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3BlY2snLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQutC70LXQstCw0YLRjCcsICfQtNC+0LvQsdC40YLRjCcsICfQutC70LXQstC+0LonXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAncGlsb3QnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQv9C40LvQvtGCJywgJ9C70LXRgtGH0LjQuicsICfQv9C40LvQvtGC0LjRgNC+0LLQsNGC0YwnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAncGxhbicsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C/0LvQsNC9JywgJ9GB0YXQtdC80LAnLCAn0L/RgNC+0LXQutGCJywgJ9C30LDQvNGL0YHQtdC7JywgJ9C/0LvQsNC90LjRgNC+0LLQsNGC0YwnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAncG9pbnR5JyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LfQsNC+0YHRgtGA0LXQvdC90YvQuSddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdwb25kJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0L/RgNGD0LQnLCAn0LLQvtC00L7QtdC8JywgJ9Cx0LDRgdGB0LXQudC9J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3ByZXNpZGVudCcsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C/0YDQtdC30LjQtNC10L3RgicsICfQv9GA0LXQtNGB0LXQtNCw0YLQtdC70YwnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAncHJvdGVjdCcsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C30LDRidC40YnQsNGC0YwnLCAn0L7RhdGA0LDQvdGP0YLRjCcsICfQsdC10YDQtdGH0YwnLCAn0L7QsdC10YDQtdCz0LDRgtGMJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3JhY2UnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfRgNCw0YHQsCcsICfQs9C+0L3QutC4JywgJ9Cz0L7QvdC60LAnLCAn0YDQvtC0J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3JlYWNoJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LTQvtGB0YLQuNGH0YwnLCAn0L7RhdCy0LDRgicsICfQtNC+0YHRj9Cz0LDQtdC80L7RgdGC0YwnLCAn0LTQvtGB0YLQuNCz0LDRgtGMJywgJ9GB0LLRj9C30LDRgtGM0YHRjycsICfQtNC+0YXQvtC00LjRgtGMJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3JlbGF4JyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0YDQsNGB0YHQu9Cw0LHQuNGC0YzRgdGPJywgJ9C+0YLQtNGL0YXQsNGC0YwnLCAn0YDQsNGB0YHQu9Cw0LHQu9GP0YLRjNGB0Y8nXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAncm90dGVuJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LPQvdC40LvQvtC5JywgJ9C/0YDQvtCz0L3QuNCy0YjQuNC5JywgJ9GC0YPRhdC70YvQuSddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdyb3VuZCcsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C60YDRg9Cz0LvRi9C5JywgJ9GA0LDRg9C90LQnLCAn0YLRg9GAJywgJ9C60YDRg9CzJywgJ9Cy0L7QutGA0YPQsycsICfQutGA0YPQs9C+0LwnLCAn0L7QutGA0YPQs9C70Y/RgtGMJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3JvdycsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9GA0Y/QtCcsICfQs9GA0LXRgdGC0LgnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnc2FpbCcsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C/0LDRgNGD0YHQsCcsICfQv9Cw0YDRg9GBJywgJ9C/0LvRi9GC0YwnLCAn0L/Qu9Cw0LLQsNGC0YwnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnc2NlbmUnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfRgdGG0LXQvdCwJywgJ9C60LDRgNGC0LjQvdCwJywgJ9GN0L/QuNC30L7QtCcsICfQvNC10YHRgtC+INC00LXQudGB0YLQstC40Y8nXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnc2NydWInLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfRgdC60YDQsNCxJywgJ9C60YPRgdGC0LDRgNC90LjQuicsICfRgdC60YDQtdGB0YLQuCcsICfRgtC10YDQtdGC0YwnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnc2hhZGUnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfRgtC10L3RjCcsICfQvtGC0YLQtdC90L7QuiddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdzaGlwJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LrQvtGA0LDQsdC70YwnLCAn0YHRg9C00L3QviddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdzaG9yZScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9Cx0LXRgNC10LMnLCAn0L/QvtCx0LXRgNC10LbRjNC1JywgJ9Cx0LXRgNC10LPQvtCy0L7QuScsICfQv9C+0LTQv9C40YDQsNGC0YwnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnc2lsa3knLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfRiNC10LvQutC+0LLQuNGB0YLRi9C5JywgJ9GI0LXQu9C60L7QstGL0LknXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnc2xpZGUnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQs9C+0YDQutCwJywgJ9GB0LvQsNC50LQnLCAn0YHQutC+0LvRjNC20LXQvdC40LUnLCAn0L/QvtC70LfRg9C9JywgJ9GB0LrQvtC70YzQt9C40YLRjCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdzbmlmZicsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9GB0L7Qv9C10L3QuNC1JywgJ9Cy0LTQvtGFJywgJ9C90Y7RhdCw0YLRjCcsICfQstC00YvRhdCw0YLRjCcsICfRgdC+0L/QtdGC0YwnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnc29hcHknLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQvNGL0LvRjNC90YvQuScsICfQvNGL0LvQutC40LknXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnc3BhcmtsZScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C40YHQutGA0LjRgtGM0YHRjycsICfRgdCy0LXRgNC60LDRgtGMJywgJ9Cx0LvQuNGB0YLQsNGC0YwnLCAn0LHQu9C10YHRgtC10YLRjCcsICfQsdC70LXRgdC6JywgJ9GB0LjRj9C90LjQtScsICfQuNGB0LrQvtGA0LrQsCcsICfRgdCy0LXRgNC60LDQvdC40LUnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnc3BvdHRlZCcsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C/0Y/RgtC90LjRgdGC0YvQuScsICfQt9Cw0L/Rj9GC0L3QsNC90L3Ri9C5J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3NwcmluZycsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9Cy0LXRgdC90LAnLCAn0L/RgNGD0LbQuNC90LAnLCAn0YDQtdGB0YHQvtGA0LAnLCAn0LjRgdGC0L7Rh9C90LjQuicsICfRgNC+0LTQvdC40LonLCAn0LLQtdGB0LXQvdC90LjQuScsICfQstC+0LfQvdC40LrQsNGC0YwnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnc3RhcmUnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQs9C70LDQt9C10YLRjCcsICfQv9GP0LvQuNGC0YzRgdGPJywgJ9C/0L7Qs9C70LDQt9C10YLRjCcsICfQv9GA0LjRgdGC0LDQu9GM0L3Ri9C5INCy0LfQs9C70Y/QtCddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdzdW1tZXInLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQu9C10YLQviddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICdzdXBwbGllcycsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C/0YDQtdC00LzQtdGC0Ysg0YHQvdCw0LHQttC10L3QuNGPJywgJ9C30LDQv9Cw0YEnLCAn0L/RgNC40L/QsNGB0YsnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAndGFuZ2xlZCcsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C30LDQv9GD0YLQsNC90L3Ri9C5J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3RlbnQnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQv9Cw0LvQsNGC0LrQsCcsICfQvdCw0LLQtdGBJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3RvbW9ycm93JyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LfQsNCy0YLRgNCwJywgJ9C30LDQstGC0YDQsNGI0L3QuNC5INC00LXQvdGMJywgJ9C30LDQstGC0YDQsNGI0L3QuNC5J11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3RyYWRlJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0YHQtNC10LvQutCwJywgJ9GC0L7RgNCz0L7QstC70Y8nLCAn0YLQvtGA0LPQvtCy0LDRgtGMJywgJ9GC0L7RgNCz0L7QstGL0LknXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnd2FybScsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9GC0LXQv9C70L4nLCAn0YLQtdC/0LvRi9C5JywgJ9Cz0L7RgNGP0YfQuNC5JywgJ9C20LDRgNC60LjQuScsICfQvdCw0LPRgNC10LLQsNGC0YzRgdGPJywgJ9GB0L7Qs9GA0LXQstCw0YLRjCcsICfQs9GA0LXRgtGMJ11cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgd29yZDogJ3dhdmUnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQstC+0LvQvdCwJywgJ9Cy0L7Qu9C90L7QstC+0LknLCAn0LzQsNGF0LDRgtGMJywgJ9C80LDRhdC90YPRgtGMJywgJ9GA0LDQt9C80LDRhdC40LLQsNGC0YwnLCAn0YDQsNC30LLQtdCy0LDRgtGM0YHRjyddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICd3ZWVrJyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0L3QtdC00LXQu9GOJywgJ9C90LXQtNC10LvRjyddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICd3aWdnbGUnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQv9C+0LrQsNGH0LjQstCw0L3QuNC1JywgJ9C/0L7QutCw0YfQuNCy0LDRgtGM0YHRjycsICfQuNC30LLQuNCy0LDRgtGM0YHRjycsICfQv9C+0LrQsNGH0LjQstCw0YLRjCcsICfQtdGA0LfQsNGC0YwnLCAn0L/QvtC60LDRh9C40LLQsNC90LjQtSddXHJcbiAgICB9LFxyXG4gICAge1xyXG4gICAgICAgIHdvcmQ6ICd3aW50ZXInLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQt9C40LzQsCcsICfQt9C40LzQvdC40LknXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAnd2lzaCcsXHJcbiAgICAgICAgdHJhbnNsYXRlOiBbJ9C20LXQu9Cw0L3QuNC1JywgJ9C/0L7QttC10LvQsNC90LjQtScsICfQttC10LvQsNGC0YwnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAneWVzdGVyZGF5JyxcclxuICAgICAgICB0cmFuc2xhdGU6IFsn0LLRh9C10YDQsCcsICfQstGH0LXRgNCw0YjQvdC40Lkg0LTQtdC90YwnXVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICB3b3JkOiAneW91bmcnLFxyXG4gICAgICAgIHRyYW5zbGF0ZTogWyfQvNC+0LvQvtC00L7QuScsICfRjtC90YvQuScsICfQvNC+0LvQvtC00LXQttGMJ11cclxuICAgIH0sXHJcbl07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBkaWN0aW9uYXJ5O1xyXG4iLCJpbXBvcnQgTGFiZWwgZnJvbSAnLi4vLi4vQ29tcG9uZW50L0xhYmVsJztcclxuaW1wb3J0IGRpY3Rpb25hcnkgZnJvbSAnLi4vLi4vLi4vZGljdGlvbmFyaWVzL2RpY3Rpb25hcnknO1xyXG5pbXBvcnQgZXZlbnRzIGZyb20gJy4uLy4uLy4uL2V2ZW50L2V2ZW50cy9ldmVudHMnO1xyXG5pbXBvcnQgVGFza01vZGFsV2luZG93IGZyb20gJy4vVGFza01vZGFsV2luZG93JztcclxuaW1wb3J0IEltYWdlQ29tcG9uZW50IGZyb20gJy4uLy4uL0ltYWdlQ29tcG9uZW50L0ltYWdlQ29tcG9uZW50JztcclxuXHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4uLy4uL0NvbXBvbmVudC9Db21wb25lbnQnO1xyXG5pbXBvcnQgeyBnZXRUZXh0V2lkdGhXaXRoQ2FudmFzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdGV4dFdpZHRoJztcclxuXHJcbmNvbnN0IFNwZWVjaFJlY29nbml0aW9uID0gd2luZG93LlNwZWVjaFJlY29nbml0aW9uIHx8IHdpbmRvdy53ZWJraXRTcGVlY2hSZWNvZ25pdGlvbjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpc3RlbmluZ1Rhc2tNb2RhbFdpbmRvdyAgZXh0ZW5kcyBUYXNrTW9kYWxXaW5kb3cge1xyXG4gICAgY29uc3RydWN0b3IodG9wID0gMCwgbGVmdCA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgYWRkaXRpb25hbFJlc291cmNlcyA9IHt9LCBwYXJlbnRDb21wb25lbnQgPSBudWxsKSB7XHJcbiAgICAgICAgc3VwZXIodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0LCAn0J/RgNC+0LjQt9C90LXRgdC40YLQtSDRgdC70L7QstC+OicsIGFkZGl0aW9uYWxSZXNvdXJjZXMsIHBhcmVudENvbXBvbmVudCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHRleHRGaWVsZEltYWdlID0gYWRkaXRpb25hbFJlc291cmNlcy5pbWFnZXMudGV4dEZpZWxkSW1hZ2U7XHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGg6IHRleHRGaWVsZFdpZHRoLCBuYXR1cmFsSGVpZ2h0OiB0ZXh0RmllbGRIZWlnaHQgfSA9IHRleHRGaWVsZEltYWdlO1xyXG5cclxuICAgICAgICBjb25zdCBtaWNyb0J1dHRvbkltYWdlID0gYWRkaXRpb25hbFJlc291cmNlcy5pbWFnZXMubWljcm9CdXR0b25JbWFnZTtcclxuICAgICAgICBjb25zdCB7IG5hdHVyYWxXaWR0aDogbWljcm9CdXR0b25XaWR0aCwgbmF0dXJhbEhlaWdodDogbWljcm9CdXR0b25IZWlnaHQgfSA9IG1pY3JvQnV0dG9uSW1hZ2U7XHJcblxyXG4gICAgICAgIHRoaXMud29yZCA9IGRpY3Rpb25hcnlbTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKGRpY3Rpb25hcnkubGVuZ3RoIC0gMSkpXS53b3JkO1xyXG5cclxuICAgICAgICBjb25zdCBsYWJlbFRleHQgPSBgJHt0aGlzLndvcmR9OiBgO1xyXG5cclxuICAgICAgICBjb25zdCBoYWxmSGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCAvIDIpO1xyXG4gICAgICAgIGNvbnN0IGhhbGZFeHByZXNzaW9uV2lkdGggPSBNYXRoLmNlaWwoKGdldFRleHRXaWR0aFdpdGhDYW52YXMobGFiZWxUZXh0LCAnbW9ub3NwYWNlJywgJzE2cHgnKSArIDEpIC8gMik7XHJcblxyXG4gICAgICAgIGNvbnN0IGhhbGZUZXh0RmllbGRIZWlnaHQgPSBNYXRoLnJvdW5kKHRleHRGaWVsZEhlaWdodCAvIDIpO1xyXG4gICAgICAgIGNvbnN0IG1pY3JvQnV0dG9uUmlnaHRNYXJnaW4gPSAxMDtcclxuXHJcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9IG5ldyBMYWJlbChoYWxmSGVpZ2h0IC0gdGV4dEZpZWxkSGVpZ2h0IC0gaGFsZlRleHRGaWVsZEhlaWdodCwgNSwgaGFsZkV4cHJlc3Npb25XaWR0aCAqIDIsIHRleHRGaWVsZEhlaWdodCwgbGFiZWxUZXh0KTtcclxuICAgICAgICBjb25zdCBhbnN3ZXJJbnB1dCA9IG5ldyBMYWJlbChoYWxmSGVpZ2h0IC0gaGFsZlRleHRGaWVsZEhlaWdodCwgNSx0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0LCAnJyk7XHJcbiAgICAgICAgY29uc3QgbWljcm9CdXR0b24gPSBuZXcgQnV0dG9uKGhhbGZIZWlnaHQgLSBNYXRoLnJvdW5kKG1pY3JvQnV0dG9uSGVpZ2h0IC8gMiksIHdpZHRoIC0gbWljcm9CdXR0b25SaWdodE1hcmdpbiAtIG1pY3JvQnV0dG9uV2lkdGgsIG1pY3JvQnV0dG9uV2lkdGggLyAyLCBtaWNyb0J1dHRvbkhlaWdodCwgJycpO1xyXG4gICAgICAgIG1pY3JvQnV0dG9uLnNldEJhY2tncm91bmRJbWFnZShuZXcgSW1hZ2VDb21wb25lbnQobWljcm9CdXR0b25JbWFnZSwgMCwgMCwgbWljcm9CdXR0b25XaWR0aCwgbWljcm9CdXR0b25IZWlnaHQsIG1pY3JvQnV0dG9uV2lkdGgsIG1pY3JvQnV0dG9uSGVpZ2h0LCAwLCAwLCBtaWNyb0J1dHRvbldpZHRoIC8gMiwgbWljcm9CdXR0b25IZWlnaHQpKTtcclxuXHJcbiAgICAgICAgYW5zd2VySW5wdXQuc2V0QmFja2dyb3VuZEltYWdlKG5ldyBJbWFnZUNvbXBvbmVudCh0ZXh0RmllbGRJbWFnZSwgMCwgMCwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCwgMCwgMCwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCkpO1xyXG4gICAgICAgIGFuc3dlcklucHV0LnNldFRleHRDb2xvcignI0ZGRkYwMCcpO1xyXG4gICAgICAgIGFuc3dlcklucHV0LnByb3BlcnRpZXMuY3Vyc29yID0gJ2F1dG8nO1xyXG4gICAgICAgIGV4cHJlc3Npb24uc2V0QmFja2dyb3VuZENvbG9yKCdyZ2JhKDAsIDAsIDAsIDApJyk7XHJcbiAgICAgICAgZXhwcmVzc2lvbi5zZXRUZXh0Q29sb3IoJyNmZmZmZmYnKTtcclxuXHJcbiAgICAgICAgY29uc3Qgb25lR2x5cGhXaWR0aCA9IE1hdGguY2VpbChnZXRUZXh0V2lkdGhXaXRoQ2FudmFzKCd4JywgJ21vbm9zcGFjZScsICcxNnB4JykpO1xyXG5cclxuICAgICAgICBhbnN3ZXJJbnB1dC5tYXhUZXh0TGVuZ3RoID0gTWF0aC5mbG9vcigod2lkdGggLSAxMCkgLyBvbmVHbHlwaFdpZHRoKTtcclxuXHJcbiAgICAgICAgbWljcm9CdXR0b24uc2V0QmFja2dyb3VuZENvbG9yKCcjYWFhYWFhJyk7XHJcbiAgICAgICAgbWljcm9CdXR0b24udGFiYWJsZSA9IHRydWU7XHJcbiAgICAgICAgbWljcm9CdXR0b24uZHJhd0JvcmRlciA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuZXhwcmVzc2lvbktleSA9ICdleHByZXNzaW9uJztcclxuICAgICAgICB0aGlzLmFuc3dlcktleSA9ICdhbnN3ZXInO1xyXG4gICAgICAgIHRoaXMubWljcm9CdXR0b25LZXkgPSAnbWljcm9idXR0b24nO1xyXG5cclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChleHByZXNzaW9uLCB0aGlzLmV4cHJlc3Npb25LZXkpO1xyXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGFuc3dlcklucHV0LCB0aGlzLmFuc3dlcktleSk7XHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQobWljcm9CdXR0b24sIHRoaXMubWljcm9CdXR0b25LZXkpO1xyXG4gICAgICAgIGFuc3dlcklucHV0LmFsaWduQ2VudGVyKCk7XHJcbiAgICAgICAgbWljcm9CdXR0b24uYWxpZ25DZW50ZXIoKTtcclxuXHJcbiAgICAgICAgZXhwcmVzc2lvbi5zZXRCb3VuZGluZ0NsaWVudFJlY3QodW5kZWZpbmVkLCBhbnN3ZXJJbnB1dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0KTtcclxuICAgICAgICBtaWNyb0J1dHRvbi5zZXRCb3VuZGluZ0NsaWVudFJlY3QodW5kZWZpbmVkLCBhbnN3ZXJJbnB1dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCArIDUpO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRTcGVlY2hSZWNvZ25pdGlvbigpO1xyXG4gICAgICAgIHRoaXMuc2V0U3BlZWNoRXZlbnRIYW5kbGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFNwZWVjaFJlY29nbml0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IHJlY29nbml0aW9uID0gbmV3IFNwZWVjaFJlY29nbml0aW9uKCk7XHJcbiAgICAgICAgcmVjb2duaXRpb24ubGFuZyA9ICdlbi1VUyc7XHJcbiAgICAgICAgcmVjb2duaXRpb24uaW50ZXJpbVJlc3VsdHMgPSBmYWxzZTtcclxuICAgICAgICByZWNvZ25pdGlvbi5tYXhBbHRlcm5hdGl2ZXMgPSAxO1xyXG5cclxuICAgICAgICB0aGlzLnJlY29nbml0aW9uID0gcmVjb2duaXRpb247XHJcblxyXG4gICAgICAgIHJldHVybiByZWNvZ25pdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBnZXREZWZhdWx0Q29tcG9uZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMubWljcm9CdXR0b25LZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFNwZWVjaEV2ZW50SGFuZGxlcigpIHtcclxuICAgICAgICBjb25zdCBtaWNyb0J1dHRvbiA9IHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5taWNyb0J1dHRvbktleSk7XHJcbiAgICAgICAgY29uc3QgYW5zd2VyID0gdGhpcy5nZXRDaGlsZENvbXBvbmVudCh0aGlzLmFuc3dlcktleSk7XHJcbiAgICAgICAgY29uc3QgcmVjb2duaXRpb24gPSB0aGlzLnJlY29nbml0aW9uO1xyXG5cclxuICAgICAgICBsZXQgaXNXb3JraW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGNvbnN0IG1pY3JvSGFuZGxlciA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUuY2FuY2VsQnViYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmICghaXNXb3JraW5nKSB7XHJcbiAgICAgICAgICAgICAgICByZWNvZ25pdGlvbi5zdGFydCgpO1xyXG4gICAgICAgICAgICAgICAgaXNXb3JraW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIG1pY3JvQnV0dG9uLmdldEJhY2tncm91bmRJbWFnZSgpLnNldEZyYW1lKDEpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVjb2duaXRpb24uc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgaXNXb3JraW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBtaWNyb0J1dHRvbi5nZXRCYWNrZ3JvdW5kSW1hZ2UoKS5zZXRGcmFtZSgwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIG1pY3JvQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLktFWUJPQVJELktFWV9QUkVTUywgbWljcm9IYW5kbGVyKTtcclxuXHJcbiAgICAgICAgbWljcm9CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihldmVudHMuTU9VU0UuTU9VU0VfRE9XTiwgbWljcm9IYW5kbGVyKTtcclxuXHJcbiAgICAgICAgcmVjb2duaXRpb24ub25yZXN1bHQgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LnJlc3VsdHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgYW5zd2VyLnNldFRleHQoZXZlbnQucmVzdWx0c1swXVswXS50cmFuc2NyaXB0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICByZWNvZ25pdGlvbi5vbnNwZWVjaGVuZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgcmVjb2duaXRpb24uc3RvcCgpO1xyXG4gICAgICAgICAgICBpc1dvcmtpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgbWljcm9CdXR0b24uZ2V0QmFja2dyb3VuZEltYWdlKCkuc2V0RnJhbWUoMCk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmVjb2duaXRpb24ub25lcnJvciA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRXJyb3Igb2NjdXJyZWQgaW4gcmVjb2duaXRpb246ICcgKyBldmVudC5lcnJvcik7XHJcbiAgICAgICAgICAgIG1pY3JvQnV0dG9uLmdldEJhY2tncm91bmRJbWFnZSgpLnNldEZyYW1lKDApO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgYW5zd2VySXNSaWdodCgpIHtcclxuICAgICAgICBjb25zdCBhbnN3ZXIgPSB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMuYW5zd2VyS2V5KS5nZXRUZXh0KCkudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICByZXR1cm4gIGFuc3dlciA9PT0gdGhpcy53b3JkO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBldmVudHMgZnJvbSAnLi4vLi4vZXZlbnQvZXZlbnRzL2V2ZW50cyc7XHJcblxyXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi9Db21wb25lbnRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENoYXJ0IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHRvcCA9IDAsIGxlZnQgPSAwLCB3aWR0aCA9IDAsIGhlaWdodCA9IDAsIGNlbGxDb3VudCwgcGFyZW50Q29tcG9uZW50ID0gbnVsbCkge1xyXG4gICAgICAgIHN1cGVyKHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCwgcGFyZW50Q29tcG9uZW50KTtcclxuXHJcbiAgICAgICAgdGhpcy5wcm9wZXJ0aWVzLmN1cnNvciA9ICdwb2ludGVyJztcclxuXHJcbiAgICAgICAgY29uc3QgYm90dG9tID0gdG9wICsgaGVpZ2h0O1xyXG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gbGVmdCArIHdpZHRoO1xyXG5cclxuICAgICAgICB0aGlzLmNlbGxDb3VudCA9IGNlbGxDb3VudDtcclxuXHJcbiAgICAgICAgY29uc3QgcGFkZGluZyA9IDIwO1xyXG4gICAgICAgIGNvbnN0IGZpcnN0Q2F0aGV0dXMgPSA2O1xyXG4gICAgICAgIGNvbnN0IHNlY29uZENhdGhldHVzID0gODtcclxuXHJcbiAgICAgICAgdGhpcy5vcmlnaW5Db29yZCA9IHtcclxuICAgICAgICAgICAgeDogbGVmdCArIHBhZGRpbmcsXHJcbiAgICAgICAgICAgIHk6IGJvdHRvbSAtIHBhZGRpbmdcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnhBeGlzQ29vcmQgPSB7XHJcbiAgICAgICAgICAgIHg6IHJpZ2h0IC0gcGFkZGluZyAvIDIsXHJcbiAgICAgICAgICAgIHk6IHRoaXMub3JpZ2luQ29vcmQueSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnlBeGlzQ29vcmQgPSB7XHJcbiAgICAgICAgICAgIHg6IHRoaXMub3JpZ2luQ29vcmQueCxcclxuICAgICAgICAgICAgeTogdG9wICsgcGFkZGluZyAvIDIsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5sYXN0Q2VsbFhBeGlzQ29vcmQgPSB7XHJcbiAgICAgICAgICAgIHg6IHRoaXMueEF4aXNDb29yZC54IC0gcGFkZGluZyxcclxuICAgICAgICAgICAgeTogdGhpcy54QXhpc0Nvb3JkLnlcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmxhc3RDZWxsWUF4aXNDb29yZCA9IHtcclxuICAgICAgICAgICAgeDogdGhpcy55QXhpc0Nvb3JkLngsXHJcbiAgICAgICAgICAgIHk6IHRoaXMueUF4aXNDb29yZC55ICsgcGFkZGluZ1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMueEF4aXNBcnJvdyA9IHtcclxuICAgICAgICAgICAgbGVmdFBvaW50OiB7XHJcbiAgICAgICAgICAgICAgICB4OiB0aGlzLnhBeGlzQ29vcmQueCAtIGZpcnN0Q2F0aGV0dXMsXHJcbiAgICAgICAgICAgICAgICB5OiB0aGlzLnhBeGlzQ29vcmQueSAtIHNlY29uZENhdGhldHVzXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJpZ2h0UG9pbnQ6IHtcclxuICAgICAgICAgICAgICAgIHg6IHRoaXMueEF4aXNDb29yZC54IC0gZmlyc3RDYXRoZXR1cyxcclxuICAgICAgICAgICAgICAgIHk6IHRoaXMueEF4aXNDb29yZC55ICsgc2Vjb25kQ2F0aGV0dXNcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMueUF4aXNBcnJvdyA9IHtcclxuICAgICAgICAgICAgbGVmdFBvaW50OiB7XHJcbiAgICAgICAgICAgICAgICB4OiB0aGlzLnlBeGlzQ29vcmQueCAtIHNlY29uZENhdGhldHVzLFxyXG4gICAgICAgICAgICAgICAgeTogdGhpcy55QXhpc0Nvb3JkLnkgKyBmaXJzdENhdGhldHVzXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJpZ2h0UG9pbnQ6IHtcclxuICAgICAgICAgICAgICAgIHg6IHRoaXMueUF4aXNDb29yZC54ICsgc2Vjb25kQ2F0aGV0dXMsXHJcbiAgICAgICAgICAgICAgICB5OiB0aGlzLnlBeGlzQ29vcmQueSArIGZpcnN0Q2F0aGV0dXNcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMueEF4aXNXaWR0aCA9IHRoaXMubGFzdENlbGxYQXhpc0Nvb3JkLnggLSB0aGlzLm9yaWdpbkNvb3JkLng7XHJcbiAgICAgICAgdGhpcy55QXhpc1dpZHRoID0gdGhpcy5vcmlnaW5Db29yZC55IC0gdGhpcy5sYXN0Q2VsbFlBeGlzQ29vcmQueTtcclxuXHJcbiAgICAgICAgdGhpcy5vbmVDZWxsWCA9IHRoaXMueEF4aXNXaWR0aCAvIChjZWxsQ291bnQgKyAxKTtcclxuICAgICAgICB0aGlzLm9uZUNlbGxZID0gdGhpcy55QXhpc1dpZHRoIC8gKGNlbGxDb3VudCArIDEpO1xyXG5cclxuICAgICAgICB0aGlzLnBvaW50ID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5vbmNoYXJ0Y2hhbmdlID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKGV2ZW50cy5NT1VTRS5NT1VTRV9ET1dOLCB0aGlzLmhhbmRsZUNsaWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVDbGljayhlKSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XHJcbiAgICAgICAgY29uc3QgeyB0b3AsIGxlZnQgfSA9IHRhcmdldC5nZXRBYnNvbHV0ZUNvb3JkKCk7XHJcbiAgICAgICAgY29uc3QgeyB0b3A6IG1vdXNlVG9wLCBsZWZ0OiBtb3VzZUxlZnQgfSA9IGUucGF5bG9hZC5tb3VzZUNvb3JkO1xyXG5cclxuICAgICAgICBjb25zdCByZWxhdGl2ZU1vdXNlVG9wID0gbW91c2VUb3AgLSB0b3AgICsgdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtcclxuICAgICAgICBjb25zdCByZWxhdGl2ZU1vdXNlTGVmdCA9IG1vdXNlTGVmdCAtIGxlZnQgKyB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuXHJcbiAgICAgICAgaWYgKHJlbGF0aXZlTW91c2VUb3AgPCB0YXJnZXQubGFzdENlbGxZQXhpc0Nvb3JkLnkgKyB0YXJnZXQub25lQ2VsbFkgLyAyIHx8IHJlbGF0aXZlTW91c2VUb3AgPiB0YXJnZXQub3JpZ2luQ29vcmQueVxyXG4gICAgICAgIHx8IHJlbGF0aXZlTW91c2VMZWZ0IDwgdGFyZ2V0Lm9yaWdpbkNvb3JkLnggfHwgcmVsYXRpdmVNb3VzZUxlZnQgPiB0YXJnZXQubGFzdENlbGxYQXhpc0Nvb3JkLnggLSB0YXJnZXQub25lQ2VsbFggLyAyKSB7XHJcbiAgICAgICAgICAgIHRhcmdldC5wb2ludCA9IG51bGw7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgeSA9IE1hdGgucm91bmQoKHRhcmdldC5vcmlnaW5Db29yZC55IC0gcmVsYXRpdmVNb3VzZVRvcCkgLyB0YXJnZXQub25lQ2VsbFkpO1xyXG4gICAgICAgICAgICBjb25zdCB4ID0gTWF0aC5yb3VuZCgocmVsYXRpdmVNb3VzZUxlZnQgLSB0YXJnZXQub3JpZ2luQ29vcmQueCkgLyB0YXJnZXQub25lQ2VsbFgpO1xyXG5cclxuICAgICAgICAgICAgdGFyZ2V0LnNldFBvaW50KHgsIHkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXQub25jaGFydGNoYW5nZSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICB0YXJnZXQub25jaGFydGNoYW5nZSh0YXJnZXQucG9pbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBnZXRQb2ludCgpIHtcclxuICAgICAgICBpZiAodGhpcy5wb2ludCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHg6IHRoaXMucG9pbnQueCxcclxuICAgICAgICAgICAgeTogdGhpcy5wb2ludC55XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBwYWludENoYXJ0QXhpc2VzKGNvbnRleHQsIG9yaWdpblgsIG9yaWdpblkpIHtcclxuICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJyMwMDAwMDAnO1xyXG5cclxuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDM7XHJcblxyXG4gICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY29udGV4dC5tb3ZlVG8ob3JpZ2luWCwgb3JpZ2luWSk7XHJcbiAgICAgICAgY29udGV4dC5saW5lVG8odGhpcy54QXhpc0Nvb3JkLngsIHRoaXMueEF4aXNDb29yZC55KTtcclxuXHJcbiAgICAgICAgY29udGV4dC5tb3ZlVG8odGhpcy54QXhpc0Nvb3JkLngsIHRoaXMueEF4aXNDb29yZC55KTtcclxuICAgICAgICBjb250ZXh0LmxpbmVUbyh0aGlzLnhBeGlzQXJyb3cubGVmdFBvaW50LngsIHRoaXMueEF4aXNBcnJvdy5sZWZ0UG9pbnQueSk7XHJcblxyXG4gICAgICAgIGNvbnRleHQubW92ZVRvKHRoaXMueEF4aXNDb29yZC54LCB0aGlzLnhBeGlzQ29vcmQueSk7XHJcbiAgICAgICAgY29udGV4dC5saW5lVG8odGhpcy54QXhpc0Fycm93LnJpZ2h0UG9pbnQueCwgdGhpcy54QXhpc0Fycm93LnJpZ2h0UG9pbnQueSk7XHJcblxyXG4gICAgICAgIGNvbnRleHQubW92ZVRvKHRoaXMueUF4aXNDb29yZC54LCB0aGlzLnlBeGlzQ29vcmQueSk7XHJcbiAgICAgICAgY29udGV4dC5saW5lVG8odGhpcy55QXhpc0Fycm93LmxlZnRQb2ludC54LCB0aGlzLnlBeGlzQXJyb3cubGVmdFBvaW50LnkpO1xyXG5cclxuICAgICAgICBjb250ZXh0Lm1vdmVUbyh0aGlzLnlBeGlzQ29vcmQueCwgdGhpcy55QXhpc0Nvb3JkLnkpO1xyXG4gICAgICAgIGNvbnRleHQubGluZVRvKHRoaXMueUF4aXNBcnJvdy5yaWdodFBvaW50LngsIHRoaXMueUF4aXNBcnJvdy5yaWdodFBvaW50LnkpO1xyXG5cclxuICAgICAgICBjb250ZXh0Lm1vdmVUbyhvcmlnaW5YLCBvcmlnaW5ZKTtcclxuICAgICAgICBjb250ZXh0LmxpbmVUbyh0aGlzLnlBeGlzQ29vcmQueCwgdGhpcy55QXhpc0Nvb3JkLnkpO1xyXG4gICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyMwMDAwMDAnO1xyXG4gICAgICAgIGNvbnRleHQuZm9udCA9IGAxNnB4IG1vbm9zcGFjZWA7XHJcbiAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSAndG9wJztcclxuICAgICAgICBjb250ZXh0LnRleHRBbGlnbiA9ICdjZW50ZXInO1xyXG5cclxuICAgICAgICBjb250ZXh0LmZpbGxUZXh0KCcwJywgb3JpZ2luWCwgb3JpZ2luWSk7XHJcbiAgICB9XHJcblxyXG4gICAgcGFpbnRDaGFydEdyaWQoY29udGV4dCwgb3JpZ2luWCwgb3JpZ2luWSkge1xyXG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIzc3Nzc3Nyc7XHJcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSAyO1xyXG5cclxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG5cclxuICAgICAgICBjb25zdCBsYXN0VGVuQ2VsbFkgPSB0aGlzLmxhc3RDZWxsWUF4aXNDb29yZC55ICsgdGhpcy5vbmVDZWxsWTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMuY2VsbENvdW50ICsgMTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHggID0gb3JpZ2luWCArIGkgKiB0aGlzLm9uZUNlbGxYO1xyXG4gICAgICAgICAgICBjb250ZXh0Lm1vdmVUbyh4LCBvcmlnaW5ZKTtcclxuICAgICAgICAgICAgY29udGV4dC5saW5lVG8oeCwgbGFzdFRlbkNlbGxZKTtcclxuICAgICAgICAgICAgY29udGV4dC5maWxsVGV4dChTdHJpbmcoaSksIHgsIG9yaWdpblkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29udGV4dC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcclxuICAgICAgICBjb250ZXh0LnRleHRBbGlnbiA9ICdyaWdodCc7XHJcblxyXG4gICAgICAgIGNvbnN0IGxhc3RUZW5DZWxsWCA9IHRoaXMubGFzdENlbGxYQXhpc0Nvb3JkLnggLSB0aGlzLm9uZUNlbGxYO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5jZWxsQ291bnQgKyAxOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgeSAgPSBvcmlnaW5ZIC0gKHRoaXMuY2VsbENvdW50ICsgMSAtIGkpICogdGhpcy5vbmVDZWxsWTtcclxuXHJcbiAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKG9yaWdpblgsIHkpO1xyXG4gICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhsYXN0VGVuQ2VsbFgsIHkpO1xyXG4gICAgICAgICAgICBjb250ZXh0LmZpbGxUZXh0KFN0cmluZyh0aGlzLmNlbGxDb3VudCArIDEgLSBpKSwgb3JpZ2luWCAtIDMsIHkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29udGV4dC5zdHJva2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBwYWludFBvaW50KGNvbnRleHQpIHtcclxuICAgICAgICBjb250ZXh0LnNhdmUoKTtcclxuXHJcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICcjYWEwMDAwJztcclxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGNvbnRleHQuYXJjKHRoaXMucG9pbnQucG9pbnRDb29yZC54LCB0aGlzLnBvaW50LnBvaW50Q29vcmQueSwgNSwgMCwgMiAqIE1hdGguUEkpO1xyXG4gICAgICAgIGNvbnRleHQuY2xpcCgpO1xyXG4gICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAnI2FhMDAwMCc7XHJcbiAgICAgICAgY29udGV4dC5maWxsUmVjdCh0aGlzLnBvaW50LnBvaW50Q29vcmQueCAtIDEwLCB0aGlzLnBvaW50LnBvaW50Q29vcmQueSAtIDEwLCAyMCwgMjApO1xyXG4gICAgICAgIGNvbnRleHQucmVzdG9yZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHBhaW50Q29tcG9uZW50KGNvbnRleHQsIGVsYXBzZWRUaW1lKSB7XHJcbiAgICAgICAgY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgc3VwZXIucGFpbnRDb21wb25lbnQoY29udGV4dCwgZWxhcHNlZFRpbWUpO1xyXG5cclxuICAgICAgICBjb25zdCB7IHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBjb25zdCB7IHg6IG9yaWdpblgsIHk6IG9yaWdpblkgfSA9IHRoaXMub3JpZ2luQ29vcmQ7XHJcblxyXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNmZmZmZmYnO1xyXG5cclxuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgICAgIHRoaXMucGFpbnRDaGFydEF4aXNlcyhjb250ZXh0LCBvcmlnaW5YLCBvcmlnaW5ZKTtcclxuXHJcbiAgICAgICAgdGhpcy5wYWludENoYXJ0R3JpZChjb250ZXh0LCBvcmlnaW5YLCBvcmlnaW5ZKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucG9pbnQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5wYWludFBvaW50KGNvbnRleHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29udGV4dC5yZXN0b3JlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHNldFBvaW50KHgsIHkpIHtcclxuICAgICAgICBpZiAoeCA+IHRoaXMuY2VsbENvdW50IHx8IHggPCAwIHx8IHkgPiB0aGlzLmNlbGxDb3VudCB8fCB5IDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLnBvaW50ID0gbnVsbDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnBvaW50ID0ge1xyXG4gICAgICAgICAgICAgICAgeCxcclxuICAgICAgICAgICAgICAgIHksXHJcbiAgICAgICAgICAgICAgICBwb2ludENvb3JkOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgeDogdGhpcy5vcmlnaW5Db29yZC54ICsgdGhpcy5vbmVDZWxsWCAqIHgsXHJcbiAgICAgICAgICAgICAgICAgICAgeTogdGhpcy5vcmlnaW5Db29yZC55IC0gdGhpcy5vbmVDZWxsWSAqIHlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0gXHJcbiIsImV4cG9ydCBjb25zdCBjYWxjdWxhdGVJbWFnZVNpemUgPSAodGFza0ltYWdlV2lkdGgsIHRhc2tJbWFnZUhlaWdodCwgbWF4VGFza0ltYWdlV2lkdGgsIG1heFRhc2tJbWFnZUhlaWdodCkgPT4ge1xyXG4gICAgbGV0IHRhc2tJbWFnZVdpZHRoUHJvcCA9IHRhc2tJbWFnZVdpZHRoO1xyXG4gICAgbGV0IHRhc2tJbWFnZUhlaWdodFByb3AgPSB0YXNrSW1hZ2VIZWlnaHQ7XHJcbiAgICBsZXQgcmF0aW9uO1xyXG5cclxuICAgIGlmICgodGFza0ltYWdlV2lkdGhQcm9wIC8gbWF4VGFza0ltYWdlV2lkdGgpID4gKHRhc2tJbWFnZUhlaWdodFByb3AgLyBtYXhUYXNrSW1hZ2VIZWlnaHQpKSB7XHJcbiAgICAgICAgaWYgKHRhc2tJbWFnZVdpZHRoUHJvcCA+IG1heFRhc2tJbWFnZVdpZHRoKSB7XHJcbiAgICAgICAgICAgIHRhc2tJbWFnZVdpZHRoUHJvcCA9IG1heFRhc2tJbWFnZVdpZHRoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmF0aW9uID0gdGFza0ltYWdlV2lkdGhQcm9wIC8gdGFza0ltYWdlV2lkdGg7XHJcblxyXG4gICAgICAgIHRhc2tJbWFnZUhlaWdodFByb3AgPSBNYXRoLnJvdW5kKHRhc2tJbWFnZUhlaWdodCAqIHJhdGlvbik7XHJcblxyXG4gICAgICAgIGlmICh0YXNrSW1hZ2VIZWlnaHRQcm9wID4gbWF4VGFza0ltYWdlSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRhc2tJbWFnZUhlaWdodFByb3AgPSBtYXhUYXNrSW1hZ2VIZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAodGFza0ltYWdlSGVpZ2h0UHJvcCA+IG1heFRhc2tJbWFnZUhlaWdodCkge1xyXG4gICAgICAgICAgICB0YXNrSW1hZ2VIZWlnaHRQcm9wID0gbWF4VGFza0ltYWdlSGVpZ2h0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmF0aW9uID0gdGFza0ltYWdlSGVpZ2h0UHJvcCAvIHRhc2tJbWFnZUhlaWdodDtcclxuXHJcbiAgICAgICAgdGFza0ltYWdlV2lkdGhQcm9wID0gTWF0aC5yb3VuZCh0YXNrSW1hZ2VXaWR0aCAqIHJhdGlvbik7XHJcblxyXG4gICAgICAgIGlmICh0YXNrSW1hZ2VXaWR0aFByb3AgPiBtYXhUYXNrSW1hZ2VXaWR0aCkge1xyXG4gICAgICAgICAgICB0YXNrSW1hZ2VXaWR0aFByb3AgPSBtYXhUYXNrSW1hZ2VXaWR0aDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB0YXNrSW1hZ2VXaWR0aFByb3AsXHJcbiAgICAgICAgdGFza0ltYWdlSGVpZ2h0UHJvcFxyXG4gICAgfTtcclxufVxyXG4iLCJpbXBvcnQgTGFiZWwgZnJvbSAnLi4vLi4vQ29tcG9uZW50L0xhYmVsJztcclxuaW1wb3J0IFRhc2tNb2RhbFdpbmRvdyBmcm9tICcuL1Rhc2tNb2RhbFdpbmRvdyc7XHJcbmltcG9ydCBJbWFnZUNvbXBvbmVudCBmcm9tICcuLi8uLi9JbWFnZUNvbXBvbmVudC9JbWFnZUNvbXBvbmVudCc7XHJcblxyXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuLi8uLi9Db21wb25lbnQvQ29tcG9uZW50JztcclxuaW1wb3J0IHsgY2FsY3VsYXRlSW1hZ2VTaXplIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvaW1hZ2UnO1xyXG5pbXBvcnQgeyBnZXRUZXh0V2lkdGhXaXRoQ2FudmFzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdGV4dFdpZHRoJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5hbWVUYXNrTW9kYWxXaW5kb3cgZXh0ZW5kcyBUYXNrTW9kYWxXaW5kb3cge1xyXG4gICAgY29uc3RydWN0b3IodG9wID0gMCwgbGVmdCA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgYWRkaXRpb25hbFJlc291cmNlcyA9IHt9LCBwYXJlbnRDb21wb25lbnQgPSBudWxsKSB7XHJcbiAgICAgICAgc3VwZXIodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0LCBg0J3QsNC30L7QstC4INGC0L4sINGH0YLQviDQvdCw0YDQuNGB0L7QstCw0L3QviDQvdCwINC60LDRgNGC0LjQvdC60LUg0L7QtNC90LjQvCDRgdC70L7QstC+0Lwg0L3QsCDQsNC90LPQu9C40LnRgdC60L7QvDpgLCBhZGRpdGlvbmFsUmVzb3VyY2VzLCBwYXJlbnRDb21wb25lbnQpO1xyXG5cclxuICAgICAgICBjb25zdCB0ZXh0RmllbGRJbWFnZSA9IGFkZGl0aW9uYWxSZXNvdXJjZXMuaW1hZ2VzLnRleHRGaWVsZEltYWdlO1xyXG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoOiB0ZXh0RmllbGRXaWR0aCwgbmF0dXJhbEhlaWdodDogdGV4dEZpZWxkSGVpZ2h0IH0gPSB0ZXh0RmllbGRJbWFnZTtcclxuXHJcbiAgICAgICAgY29uc3QgdGFza0ltYWdlID0gYWRkaXRpb25hbFJlc291cmNlcy5pbWFnZXMubmFtZUltYWdlO1xyXG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoOiB0YXNrSW1hZ2VXaWR0aCwgbmF0dXJhbEhlaWdodDogdGFza0ltYWdlSGVpZ2h0IH0gPSB0YXNrSW1hZ2U7XHJcblxyXG4gICAgICAgIGNvbnN0IGhhbGZIZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0IC8gMik7XHJcbiAgICAgXHJcbiAgICAgICAgY29uc3QgaGFsZlRleHRGaWVsZEhlaWdodCA9IE1hdGgucm91bmQodGV4dEZpZWxkSGVpZ2h0IC8gMik7XHJcbiAgICAgICAgY29uc3QgYW5zd2VySW5wdXQgPSBuZXcgTGFiZWwoaGFsZkhlaWdodCAtIGhhbGZUZXh0RmllbGRIZWlnaHQsIDUsdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCwgJycpO1xyXG5cclxuICAgICAgICBhbnN3ZXJJbnB1dC50YWJhYmxlID0gdHJ1ZTtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5lZGl0YWJsZSA9IHRydWU7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuZHJhd0JvcmRlciA9IHRydWU7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuc2V0QmFja2dyb3VuZENvbG9yKCcjYmIwMDAwJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IG9uZUdseXBoV2lkdGggPSBNYXRoLmNlaWwoZ2V0VGV4dFdpZHRoV2l0aENhbnZhcygneCcsICdtb25vc3BhY2UnLCAnMTZweCcpKTtcclxuXHJcbiAgICAgICAgYW5zd2VySW5wdXQubWF4VGV4dExlbmd0aCA9IE1hdGguZmxvb3IodGV4dEZpZWxkV2lkdGggLyBvbmVHbHlwaFdpZHRoKSArIDE7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuc2V0QmFja2dyb3VuZEltYWdlKG5ldyBJbWFnZUNvbXBvbmVudCh0ZXh0RmllbGRJbWFnZSwgMCwgMCwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCwgMCwgMCwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCkpO1xyXG4gICAgICAgIGFuc3dlcklucHV0LnNldFRleHRDb2xvcignI0ZGRkYwMCcpO1xyXG4gICAgICAgIGFuc3dlcklucHV0LmN1cnNvci5zZXRDb2xvcignIzA4QjYwMCcpO1xyXG5cclxuICAgICAgICB0aGlzLmFuc3dlcktleSA9ICdhbnN3ZXInO1xyXG5cclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChhbnN3ZXJJbnB1dCwgdGhpcy5hbnN3ZXJLZXkpO1xyXG4gICAgICAgIGFuc3dlcklucHV0LmFsaWduQ2VudGVyKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgdG9wOiBva0J1dHRvblRvcCwgaGVpZ2h0OiBva0J1dHRvbkhlaWdodCB9ID0gc3VwZXIuZ2V0T2tCdXR0b25Db21wb25lbnQoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5zZXRCb3VuZGluZ0NsaWVudFJlY3Qob2tCdXR0b25Ub3AgKyBNYXRoLnJvdW5kKChva0J1dHRvbkhlaWdodCAtIHRleHRGaWVsZEhlaWdodCkgLyAyKSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgYm90dG9tOiBkZXNjcmlwdGlvbkJvdHRvbSwgbGVmdDogZGVzY3JpcHRpb25MZWZ0IH0gPSBzdXBlci5nZXRUYXNrRGVzY3JpcHRpb25Db21wb25lbnQoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgICAgY29uc3QgbWFyZ2luSGVpZ2h0ID0gMjA7XHJcbiAgICAgICAgbGV0IHsgdGFza0ltYWdlV2lkdGhQcm9wLCB0YXNrSW1hZ2VIZWlnaHRQcm9wIH0gPSBjYWxjdWxhdGVJbWFnZVNpemUodGFza0ltYWdlV2lkdGgsIHRhc2tJbWFnZUhlaWdodCwgd2lkdGggLSBkZXNjcmlwdGlvbkxlZnQgKiAyLCBoZWlnaHQgLSAoaGVpZ2h0IC0gb2tCdXR0b25Ub3ApIC0gZGVzY3JpcHRpb25Cb3R0b20gLSBtYXJnaW5IZWlnaHQpO1xyXG4gICAgIFxyXG4gICAgICAgIHRoaXMudGFza0ltYWdlS2V5ID0gJ3Rhc2snO1xyXG5cclxuICAgICAgICBjb25zdCB0YXNrSW1hZ2VDb21wb25lbnQgPSBuZXcgQ29tcG9uZW50KDAsIDAsIHRhc2tJbWFnZVdpZHRoUHJvcCwgdGFza0ltYWdlSGVpZ2h0UHJvcCk7XHJcbiAgICAgICAgdGFza0ltYWdlQ29tcG9uZW50LnNldEJhY2tncm91bmRJbWFnZShuZXcgSW1hZ2VDb21wb25lbnQodGFza0ltYWdlLCAwLCAwLCB0YXNrSW1hZ2VXaWR0aCwgdGFza0ltYWdlSGVpZ2h0LCB0YXNrSW1hZ2VXaWR0aFByb3AsIHRhc2tJbWFnZUhlaWdodFByb3AsIDAsIDAsIHRhc2tJbWFnZVdpZHRoLCB0YXNrSW1hZ2VIZWlnaHQpKTtcclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudCh0YXNrSW1hZ2VDb21wb25lbnQsIHRoaXMudGFza0ltYWdlS2V5KTtcclxuXHJcbiAgICAgICAgdGFza0ltYWdlQ29tcG9uZW50LmFsaWduQ2VudGVyKCk7XHJcbiAgICAgICAgdGFza0ltYWdlQ29tcG9uZW50LnNldEJvdW5kaW5nQ2xpZW50UmVjdChkZXNjcmlwdGlvbkJvdHRvbSArIDEwKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbWFnZU5hbWVzID0gYWRkaXRpb25hbFJlc291cmNlcy5hZGRpdGlvbmFsLm5hbWUudGFza05hbWVzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERlZmF1bHRDb21wb25lbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5hbnN3ZXJLZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIGFuc3dlcklzUmlnaHQoKSB7XHJcbiAgICAgICAgY29uc3QgYW5zd2VyID0gdGhpcy5nZXRDaGlsZENvbXBvbmVudCh0aGlzLmFuc3dlcktleSkuZ2V0VGV4dCgpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGNvbnN0IG5hbWVzID0gdGhpcy5pbWFnZU5hbWVzO1xyXG5cclxuICAgICAgICBsZXQgY29uY2x1c2lvbiA9IGZhbHNlO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbmNsdXNpb24gPSBhbnN3ZXIgPT09IG5hbWVzW2ldO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNvbmNsdXNpb24pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb25jbHVzaW9uO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gIGNvbmNsdXNpb247XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IExhYmVsIGZyb20gJy4uLy4uL0NvbXBvbmVudC9MYWJlbCc7XHJcbmltcG9ydCBUYXNrTW9kYWxXaW5kb3cgZnJvbSAnLi9UYXNrTW9kYWxXaW5kb3cnO1xyXG5pbXBvcnQgSW1hZ2VDb21wb25lbnQgZnJvbSAnLi4vLi4vSW1hZ2VDb21wb25lbnQvSW1hZ2VDb21wb25lbnQnO1xyXG5cclxuaW1wb3J0IHsgZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3RleHRXaWR0aCc7XHJcblxyXG5jb25zdCBvcGVyYXRpb25zID0gW1xyXG4gICAge1xyXG4gICAgICAgIGNoYXJQcmVzZW50YXRpb246ICcrJyxcclxuICAgICAgICBwZXJmb3JtKGZpcnN0LCBzZWNvbmQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZpcnN0ICsgc2Vjb25kO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgICAgY2hhclByZXNlbnRhdGlvbjogJy0nLFxyXG4gICAgICAgIHBlcmZvcm0oZmlyc3QsIHNlY29uZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmlyc3QgLSBzZWNvbmQ7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHtcclxuICAgICAgICBjaGFyUHJlc2VudGF0aW9uOiAnKicsXHJcbiAgICAgICAgcGVyZm9ybShmaXJzdCwgc2Vjb25kKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmaXJzdCAqIHNlY29uZDtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5dO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hvc2VSaWdodE9wZXJhdGlvblRhc2tNb2RhbFdpbmRvdyBleHRlbmRzIFRhc2tNb2RhbFdpbmRvdyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0b3AgPSAwLCBsZWZ0ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwLCBhZGRpdGlvbmFsUmVzb3VyY2VzID0ge30sIHBhcmVudENvbXBvbmVudCA9IG51bGwpIHtcclxuICAgICAgICBzdXBlcih0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQsICfQkiDQstGL0YDQsNC20LXQvdC40Lgg0L/RgNC+0L/Rg9GJ0LXQvSDQsNGA0LjRhNC80LXRgtC40YfQtdGB0LrQuNC5INC30L3QsNC6LiDQktGL0LHQtdGA0Lgg0L/QvtC00YXQvtC00Y/RidC40Lkg0LjQtyArLCAtINC4ICo6JywgYWRkaXRpb25hbFJlc291cmNlcywgcGFyZW50Q29tcG9uZW50KTtcclxuXHJcbiAgICAgICAgY29uc3Qgb3BlcmF0aW9uID0gb3BlcmF0aW9uc1tNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAob3BlcmF0aW9ucy5sZW5ndGggLSAxKSldO1xyXG5cclxuICAgICAgICBjb25zdCB0ZXh0RmllbGRJbWFnZSA9IGFkZGl0aW9uYWxSZXNvdXJjZXMuaW1hZ2VzLnRleHRGaWVsZEltYWdlO1xyXG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoOiB0ZXh0RmllbGRXaWR0aCwgbmF0dXJhbEhlaWdodDogdGV4dEZpZWxkSGVpZ2h0IH0gPSB0ZXh0RmllbGRJbWFnZTtcclxuXHJcbiAgICAgICAgY29uc3QgeyBmaXJzdE9wZXJhbmQsIHNlY29uZE9wZXJhbmQgfSA9IHRoaXMuZ2V0T3BlcmFuZHMob3BlcmF0aW9uKTtcclxuXHJcbiAgICAgICAgY29uc3QgYW5zd2VyTnVtYmVyID0gb3BlcmF0aW9uLnBlcmZvcm0oZmlyc3RPcGVyYW5kLCBzZWNvbmRPcGVyYW5kKTtcclxuXHJcbiAgICAgICAgdGhpcy5vcGVyYXRpb25DaGFyUHJlc2VudGF0aW9uID0gb3BlcmF0aW9uLmNoYXJQcmVzZW50YXRpb247XHJcblxyXG4gICAgICAgIGNvbnN0IGxhYmVsVGV4dCA9IGAke2ZpcnN0T3BlcmFuZH0gPyAke3NlY29uZE9wZXJhbmR9ID0gJHthbnN3ZXJOdW1iZXJ9YDtcclxuXHJcbiAgICAgICAgY29uc3QgaGFsZlRleHRGaWVsZEhlaWdodCA9IE1hdGgucm91bmQodGV4dEZpZWxkSGVpZ2h0IC8gMik7XHJcblxyXG4gICAgICAgIGNvbnN0IGhhbGZIZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgY29uc3QgaGFsZkV4cHJlc3Npb25XaWR0aCA9IE1hdGguY2VpbCgoZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyhsYWJlbFRleHQsICdtb25vc3BhY2UnLCAnMTZweCcpICsgMSkgLyAyKTtcclxuICAgICAgICBjb25zdCBleHByZXNzaW9uID0gbmV3IExhYmVsKGhhbGZIZWlnaHQgLSB0ZXh0RmllbGRIZWlnaHQgLSBoYWxmVGV4dEZpZWxkSGVpZ2h0LCA1LCBoYWxmRXhwcmVzc2lvbldpZHRoICogMiwgdGV4dEZpZWxkSGVpZ2h0LCBsYWJlbFRleHQpO1xyXG4gICAgICAgIGNvbnN0IGFuc3dlcklucHV0ID0gbmV3IExhYmVsKGhhbGZIZWlnaHQgLSBoYWxmVGV4dEZpZWxkSGVpZ2h0LCA1LHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQsICcnKTtcclxuXHJcbiAgICAgICAgYW5zd2VySW5wdXQuZWRpdGFibGUgPSB0cnVlO1xyXG4gICAgICAgIGFuc3dlcklucHV0LnRhYmFibGUgPSB0cnVlO1xyXG4gICAgICAgIGFuc3dlcklucHV0LmRyYXdCb3JkZXIgPSB0cnVlO1xyXG4gICAgICAgIGFuc3dlcklucHV0LnNldEJhY2tncm91bmRDb2xvcignI2JiMDAwMCcpO1xyXG5cclxuICAgICAgICBhbnN3ZXJJbnB1dC5tYXhUZXh0TGVuZ3RoID0gMTtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5zZXRCYWNrZ3JvdW5kSW1hZ2UobmV3IEltYWdlQ29tcG9uZW50KHRleHRGaWVsZEltYWdlLCAwLCAwLCB0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0LCB0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0LCAwLCAwLCB0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0KSk7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuc2V0VGV4dENvbG9yKCcjRkZGRjAwJyk7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuY3Vyc29yLnNldENvbG9yKCcjMDhCNjAwJyk7XHJcbiAgICAgICAgZXhwcmVzc2lvbi5zZXRCYWNrZ3JvdW5kQ29sb3IoJ3JnYmEoMCwgMCwgMCwgMCknKTtcclxuICAgICAgICBleHByZXNzaW9uLnNldFRleHRDb2xvcignI2ZmZmZmZicpO1xyXG5cclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uS2V5ID0gJ2Rlc2NyaXB0aW9uJztcclxuICAgICAgICB0aGlzLmV4cHJlc3Npb25LZXkgPSAnZXhwcmVzc2lvbic7XHJcbiAgICAgICAgdGhpcy5hbnN3ZXJLZXkgPSAnYW5zd2VyJztcclxuICAgICAgICB0aGlzLmJ1dHRvbktleSA9ICdidXR0b24nO1xyXG5cclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChleHByZXNzaW9uLCB0aGlzLmV4cHJlc3Npb25LZXkpO1xyXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGFuc3dlcklucHV0LCB0aGlzLmFuc3dlcktleSk7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuYWxpZ25DZW50ZXIoKTtcclxuXHJcbiAgICAgICAgZXhwcmVzc2lvbi5zZXRCb3VuZGluZ0NsaWVudFJlY3QodW5kZWZpbmVkLCBhbnN3ZXJJbnB1dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREZWZhdWx0Q29tcG9uZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMuYW5zd2VyS2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRPcGVyYW5kcyhvcGVyYXRpb24pIHtcclxuICAgICAgICBsZXQgZmlyc3RPcGVyYW5kID0gMTtcclxuICAgICAgICBsZXQgc2Vjb25kT3BlcmFuZCA9IDE7XHJcblxyXG4gICAgICAgIGZpcnN0T3BlcmFuZCA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDUwKTtcclxuXHJcbiAgICAgICAgaWYgKG9wZXJhdGlvbi5jaGFyUHJlc2VudGF0aW9uID09PSAnKicpIHtcclxuICAgICAgICAgICAgaWYgKGZpcnN0T3BlcmFuZCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgc2Vjb25kT3BlcmFuZCA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDUwKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxpbWl0ID0gTWF0aC5jZWlsKDEwMCAvIGZpcnN0T3BlcmFuZCk7XHJcbiAgICAgICAgICAgICAgICBzZWNvbmRPcGVyYW5kID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbGltaXQpOyBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlY29uZE9wZXJhbmQgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA1MCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBmaXJzdE9wZXJhbmQsXHJcbiAgICAgICAgICAgIHNlY29uZE9wZXJhbmRcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYW5zd2VySXNSaWdodCgpIHtcclxuICAgICAgICBjb25zdCBhbnN3ZXIgPSB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMuYW5zd2VyS2V5KS5nZXRUZXh0KCk7XHJcbiAgICAgICAgcmV0dXJuICBhbnN3ZXIgPT09IHRoaXMub3BlcmF0aW9uQ2hhclByZXNlbnRhdGlvbjtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgTGFiZWwgZnJvbSAnLi4vLi4vQ29tcG9uZW50L0xhYmVsJztcclxuaW1wb3J0IFRhc2tNb2RhbFdpbmRvdyBmcm9tICcuL1Rhc2tNb2RhbFdpbmRvdyc7XHJcbmltcG9ydCBJbWFnZUNvbXBvbmVudCBmcm9tICcuLi8uLi9JbWFnZUNvbXBvbmVudC9JbWFnZUNvbXBvbmVudCc7XHJcblxyXG5pbXBvcnQgeyBnZXRUZXh0V2lkdGhXaXRoQ2FudmFzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdGV4dFdpZHRoJztcclxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vQ29tcG9uZW50L0NvbXBvbmVudCc7XHJcblxyXG5jb25zdCBjb2xvcnNOYW1lID0gW1xyXG4gICAgJ2JsYWNrJyxcclxuICAgICdibHVlJyxcclxuICAgICdicm93bicsXHJcbiAgICAnZ3JlZW4nLFxyXG4gICAgJ29yYW5nZScsXHJcbiAgICAncGluaycsXHJcbiAgICAncmVkJyxcclxuICAgICd3aGl0ZScsXHJcbiAgICAneWVsbG93JyxcclxuXTsgXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOYW1lQ29sb3JUYXNrTW9kYWxXaW5kb3cgZXh0ZW5kcyBUYXNrTW9kYWxXaW5kb3cge1xyXG4gICAgY29uc3RydWN0b3IodG9wID0gMCwgbGVmdCA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgYWRkaXRpb25hbFJlc291cmNlcyA9IHt9LCBwYXJlbnRDb21wb25lbnQgPSBudWxsKSB7XHJcbiAgICAgICAgc3VwZXIodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0LCBg0J3QsNC30L7QstC4INGG0LLQtdGCINC90LAg0LDQvdCz0LvQuNC50YHQutC+0Lw6YCwgYWRkaXRpb25hbFJlc291cmNlcywgcGFyZW50Q29tcG9uZW50KTtcclxuXHJcbiAgICAgICAgY29uc3QgdGV4dEZpZWxkSW1hZ2UgPSBhZGRpdGlvbmFsUmVzb3VyY2VzLmltYWdlcy50ZXh0RmllbGRJbWFnZTtcclxuICAgICAgICBjb25zdCB7IG5hdHVyYWxXaWR0aDogdGV4dEZpZWxkV2lkdGgsIG5hdHVyYWxIZWlnaHQ6IHRleHRGaWVsZEhlaWdodCB9ID0gdGV4dEZpZWxkSW1hZ2U7XHJcblxyXG4gICAgICAgIGNvbnN0IGhhbGZIZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0IC8gMik7XHJcbiAgICAgXHJcbiAgICAgICAgY29uc3QgaGFsZlRleHRGaWVsZEhlaWdodCA9IE1hdGgucm91bmQodGV4dEZpZWxkSGVpZ2h0IC8gMik7XHJcbiAgICAgICAgY29uc3QgYW5zd2VySW5wdXQgPSBuZXcgTGFiZWwoaGFsZkhlaWdodCAtIGhhbGZUZXh0RmllbGRIZWlnaHQsIDUsdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCwgJycpO1xyXG5cclxuICAgICAgICB0aGlzLmNvbG9yTmFtZSA9IGNvbG9yc05hbWVbTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKGNvbG9yc05hbWUubGVuZ3RoIC0gMSkpXTtcclxuXHJcbiAgICAgICAgYW5zd2VySW5wdXQudGFiYWJsZSA9IHRydWU7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuZWRpdGFibGUgPSB0cnVlO1xyXG4gICAgICAgIGFuc3dlcklucHV0LmRyYXdCb3JkZXIgPSB0cnVlO1xyXG4gICAgICAgIGFuc3dlcklucHV0LnNldEJhY2tncm91bmRDb2xvcignI2JiMDAwMCcpO1xyXG5cclxuICAgICAgICBjb25zdCBvbmVHbHlwaFdpZHRoID0gTWF0aC5jZWlsKGdldFRleHRXaWR0aFdpdGhDYW52YXMoJ3gnLCAnbW9ub3NwYWNlJywgJzE2cHgnKSk7XHJcblxyXG4gICAgICAgIGFuc3dlcklucHV0Lm1heFRleHRMZW5ndGggPSBNYXRoLmZsb29yKHRleHRGaWVsZFdpZHRoIC8gb25lR2x5cGhXaWR0aCkgKyAxO1xyXG4gICAgICAgIGFuc3dlcklucHV0LnNldEJhY2tncm91bmRJbWFnZShuZXcgSW1hZ2VDb21wb25lbnQodGV4dEZpZWxkSW1hZ2UsIDAsIDAsIHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQsIHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQsIDAsIDAsIHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQpKTtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5zZXRUZXh0Q29sb3IoJyNGRkZGMDAnKTtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5jdXJzb3Iuc2V0Q29sb3IoJyMwOEI2MDAnKTtcclxuXHJcbiAgICAgICAgdGhpcy5hbnN3ZXJLZXkgPSAnYW5zd2VyJztcclxuXHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoYW5zd2VySW5wdXQsIHRoaXMuYW5zd2VyS2V5KTtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5hbGlnbkNlbnRlcigpO1xyXG5cclxuICAgICAgICBjb25zdCB7IHRvcDogb2tCdXR0b25Ub3AsIGhlaWdodDogb2tCdXR0b25IZWlnaHQgfSA9IHN1cGVyLmdldE9rQnV0dG9uQ29tcG9uZW50KCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuc2V0Qm91bmRpbmdDbGllbnRSZWN0KG9rQnV0dG9uVG9wICsgTWF0aC5yb3VuZCgob2tCdXR0b25IZWlnaHQgLSB0ZXh0RmllbGRIZWlnaHQpIC8gMikpO1xyXG4gICAgIFxyXG4gICAgICAgIHRoaXMudGFza0NvbG9yS2V5ID0gJ3Rhc2snO1xyXG5cclxuICAgICAgICBjb25zdCB0YXNrQ29sb3JDb21wb25lbnQgPSBuZXcgQ29tcG9uZW50KDAsIDAsIE1hdGguZmxvb3Iod2lkdGggLyAyKSwgTWF0aC5mbG9vcihoZWlnaHQgLyAyKSk7XHJcbiAgICAgICAgdGFza0NvbG9yQ29tcG9uZW50LnNldEJhY2tncm91bmRDb2xvcih0aGlzLmNvbG9yTmFtZSk7XHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQodGFza0NvbG9yQ29tcG9uZW50LCB0aGlzLnRhc2tDb2xvcktleSk7XHJcblxyXG4gICAgICAgIHRhc2tDb2xvckNvbXBvbmVudC5hbGlnbkNlbnRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERlZmF1bHRDb21wb25lbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5hbnN3ZXJLZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIGFuc3dlcklzUmlnaHQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sb3JOYW1lID09PSB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMuYW5zd2VyS2V5KS5nZXRUZXh0KCkudHJpbSgpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IExhYmVsIGZyb20gJy4uLy4uL0NvbXBvbmVudC9MYWJlbCc7XHJcbmltcG9ydCBUYXNrTW9kYWxXaW5kb3cgZnJvbSAnLi9UYXNrTW9kYWxXaW5kb3cnO1xyXG5pbXBvcnQgSW1hZ2VDb21wb25lbnQgZnJvbSAnLi4vLi4vSW1hZ2VDb21wb25lbnQvSW1hZ2VDb21wb25lbnQnO1xyXG5cclxuaW1wb3J0IHsgZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3RleHRXaWR0aCc7XHJcblxyXG5jb25zdCB0cmlhbmdsZVRhc2tzID0gW1xyXG4gICAgZnVuY3Rpb24gcmlnaHRUcmlhbmdsZSgpIHtcclxuICAgICAgICBjb25zdCBmaXJ0c0NhdGhldHVzICA9IE1hdGgucm91bmQoKE1hdGgucmFuZG9tKCkgKiA4KSkgKyAyO1xyXG4gICAgICAgIGNvbnN0IHNlY29uZENhdGhldHVzID0gTWF0aC5yb3VuZCgoTWF0aC5yYW5kb20oKSAqIDgpKSArIDI7XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0VGFza1RleHQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBg0JTQsNC9INC/0YDRj9C80L7Rg9Cz0L7Qu9GM0L3Ri9C5INGC0YDQtdGD0LPQvtC70YzQvdC40LosINGDINC60L7RgtC+0YDQvtCz0L4g0L/QtdGA0LLRi9C5INC60LDRgtC10YIg0YDQsNCy0LXQvSAke2ZpcnRzQ2F0aGV0dXN9LCDQsCDQstGC0L7RgNC+0LkgLSAke3NlY29uZENhdGhldHVzfS4g0J3QsNC50LTQuCDQtdCz0L4g0L/Qu9C+0YnQsNC00YwuINCe0YLQstC10YIg0L7QutGA0YPQs9C70Lgg0LTQviDRhtC10LvQvtCz0L4g0YfQuNGB0LvQsDpgO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuYW5zd2VyID0gTWF0aC5yb3VuZCgwLjUgKiBmaXJ0c0NhdGhldHVzICogc2Vjb25kQ2F0aGV0dXMpO1xyXG4gICAgfSxcclxuICAgIGZ1bmN0aW9uIGFueVRyaWFuZ2xlKCkge1xyXG4gICAgICAgIGNvbnN0IHRyaWFuZ2xlQmFzZSA9IE1hdGgucm91bmQoKE1hdGgucmFuZG9tKCkgKiA4KSkgKyAyO1xyXG4gICAgICAgIGNvbnN0IHRyaWFuZ2xlSGVpZ2h0ID0gTWF0aC5yb3VuZCgoTWF0aC5yYW5kb20oKSAqIDgpKSArIDI7XHJcblxyXG4gICAgICAgIHRoaXMuZ2V0VGFza1RleHQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBg0JTQsNC9INGC0YDQtdGD0LPQvtC70YzQvdC40LosINGDINC60L7RgtC+0YDQvtCz0L4g0L7RgdC90L7QstCw0L3QuNC1INGA0LDQstC90L4gJHt0cmlhbmdsZUJhc2V9LCDQsCDQstGL0YHQvtGC0LAgJHt0cmlhbmdsZUhlaWdodH0uINCd0LDQudC00Lgg0LXQs9C+INC/0LvQvtGJ0LDQtNGMLiDQntGC0LLQtdGCINC+0LrRgNGD0LPQu9C4INC00L4g0YbQtdC70L7Qs9C+INGH0LjRgdC70LA6YDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLmFuc3dlciA9IE1hdGgucm91bmQoMC41ICogdHJpYW5nbGVCYXNlICogdHJpYW5nbGVIZWlnaHQpO1xyXG4gICAgfSxcclxuXTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhbGN1bGF0ZVRyaWFuZ2xlQXJlYVRhc2tNb2RhbFdpbmRvdyBleHRlbmRzIFRhc2tNb2RhbFdpbmRvdyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0b3AgPSAwLCBsZWZ0ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwLCBhZGRpdGlvbmFsUmVzb3VyY2VzID0ge30sIHBhcmVudENvbXBvbmVudCA9IG51bGwpIHtcclxuICAgICAgICBzdXBlcih0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQsICfQktGL0YfQuNGB0LvQuCDQv9C70L7RidCw0LTRjCDRgtGA0LXRg9Cz0L7Qu9GM0L3QuNC60LA6JywgYWRkaXRpb25hbFJlc291cmNlcywgcGFyZW50Q29tcG9uZW50KTtcclxuXHJcbiAgICAgICAgY29uc3QgdGFzayA9IG5ldyAodHJpYW5nbGVUYXNrc1tNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAodHJpYW5nbGVUYXNrcy5sZW5ndGggLSAxKSldKSgpO1xyXG5cclxuICAgICAgICBjb25zdCB0ZXh0RmllbGRJbWFnZSA9IGFkZGl0aW9uYWxSZXNvdXJjZXMuaW1hZ2VzLnRleHRGaWVsZEltYWdlO1xyXG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoOiB0ZXh0RmllbGRXaWR0aCwgbmF0dXJhbEhlaWdodDogdGV4dEZpZWxkSGVpZ2h0IH0gPSB0ZXh0RmllbGRJbWFnZTtcclxuXHJcbiAgICAgICAgdGhpcy5hbnN3ZXIgPSB0YXNrLmFuc3dlcjtcclxuXHJcbiAgICAgICAgY29uc3QgbGFiZWxUZXh0ID0gdGFzay5nZXRUYXNrVGV4dCgpO1xyXG5cclxuICAgICAgICBjb25zdCBoYWxmSGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCAvIDIpO1xyXG4gICAgICAgIGNvbnN0IGV4cHJlc3Npb25XaWR0aCA9IE1hdGguY2VpbChnZXRUZXh0V2lkdGhXaXRoQ2FudmFzKGxhYmVsVGV4dCwgJ21vbm9zcGFjZScsICcxNnB4JykpO1xyXG4gICAgICAgIGNvbnN0IGxpbmVzQ291bnQgPSBNYXRoLmNlaWwoZXhwcmVzc2lvbldpZHRoIC8gdGV4dEZpZWxkV2lkdGgpO1xyXG4gICAgICAgIGNvbnN0IGV4cHJlc3Npb25IZWlnaHQgPSBsaW5lc0NvdW50ICogMTY7XHJcbiAgICAgICAgY29uc3QgaGFsZlRleHRGaWVsZEhlaWdodCA9IE1hdGgucm91bmQodGV4dEZpZWxkSGVpZ2h0IC8gMik7XHJcblxyXG4gICAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSBuZXcgTGFiZWwoaGFsZkhlaWdodCAtIGhhbGZUZXh0RmllbGRIZWlnaHQgLSBleHByZXNzaW9uSGVpZ2h0IC0gOCwgNSwgdGV4dEZpZWxkV2lkdGgsIGV4cHJlc3Npb25IZWlnaHQsIGxhYmVsVGV4dCk7XHJcbiAgICAgICAgY29uc3QgYW5zd2VySW5wdXQgPSBuZXcgTGFiZWwoaGFsZkhlaWdodCAtIGhhbGZUZXh0RmllbGRIZWlnaHQsIDUsIHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQsICcnKTtcclxuXHJcbiAgICAgICAgYW5zd2VySW5wdXQuZWRpdGFibGUgPSB0cnVlO1xyXG4gICAgICAgIGFuc3dlcklucHV0LnRhYmFibGUgPSB0cnVlO1xyXG4gICAgICAgIGFuc3dlcklucHV0LmRyYXdCb3JkZXIgPSB0cnVlO1xyXG4gICAgICAgIGFuc3dlcklucHV0LnNldEJhY2tncm91bmRDb2xvcignI2JiMDAwMCcpO1xyXG5cclxuICAgICAgICBhbnN3ZXJJbnB1dC5tYXhUZXh0TGVuZ3RoID0gMjtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5zZXRCYWNrZ3JvdW5kSW1hZ2UobmV3IEltYWdlQ29tcG9uZW50KHRleHRGaWVsZEltYWdlLCAwLCAwLCB0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0LCB0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0LCAwLCAwLCB0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0KSk7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuc2V0VGV4dENvbG9yKCcjRkZGRjAwJyk7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuY3Vyc29yLnNldENvbG9yKCcjMDhCNjAwJyk7XHJcbiAgICAgICAgZXhwcmVzc2lvbi5zZXRCYWNrZ3JvdW5kQ29sb3IoJ3JnYmEoMCwgMCwgMCwgMCknKTtcclxuICAgICAgICBleHByZXNzaW9uLnNldFRleHRDb2xvcignI2ZmZmZmZicpO1xyXG5cclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uS2V5ID0gJ2Rlc2NyaXB0aW9uJztcclxuICAgICAgICB0aGlzLmV4cHJlc3Npb25LZXkgPSAnZXhwcmVzc2lvbic7XHJcbiAgICAgICAgdGhpcy5hbnN3ZXJLZXkgPSAnYW5zd2VyJztcclxuICAgICAgICB0aGlzLmJ1dHRvbktleSA9ICdidXR0b24nO1xyXG5cclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChleHByZXNzaW9uLCB0aGlzLmV4cHJlc3Npb25LZXkpO1xyXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGFuc3dlcklucHV0LCB0aGlzLmFuc3dlcktleSk7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuYWxpZ25DZW50ZXIoKTtcclxuXHJcbiAgICAgICAgZXhwcmVzc2lvbi5zZXRCb3VuZGluZ0NsaWVudFJlY3QodW5kZWZpbmVkLCBhbnN3ZXJJbnB1dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREZWZhdWx0Q29tcG9uZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMuYW5zd2VyS2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBhbnN3ZXJJc1JpZ2h0KCkge1xyXG4gICAgICAgIGNvbnN0IGFuc3dlciA9IHBhcnNlSW50KHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5hbnN3ZXJLZXkpLmdldFRleHQoKSwgMTApO1xyXG4gICAgICAgIHJldHVybiAgYW5zd2VyID09PSB0aGlzLmFuc3dlcjtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgTGFiZWwgZnJvbSAnLi4vLi4vQ29tcG9uZW50L0xhYmVsJztcclxuaW1wb3J0IFRhc2tNb2RhbFdpbmRvdyBmcm9tICcuL1Rhc2tNb2RhbFdpbmRvdyc7XHJcbmltcG9ydCBJbWFnZUNvbXBvbmVudCBmcm9tICcuLi8uLi9JbWFnZUNvbXBvbmVudC9JbWFnZUNvbXBvbmVudCc7XHJcblxyXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuLi8uLi9Db21wb25lbnQvQ29tcG9uZW50JztcclxuaW1wb3J0IHsgY2FsY3VsYXRlSW1hZ2VTaXplIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvaW1hZ2UnO1xyXG5pbXBvcnQgeyBnZXRUZXh0V2lkdGhXaXRoQ2FudmFzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdGV4dFdpZHRoJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5hbWVDb3VudHJ5QnlGbGFnSW1hZ2VUYXNrTW9kYWxXaW5kb3cgZXh0ZW5kcyBUYXNrTW9kYWxXaW5kb3cge1xyXG4gICAgY29uc3RydWN0b3IodG9wID0gMCwgbGVmdCA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgYWRkaXRpb25hbFJlc291cmNlcyA9IHt9LCBwYXJlbnRDb21wb25lbnQgPSBudWxsKSB7XHJcbiAgICAgICAgc3VwZXIodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0LCBg0J3QsNC30L7QstC4INGB0YLRgNCw0L3RgyDQv9C+INGE0LvQsNCz0YM6YCwgYWRkaXRpb25hbFJlc291cmNlcywgcGFyZW50Q29tcG9uZW50KTtcclxuXHJcbiAgICAgICAgY29uc3QgdGV4dEZpZWxkSW1hZ2UgPSBhZGRpdGlvbmFsUmVzb3VyY2VzLmltYWdlcy50ZXh0RmllbGRJbWFnZTtcclxuICAgICAgICBjb25zdCB7IG5hdHVyYWxXaWR0aDogdGV4dEZpZWxkV2lkdGgsIG5hdHVyYWxIZWlnaHQ6IHRleHRGaWVsZEhlaWdodCB9ID0gdGV4dEZpZWxkSW1hZ2U7XHJcblxyXG4gICAgICAgIGNvbnN0IHRhc2tJbWFnZSA9IGFkZGl0aW9uYWxSZXNvdXJjZXMuaW1hZ2VzLm5hbWVDb3VudHJ5QnlGbGFnSW1hZ2U7XHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGg6IHRhc2tJbWFnZVdpZHRoLCBuYXR1cmFsSGVpZ2h0OiB0YXNrSW1hZ2VIZWlnaHQgfSA9IHRhc2tJbWFnZTtcclxuXHJcbiAgICAgICAgY29uc3QgaGFsZkhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQgLyAyKTtcclxuICAgICBcclxuICAgICAgICBjb25zdCBoYWxmVGV4dEZpZWxkSGVpZ2h0ID0gTWF0aC5yb3VuZCh0ZXh0RmllbGRIZWlnaHQgLyAyKTtcclxuICAgICAgICBjb25zdCBhbnN3ZXJJbnB1dCA9IG5ldyBMYWJlbChoYWxmSGVpZ2h0IC0gaGFsZlRleHRGaWVsZEhlaWdodCwgNSwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCwgJycpO1xyXG5cclxuICAgICAgICBhbnN3ZXJJbnB1dC50YWJhYmxlID0gdHJ1ZTtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5lZGl0YWJsZSA9IHRydWU7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuZHJhd0JvcmRlciA9IHRydWU7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuc2V0QmFja2dyb3VuZENvbG9yKCcjYmIwMDAwJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IG9uZUdseXBoV2lkdGggPSBNYXRoLmNlaWwoZ2V0VGV4dFdpZHRoV2l0aENhbnZhcygneCcsICdtb25vc3BhY2UnLCAnMTZweCcpKTtcclxuXHJcbiAgICAgICAgYW5zd2VySW5wdXQubWF4VGV4dExlbmd0aCA9IE1hdGguZmxvb3IodGV4dEZpZWxkV2lkdGggLyBvbmVHbHlwaFdpZHRoKSArIDE7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuc2V0QmFja2dyb3VuZEltYWdlKG5ldyBJbWFnZUNvbXBvbmVudCh0ZXh0RmllbGRJbWFnZSwgMCwgMCwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCwgMCwgMCwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCkpO1xyXG4gICAgICAgIGFuc3dlcklucHV0LnNldFRleHRDb2xvcignI0ZGRkYwMCcpO1xyXG4gICAgICAgIGFuc3dlcklucHV0LmN1cnNvci5zZXRDb2xvcignIzA4QjYwMCcpO1xyXG5cclxuICAgICAgICB0aGlzLmFuc3dlcktleSA9ICdhbnN3ZXInO1xyXG5cclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChhbnN3ZXJJbnB1dCwgdGhpcy5hbnN3ZXJLZXkpO1xyXG4gICAgICAgIGFuc3dlcklucHV0LmFsaWduQ2VudGVyKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgdG9wOiBva0J1dHRvblRvcCwgaGVpZ2h0OiBva0J1dHRvbkhlaWdodCB9ID0gc3VwZXIuZ2V0T2tCdXR0b25Db21wb25lbnQoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5zZXRCb3VuZGluZ0NsaWVudFJlY3Qob2tCdXR0b25Ub3AgKyBNYXRoLnJvdW5kKChva0J1dHRvbkhlaWdodCAtIHRleHRGaWVsZEhlaWdodCkgLyAyKSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgYm90dG9tOiBkZXNjcmlwdGlvbkJvdHRvbSwgbGVmdDogZGVzY3JpcHRpb25MZWZ0IH0gPSBzdXBlci5nZXRUYXNrRGVzY3JpcHRpb25Db21wb25lbnQoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgICAgY29uc3QgbWFyZ2luSGVpZ2h0ID0gMjA7XHJcbiAgICAgICAgbGV0IHsgdGFza0ltYWdlV2lkdGhQcm9wLCB0YXNrSW1hZ2VIZWlnaHRQcm9wIH0gPSBjYWxjdWxhdGVJbWFnZVNpemUodGFza0ltYWdlV2lkdGgsIHRhc2tJbWFnZUhlaWdodCwgd2lkdGggLSBkZXNjcmlwdGlvbkxlZnQgKiAyLCBoZWlnaHQgLSAoaGVpZ2h0IC0gb2tCdXR0b25Ub3ApIC0gZGVzY3JpcHRpb25Cb3R0b20gLSBtYXJnaW5IZWlnaHQpO1xyXG4gICAgIFxyXG4gICAgICAgIHRoaXMudGFza0ltYWdlS2V5ID0gJ3Rhc2snO1xyXG5cclxuICAgICAgICBjb25zdCB0YXNrSW1hZ2VDb21wb25lbnQgPSBuZXcgQ29tcG9uZW50KDAsIDAsIHRhc2tJbWFnZVdpZHRoUHJvcCwgdGFza0ltYWdlSGVpZ2h0UHJvcCk7XHJcbiAgICAgICAgdGFza0ltYWdlQ29tcG9uZW50LnNldEJhY2tncm91bmRJbWFnZShuZXcgSW1hZ2VDb21wb25lbnQodGFza0ltYWdlLCAwLCAwLCB0YXNrSW1hZ2VXaWR0aCwgdGFza0ltYWdlSGVpZ2h0LCB0YXNrSW1hZ2VXaWR0aFByb3AsIHRhc2tJbWFnZUhlaWdodFByb3AsIDAsIDAsIHRhc2tJbWFnZVdpZHRoLCB0YXNrSW1hZ2VIZWlnaHQpKTtcclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudCh0YXNrSW1hZ2VDb21wb25lbnQsIHRoaXMudGFza0ltYWdlS2V5KTtcclxuXHJcbiAgICAgICAgdGFza0ltYWdlQ29tcG9uZW50LmFsaWduQ2VudGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5zd2VyID0gYWRkaXRpb25hbFJlc291cmNlcy5hZGRpdGlvbmFsLm5hbWVDb3VudHJ5QnlGbGFnLmFuc3dlcjtcclxuICAgIH1cclxuXHJcbiAgICBnZXREZWZhdWx0Q29tcG9uZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMuYW5zd2VyS2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBhbnN3ZXJJc1JpZ2h0KCkge1xyXG4gICAgICAgIGNvbnN0IGFuc3dlciA9IHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5hbnN3ZXJLZXkpLmdldFRleHQoKS50cmltKCkudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGFuc3dlciA9PT0gdGhpcy5hbnN3ZXI7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IGNvdW50cnlNYXAgZnJvbSAnLi4vZGljdGlvbmFyaWVzL2NvdW50cnlNYXAnO1xyXG5pbXBvcnQgbmFtZVRhc2tNYXAgZnJvbSAnLi4vZGljdGlvbmFyaWVzL25hbWVUYXNrTWFwJztcclxuaW1wb3J0IFNvbHZlRXhwcmVzc2lvblRhc2tXaW5kb3cgZnJvbSAnLi4vVUkvTW9kYWxXaW5kb3dzL1Rhc2tNb2RhbFdpbmRvdy9Tb2x2ZUV4cHJlc3Npb25UYXNrV2luZG93JztcclxuaW1wb3J0IFRyYW5zbGF0ZVRhc2tXaW5kb3cgZnJvbSAnLi4vVUkvTW9kYWxXaW5kb3dzL1Rhc2tNb2RhbFdpbmRvdy9UcmFuc2xhdGVUYXNrTW9kYWxXaW5kb3cnO1xyXG5pbXBvcnQgTGlzdGVuaW5nVGFza01vZGFsV2luZG93IGZyb20gJy4uL1VJL01vZGFsV2luZG93cy9UYXNrTW9kYWxXaW5kb3cvTGlzdGVuaW5nVGFza01vZGFsV2luZG93JztcclxuaW1wb3J0IENvbnZlcnRGcm9tRGVjVG9CaW5UYXNrTW9kYWxXaW5kb3cgZnJvbSAnLi4vVUkvTW9kYWxXaW5kb3dzL1Rhc2tNb2RhbFdpbmRvdy9Db252ZXJ0RnJvbURlY1RvQmluVGFza01vZGFsV2luZG93JztcclxuaW1wb3J0IFNldFBvaW50QXRDaGFydFRhc2tNb2RhbFdpbmRvdyBmcm9tICcuLi9VSS9Nb2RhbFdpbmRvd3MvVGFza01vZGFsV2luZG93L1NldFBvaW50QXRDaGFydFRhc2tNb2RhbFdpbmRvdyc7XHJcbmltcG9ydCBOYW1lVGFza01vZGFsV2luZG93IGZyb20gJy4uL1VJL01vZGFsV2luZG93cy9UYXNrTW9kYWxXaW5kb3cvTmFtZVRhc2tNb2RhbFdpbmRvdyc7XHJcbmltcG9ydCBDb21wYXJlVHdvTnVtYmVyc1Rhc2tNb2RhbFdpbmRvdyBmcm9tICcuLi9VSS9Nb2RhbFdpbmRvd3MvVGFza01vZGFsV2luZG93L0NvbXBhcmVUd29OdW1iZXJzVGFza01vZGFsV2luZG93JztcclxuaW1wb3J0IENvbnRpbnVlTnVtYmVyU2VxdWVuY2VUYXNrTW9kYWxXaW5kb3cgZnJvbSAnLi4vVUkvTW9kYWxXaW5kb3dzL1Rhc2tNb2RhbFdpbmRvdy9Db250aW51ZU51bWJlclNlcXVlbmNlVGFza01vZGFsV2luZG93JztcclxuaW1wb3J0IE51bWJlckNvbXBvc2l0aW9uVGFza01vZGFsV2luZG93IGZyb20gJy4uL1VJL01vZGFsV2luZG93cy9UYXNrTW9kYWxXaW5kb3cvTnVtYmVyQ29tcG9zaXRpb25UYXNrTW9kYWxXaW5kb3cnO1xyXG5pbXBvcnQgQ2hvc2VSaWdodE9wZXJhdGlvblRhc2tNb2RhbFdpbmRvdyBmcm9tICcuLi9VSS9Nb2RhbFdpbmRvd3MvVGFza01vZGFsV2luZG93L0Nob3NlUmlnaHRPcGVyYXRpb25UYXNrTW9kYWxXaW5kb3cnO1xyXG5pbXBvcnQgTmFtZUNvbG9yVGFza01vZGFsV2luZG93IGZyb20gJy4uL1VJL01vZGFsV2luZG93cy9UYXNrTW9kYWxXaW5kb3cvTmFtZUNvbG9yVGFza01vZGFsV2luZG93JztcclxuaW1wb3J0IENhbGN1bGF0ZVRyaWFuZ2xlQXJlYVRhc2tNb2RhbFdpbmRvdyBmcm9tICcuLi9VSS9Nb2RhbFdpbmRvd3MvVGFza01vZGFsV2luZG93L0NhbGN1bGF0ZVRyaWFuZ2xlQXJlYVRhc2tNb2RhbFdpbmRvdyc7XHJcbmltcG9ydCBDb3VudHJ5Q2FwaXRhbFRhc2tNb2RhbFdpbmRvdyBmcm9tICcuLi9VSS9Nb2RhbFdpbmRvd3MvVGFza01vZGFsV2luZG93L0NvdW50cnlDYXBpdGFsVGFza01vZGFsV2luZG93JztcclxuaW1wb3J0IEluc2VydE1pc3NlZExldHRlclRhc2tNb2RhbFdpbmRvdyBmcm9tICcuLi9VSS9Nb2RhbFdpbmRvd3MvVGFza01vZGFsV2luZG93L0luc2VydE1pc3NlZExldHRlclRhc2tNb2RhbFdpbmRvdyc7XHJcbmltcG9ydCBOYW1lQ291bnRyeUJ5RmxhZ0ltYWdlVGFza01vZGFsV2luZG93IGZyb20gJy4uL1VJL01vZGFsV2luZG93cy9UYXNrTW9kYWxXaW5kb3cvTmFtZUNvdW50cnlCeUZsYWdJbWFnZVRhc2tNb2RhbFdpbmRvdyc7XHJcblxyXG5jb25zdCB0YXNrcyA9IFtcclxuICAgIFRyYW5zbGF0ZVRhc2tXaW5kb3csICAgICAgICAgICAgICAgICAgICAvLyAxXHJcbiAgICBTb2x2ZUV4cHJlc3Npb25UYXNrV2luZG93LCAgICAgICAgICAgICAgLy8gMlxyXG4gICAgU2V0UG9pbnRBdENoYXJ0VGFza01vZGFsV2luZG93LCAgICAgICAgIC8vIDNcclxuICAgIENvbnZlcnRGcm9tRGVjVG9CaW5UYXNrTW9kYWxXaW5kb3csICAgICAvLyA0XHJcbiAgICBOYW1lVGFza01vZGFsV2luZG93LCAgICAgICAgICAgICAgICAgICAgLy8gNVxyXG4gICAgTmFtZUNvdW50cnlCeUZsYWdJbWFnZVRhc2tNb2RhbFdpbmRvdywgIC8vIDZcclxuICAgIE51bWJlckNvbXBvc2l0aW9uVGFza01vZGFsV2luZG93LCAgICAgICAvLyA3XHJcbiAgICBDb21wYXJlVHdvTnVtYmVyc1Rhc2tNb2RhbFdpbmRvdywgICAgICAgLy8gOFxyXG4gICAgQ29udGludWVOdW1iZXJTZXF1ZW5jZVRhc2tNb2RhbFdpbmRvdywgIC8vIDlcclxuICAgIENob3NlUmlnaHRPcGVyYXRpb25UYXNrTW9kYWxXaW5kb3csICAgICAvLyAxMFxyXG4gICAgTmFtZUNvbG9yVGFza01vZGFsV2luZG93LCAgICAgICAgICAgICAgIC8vIDExXHJcbiAgICBDYWxjdWxhdGVUcmlhbmdsZUFyZWFUYXNrTW9kYWxXaW5kb3csICAgLy8gMTJcclxuICAgIExpc3RlbmluZ1Rhc2tNb2RhbFdpbmRvdywgICAgICAgICAgICAgICAvLyAxM1xyXG4gICAgQ291bnRyeUNhcGl0YWxUYXNrTW9kYWxXaW5kb3csICAgICAgICAgIC8vIDE0XHJcbiAgICBJbnNlcnRNaXNzZWRMZXR0ZXJUYXNrTW9kYWxXaW5kb3csICAgICAgLy8gMTVcclxuXTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhc2tGYWN0b3J5IHtcclxuICAgIGNvbnN0cnVjdG9yKHVpSW1hZ2VzLCB0YXNrSW1hZ2VzKSB7XHJcbiAgICAgICAgdGhpcy51aUltYWdlcyA9IHVpSW1hZ2VzO1xyXG4gICAgICAgIHRoaXMubmFtZVRhc2tJbWFnZXMgPSB0YXNrSW1hZ2VzLnNsaWNlKDAsIG5hbWVUYXNrTWFwLmxlbmd0aCk7XHJcbiAgICAgICAgdGhpcy5uYW1lQ291bnRyeUJ5RmxhZ1Rhc2tJbWFnZXMgPSB0YXNrSW1hZ2VzLnNsaWNlKG5hbWVUYXNrTWFwLmxlbmd0aCwgbmFtZVRhc2tNYXAubGVuZ3RoICsgY291bnRyeU1hcC5sZW5ndGgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZVRhc2sodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0LCBwYXJlbnRDb21wb25lbnQpIHtcclxuICAgICAgICBjb25zdCBhZGRpdGlvbmFsUmVzb3VyY2VzID0ge1xyXG4gICAgICAgICAgICBpbWFnZXM6IHtcclxuICAgICAgICAgICAgICAgIHRleHRGaWVsZEltYWdlOiB0aGlzLnVpSW1hZ2VzWzFdLFxyXG4gICAgICAgICAgICAgICAgbW9kYWxXaW5kb3dJbWFnZTogdGhpcy51aUltYWdlc1syXSxcclxuICAgICAgICAgICAgICAgIG9rQnV0dG9uSW1hZ2U6IHRoaXMudWlJbWFnZXNbM10sXHJcbiAgICAgICAgICAgICAgICBtaWNyb0J1dHRvbkltYWdlOiB0aGlzLnVpSW1hZ2VzWzRdLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhZGRpdGlvbmFsOiB7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3QgdGFza0NvbnN0cnVjdG9yID0gdGFza3NbTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKHRhc2tzLmxlbmd0aCAtIDEpKV07XHJcblxyXG4gICAgICAgIGlmICh0YXNrQ29uc3RydWN0b3IgPT09IE5hbWVUYXNrTW9kYWxXaW5kb3cpIHtcclxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAodGhpcy5uYW1lVGFza0ltYWdlcy5sZW5ndGggLSAxKSk7XHJcblxyXG4gICAgICAgICAgICBhZGRpdGlvbmFsUmVzb3VyY2VzLmFkZGl0aW9uYWwubmFtZSA9IHtcclxuICAgICAgICAgICAgICAgIHRhc2tOYW1lczogbmFtZVRhc2tNYXBbaW5kZXhdLm5hbWVzXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBhZGRpdGlvbmFsUmVzb3VyY2VzLmltYWdlcy5uYW1lSW1hZ2UgPSB0aGlzLm5hbWVUYXNrSW1hZ2VzW2luZGV4XTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0YXNrQ29uc3RydWN0b3IgPT09IE5hbWVDb3VudHJ5QnlGbGFnSW1hZ2VUYXNrTW9kYWxXaW5kb3cpIHtcclxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAodGhpcy5uYW1lQ291bnRyeUJ5RmxhZ1Rhc2tJbWFnZXMubGVuZ3RoIC0gMSkpO1xyXG5cclxuICAgICAgICAgICAgYWRkaXRpb25hbFJlc291cmNlcy5hZGRpdGlvbmFsLm5hbWVDb3VudHJ5QnlGbGFnID0ge1xyXG4gICAgICAgICAgICAgICAgYW5zd2VyOiBjb3VudHJ5TWFwW2luZGV4XS5jb3VudHJ5LnRvTG9jYWxlTG93ZXJDYXNlKClcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGFkZGl0aW9uYWxSZXNvdXJjZXMuaW1hZ2VzLm5hbWVDb3VudHJ5QnlGbGFnSW1hZ2UgPSB0aGlzLm5hbWVDb3VudHJ5QnlGbGFnVGFza0ltYWdlc1tpbmRleF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IHRhc2tDb25zdHJ1Y3Rvcih0b3AsIGxlZnQsIHdpZHRoLCBoZWlnaHQsIGFkZGl0aW9uYWxSZXNvdXJjZXMsIHBhcmVudENvbXBvbmVudCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IExhYmVsIGZyb20gJy4uLy4uL0NvbXBvbmVudC9MYWJlbCc7XHJcbmltcG9ydCBkaWN0aW9uYXJ5IGZyb20gJy4uLy4uLy4uL2RpY3Rpb25hcmllcy9kaWN0aW9uYXJ5JztcclxuaW1wb3J0IFRhc2tNb2RhbFdpbmRvdyBmcm9tICcuL1Rhc2tNb2RhbFdpbmRvdyc7XHJcbmltcG9ydCBJbWFnZUNvbXBvbmVudCBmcm9tICcuLi8uLi9JbWFnZUNvbXBvbmVudC9JbWFnZUNvbXBvbmVudCc7XHJcblxyXG5pbXBvcnQgeyBnZXRUZXh0V2lkdGhXaXRoQ2FudmFzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdGV4dFdpZHRoJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRyYW5zbGF0ZVRhc2tXaW5kb3cgZXh0ZW5kcyBUYXNrTW9kYWxXaW5kb3cge1xyXG4gICAgY29uc3RydWN0b3IodG9wID0gMCwgbGVmdCA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgYWRkaXRpb25hbFJlc291cmNlcyA9IHt9LCBwYXJlbnRDb21wb25lbnQgPSBudWxsKSB7XHJcbiAgICAgICAgc3VwZXIodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0LCAn0J/QtdGA0LXQstC10LTQuCDRgdC70L7QstC+OicsIGFkZGl0aW9uYWxSZXNvdXJjZXMsIHBhcmVudENvbXBvbmVudCk7XHJcblxyXG4gICAgICAgIHRoaXMud29yZE9iaiA9IGRpY3Rpb25hcnlbTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKGRpY3Rpb25hcnkubGVuZ3RoIC0gMSkpXTtcclxuXHJcbiAgICAgICAgY29uc3QgdGV4dEZpZWxkSW1hZ2UgPSBhZGRpdGlvbmFsUmVzb3VyY2VzLmltYWdlcy50ZXh0RmllbGRJbWFnZTtcclxuICAgICAgICBjb25zdCB7IG5hdHVyYWxXaWR0aDogdGV4dEZpZWxkV2lkdGgsIG5hdHVyYWxIZWlnaHQ6IHRleHRGaWVsZEhlaWdodCB9ID0gdGV4dEZpZWxkSW1hZ2U7XHJcblxyXG4gICAgICAgIGNvbnN0IGxhYmVsVGV4dCA9IGAke3RoaXMud29yZE9iai53b3JkfTogYDtcclxuXHJcbiAgICAgICAgY29uc3QgaGFsZkhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQgLyAyKTtcclxuICAgICAgICBjb25zdCBoYWxmRXhwcmVzc2lvbldpZHRoID0gTWF0aC5jZWlsKChnZXRUZXh0V2lkdGhXaXRoQ2FudmFzKGxhYmVsVGV4dCwgJ21vbm9zcGFjZScsIDE2KSArIDEpIC8gMik7XHJcbiAgICAgICAgY29uc3QgaGFsZlRleHRGaWVsZEhlaWdodCA9IE1hdGgucm91bmQodGV4dEZpZWxkSGVpZ2h0IC8gMik7XHJcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9IG5ldyBMYWJlbChoYWxmSGVpZ2h0IC0gdGV4dEZpZWxkSGVpZ2h0IC0gaGFsZlRleHRGaWVsZEhlaWdodCwgNSwgaGFsZkV4cHJlc3Npb25XaWR0aCAqIDIsIHRleHRGaWVsZEhlaWdodCwgbGFiZWxUZXh0KTtcclxuICAgICAgICBjb25zdCBhbnN3ZXJJbnB1dCA9IG5ldyBMYWJlbChoYWxmSGVpZ2h0IC0gaGFsZlRleHRGaWVsZEhlaWdodCwgNSx0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0LCAnJyk7XHJcblxyXG4gICAgICAgIGFuc3dlcklucHV0LmVkaXRhYmxlID0gdHJ1ZTtcclxuICAgICAgICBhbnN3ZXJJbnB1dC50YWJhYmxlID0gdHJ1ZTtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5kcmF3Qm9yZGVyID0gdHJ1ZTtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5zZXRCYWNrZ3JvdW5kQ29sb3IoJyNiYjAwMDAnKTtcclxuXHJcbiAgICAgICAgY29uc3Qgb25lR2x5cGhXaWR0aCA9IE1hdGguY2VpbChnZXRUZXh0V2lkdGhXaXRoQ2FudmFzKCd4JywgJ21vbm9zcGFjZScsIDE2KSk7XHJcblxyXG4gICAgICAgIGFuc3dlcklucHV0Lm1heFRleHRMZW5ndGggPSBNYXRoLmZsb29yKHRleHRGaWVsZFdpZHRoIC8gb25lR2x5cGhXaWR0aCkgKyAxO1xyXG4gICAgICAgIGFuc3dlcklucHV0LnNldEJhY2tncm91bmRJbWFnZShuZXcgSW1hZ2VDb21wb25lbnQodGV4dEZpZWxkSW1hZ2UsIDAsIDAsIHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQsIHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQsIDAsIDAsIHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQpKTtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5zZXRUZXh0Q29sb3IoJyNGRkZGMDAnKTtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5jdXJzb3Iuc2V0Q29sb3IoJyMwOEI2MDAnKTtcclxuICAgICAgICBleHByZXNzaW9uLnNldEJhY2tncm91bmRDb2xvcigncmdiYSgwLCAwLCAwLCAwKScpO1xyXG4gICAgICAgIGV4cHJlc3Npb24uc2V0VGV4dENvbG9yKCcjZmZmZmZmJyk7XHJcblxyXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb25LZXkgPSAnZGVzY3JpcHRpb24nO1xyXG4gICAgICAgIHRoaXMuZXhwcmVzc2lvbktleSA9ICdleHByZXNzaW9uJztcclxuICAgICAgICB0aGlzLmFuc3dlcktleSA9ICdhbnN3ZXInO1xyXG4gICAgICAgIHRoaXMuYnV0dG9uS2V5ID0gJ2J1dHRvbic7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGV4cHJlc3Npb24sIHRoaXMuZXhwcmVzc2lvbktleSk7XHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoYW5zd2VySW5wdXQsIHRoaXMuYW5zd2VyS2V5KTtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5hbGlnbkNlbnRlcigpO1xyXG5cclxuICAgICAgICBleHByZXNzaW9uLnNldEJvdW5kaW5nQ2xpZW50UmVjdCh1bmRlZmluZWQsIGFuc3dlcklucHV0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERlZmF1bHRDb21wb25lbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5hbnN3ZXJLZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIGFuc3dlcklzUmlnaHQoKSB7XHJcbiAgICAgICAgY29uc3QgYW5zd2VyID0gdGhpcy5nZXRDaGlsZENvbXBvbmVudCh0aGlzLmFuc3dlcktleSkuZ2V0VGV4dCgpLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGNvbnN0IHRyYW5zbGF0ZSA9IHRoaXMud29yZE9iai50cmFuc2xhdGU7XHJcblxyXG4gICAgICAgIGxldCBjb25jbHVzaW9uID0gZmFsc2U7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdHJhbnNsYXRlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbmNsdXNpb24gPSBhbnN3ZXIgPT09IHRyYW5zbGF0ZVtpXTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjb25jbHVzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29uY2x1c2lvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuICBjb25jbHVzaW9uO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBMYWJlbCBmcm9tICcuLi8uLi9Db21wb25lbnQvTGFiZWwnO1xyXG5pbXBvcnQgQ2hhcnQgZnJvbSAnLi4vLi4vQ29tcG9uZW50L0NoYXJ0JztcclxuaW1wb3J0IFRhc2tNb2RhbFdpbmRvdyBmcm9tICcuL1Rhc2tNb2RhbFdpbmRvdyc7XHJcbmltcG9ydCBJbWFnZUNvbXBvbmVudCBmcm9tICcuLi8uLi9JbWFnZUNvbXBvbmVudC9JbWFnZUNvbXBvbmVudCc7XHJcbmltcG9ydCBldmVudHMgZnJvbSAnLi4vLi4vLi4vZXZlbnQvZXZlbnRzL2V2ZW50cyc7XHJcblxyXG5pbXBvcnQgeyBnZXRUZXh0V2lkdGhXaXRoQ2FudmFzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdGV4dFdpZHRoJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNldFBvaW50QXRDaGFydFRhc2tNb2RhbFdpbmRvdyAgZXh0ZW5kcyBUYXNrTW9kYWxXaW5kb3cge1xyXG4gICAgY29uc3RydWN0b3IodG9wID0gMCwgbGVmdCA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgYWRkaXRpb25hbFJlc291cmNlcyA9IHt9LCBwYXJlbnRDb21wb25lbnQgPSBudWxsKSB7XHJcbiAgICAgICAgY29uc3QgcG9pbnQgPSB7XHJcbiAgICAgICAgICAgIHg6IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDEwKSxcclxuICAgICAgICAgICAgeTogTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMTApXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc3VwZXIodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0LCBg0J/QvtGB0YLQsNCy0YLQtSDRgtC+0YfQutGDINGBINC60L7QvtGA0LTQuNC90LDRgtCw0LzQuCAoJHtwb2ludC54fToke3BvaW50Lnl9KTpgLCBhZGRpdGlvbmFsUmVzb3VyY2VzLCBwYXJlbnRDb21wb25lbnQpO1xyXG5cclxuICAgICAgICB0aGlzLm9uQ2hhcnRDaGFuZ2UgPSB0aGlzLm9uQ2hhcnRDaGFuZ2UuYmluZCh0aGlzKTtcclxuICAgICAgICB0aGlzLm9uSW5wdXRDaGFuZ2UgPSB0aGlzLm9uSW5wdXRDaGFuZ2UuYmluZCh0aGlzKTtcclxuXHJcbiAgICAgICAgY29uc3QgdGFza0Rlc2NyaXB0aW9uQm91bmRpbmdCb3ggPSBzdXBlci5nZXRUYXNrRGVzY3JpcHRpb25Db21wb25lbnQoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBjb25zdCBva0J1dHRvbkJvdW5kaW5nQm94ID0gc3VwZXIuZ2V0T2tCdXR0b25Db21wb25lbnQoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgICAgY29uc3QgbGVmdE1hcmdpbiA9IDIwO1xyXG4gICAgICAgIGNvbnN0IHRvcE1hcmdpbiA9IDU7XHJcbiAgICAgICAgY29uc3QgYm90dG9tTWFyZ2luID0gMjA7XHJcbiAgICAgICAgY29uc3QgcmlnaHRNYXJnaW4gPSA1O1xyXG5cclxuICAgICAgICB0aGlzLmNoYXJ0Qm91bmRpbmdDbGllbnRCb3ggPSB7XHJcbiAgICAgICAgICAgIHRvcDogdGFza0Rlc2NyaXB0aW9uQm91bmRpbmdCb3guYm90dG9tICsgdG9wTWFyZ2luLFxyXG4gICAgICAgICAgICBsZWZ0OiBsZWZ0TWFyZ2luLFxyXG4gICAgICAgICAgICBib3R0b206IGhlaWdodCAtIGJvdHRvbU1hcmdpbixcclxuICAgICAgICAgICAgcmlnaHQ6IG9rQnV0dG9uQm91bmRpbmdCb3gubGVmdCAtIHJpZ2h0TWFyZ2luLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMucG9pbnQgPSBwb2ludDtcclxuXHJcbiAgICAgICAgdGhpcy5jaGFydEJvdW5kaW5nQ2xpZW50Qm94LndpZHRoID0gdGhpcy5jaGFydEJvdW5kaW5nQ2xpZW50Qm94LnJpZ2h0IC0gdGhpcy5jaGFydEJvdW5kaW5nQ2xpZW50Qm94LmxlZnQ7XHJcbiAgICAgICAgdGhpcy5jaGFydEJvdW5kaW5nQ2xpZW50Qm94LmhlaWdodCA9IHRoaXMuY2hhcnRCb3VuZGluZ0NsaWVudEJveC5ib3R0b20gLSB0aGlzLmNoYXJ0Qm91bmRpbmdDbGllbnRCb3gudG9wO1xyXG5cclxuICAgICAgICB0aGlzLmNoYXJ0S2V5ID0gJ2NoYXJ0JztcclxuXHJcbiAgICAgICAgY29uc3QgY2hhcnRDb21wb25lbnQgPSBuZXcgQ2hhcnQodGhpcy5jaGFydEJvdW5kaW5nQ2xpZW50Qm94LnRvcCwgdGhpcy5jaGFydEJvdW5kaW5nQ2xpZW50Qm94LmxlZnQsIHRoaXMuY2hhcnRCb3VuZGluZ0NsaWVudEJveC53aWR0aCwgdGhpcy5jaGFydEJvdW5kaW5nQ2xpZW50Qm94LmhlaWdodCwgMTApO1xyXG4gICAgICAgIGNoYXJ0Q29tcG9uZW50Lm9uY2hhcnRjaGFuZ2UgPSB0aGlzLm9uQ2hhcnRDaGFuZ2U7XHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoY2hhcnRDb21wb25lbnQsIHRoaXMuY2hhcnRLZXkpO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRMYWJlbHMoYWRkaXRpb25hbFJlc291cmNlcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGVmYXVsdENvbXBvbmVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRYSW5wdXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkNoYXJ0Q2hhbmdlKHBvaW50KSB7XHJcbiAgICAgICAgY29uc3QgeElucHV0ID0gdGhpcy5nZXRYSW5wdXQoKTtcclxuICAgICAgICBjb25zdCB5SW5wdXQgPSB0aGlzLmdldFlJbnB1dCgpO1xyXG5cclxuICAgICAgICBpZiAocG9pbnQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgeElucHV0LnNldFRleHQoU3RyaW5nKHBvaW50LngpKTtcclxuICAgICAgICAgICAgeUlucHV0LnNldFRleHQoU3RyaW5nKHBvaW50LnkpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB4SW5wdXQuc2V0VGV4dCgnJyk7XHJcbiAgICAgICAgICAgIHlJbnB1dC5zZXRUZXh0KCcnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25JbnB1dENoYW5nZSgpIHtcclxuICAgICAgICBjb25zdCB4SW5wdXROdW1iZXIgPSBwYXJzZUludCh0aGlzLmdldFhJbnB1dCgpLmdldFRleHQoKSwgMTApO1xyXG4gICAgICAgIGNvbnN0IHlJbnB1dE51bWJlciA9IHBhcnNlSW50KHRoaXMuZ2V0WUlucHV0KCkuZ2V0VGV4dCgpLCAxMCk7XHJcbiAgICAgICAgY29uc3QgY2hhcnQgPSB0aGlzLmdldENoYXJ0Q29tcG9uZW50KCk7XHJcblxyXG4gICAgICAgIGlmICh4SW5wdXROdW1iZXIgPT09IHhJbnB1dE51bWJlciAmJiB5SW5wdXROdW1iZXIgPT09IHlJbnB1dE51bWJlcikge1xyXG4gICAgICAgICAgICBjaGFydC5zZXRQb2ludCh4SW5wdXROdW1iZXIsIHlJbnB1dE51bWJlcik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2hhcnQuc2V0UG9pbnQoLTEsIC0xKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0WElucHV0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMueExhYmVsSW5wdXRLZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFlJbnB1dCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGlsZENvbXBvbmVudCh0aGlzLnlMYWJlbElucHV0S2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0TGFiZWxzKGFkZGl0aW9uYWxSZXNvdXJjZXMpIHtcclxuICAgICAgICBjb25zdCB0ZXh0RmllbGRJbWFnZSA9IGFkZGl0aW9uYWxSZXNvdXJjZXMuaW1hZ2VzLnRleHRGaWVsZEltYWdlO1xyXG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoOiB0ZXh0RmllbGRXaWR0aCwgbmF0dXJhbEhlaWdodDogdGV4dEZpZWxkSGVpZ2h0IH0gPSB0ZXh0RmllbGRJbWFnZTtcclxuXHJcblxyXG4gICAgICAgIHRoaXMueExhYmVsS2V5ID0gJ3hsYWJlbCc7XHJcbiAgICAgICAgdGhpcy54TGFiZWxJbnB1dEtleSA9ICd4bGFiZWxpbnB1dCc7XHJcbiAgICAgICAgdGhpcy55TGFiZWxLZXkgPSAneWxhYmVsJztcclxuICAgICAgICB0aGlzLnlMYWJlbElucHV0S2V5ID0gJ3lsYWJlbGlucHV0JztcclxuXHJcbiAgICAgICAgY29uc3QgdGV4dEhlaWdodCA9IHRleHRGaWVsZEhlaWdodDtcclxuICAgICAgICBjb25zdCBjb29yZExhYmVsV2lkdGggPSBNYXRoLmNlaWwoZ2V0VGV4dFdpZHRoV2l0aENhbnZhcygnWDonLCAnbW9ub3NwYWNlJywgdGV4dEhlaWdodCkpO1xyXG5cclxuICAgICAgICBjb25zdCB4TGFiZWwgPSBuZXcgTGFiZWwodGhpcy5jaGFydEJvdW5kaW5nQ2xpZW50Qm94LnRvcCwgdGhpcy5jaGFydEJvdW5kaW5nQ2xpZW50Qm94LnJpZ2h0ICsgNSwgY29vcmRMYWJlbFdpZHRoLCB0ZXh0SGVpZ2h0LCAnWDonKTtcclxuICAgICAgICB4TGFiZWwuc2V0VGV4dENvbG9yKCcjZmZmZmZmJyk7XHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoeExhYmVsLCB0aGlzLnhMYWJlbEtleSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHhMYWJlbElucHV0ID0gbmV3IExhYmVsKHRoaXMuY2hhcnRCb3VuZGluZ0NsaWVudEJveC50b3AsIHhMYWJlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCArIDMsIGNvb3JkTGFiZWxXaWR0aCwgdGV4dEhlaWdodCwgJycpO1xyXG4gICAgICAgIHhMYWJlbElucHV0LmVkaXRhYmxlID0gdHJ1ZTtcclxuICAgICAgICB4TGFiZWxJbnB1dC50YWJhYmxlID0gdHJ1ZTtcclxuICAgICAgICB4TGFiZWxJbnB1dC5kcmF3Qm9yZGVyID0gdHJ1ZTtcclxuICAgICAgICB4TGFiZWxJbnB1dC5zZXRCYWNrZ3JvdW5kSW1hZ2UobmV3IEltYWdlQ29tcG9uZW50KHRleHRGaWVsZEltYWdlLCAwLCAwLCB0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0LCB0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0LCAwLCAwLCB0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0KSk7XHJcbiAgICAgICAgeExhYmVsSW5wdXQuc2V0QmFja2dyb3VuZENvbG9yKCcjYmIwMDAwJyk7XHJcbiAgICAgICAgeExhYmVsSW5wdXQubWF4VGV4dExlbmd0aCA9IDI7XHJcbiAgICAgICAgeExhYmVsSW5wdXQuc2V0VGV4dENvbG9yKCcjRkZGRjAwJyk7XHJcbiAgICAgICAgeExhYmVsSW5wdXQuY3Vyc29yLnNldENvbG9yKCcjMDhCNjAwJyk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KHhMYWJlbElucHV0LCB0aGlzLnhMYWJlbElucHV0S2V5KTtcclxuXHJcbiAgICAgICAgY29uc3QgeUxhYmVsID0gbmV3IExhYmVsKHhMYWJlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20gKyA1LCB0aGlzLmNoYXJ0Qm91bmRpbmdDbGllbnRCb3gucmlnaHQgKyA1LCBjb29yZExhYmVsV2lkdGgsIHRleHRIZWlnaHQsICdZOicpO1xyXG4gICAgICAgIHlMYWJlbC5zZXRUZXh0Q29sb3IoJyNmZmZmZmYnKTtcclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudCh5TGFiZWwsIHRoaXMueUxhYmVsS2V5KTtcclxuXHJcbiAgICAgICAgY29uc3QgeUxhYmVsSW5wdXQgPSBuZXcgTGFiZWwoeUxhYmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCwgeUxhYmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0ICsgMywgY29vcmRMYWJlbFdpZHRoLCB0ZXh0SGVpZ2h0LCAnJyk7XHJcbiAgICAgICAgeUxhYmVsSW5wdXQuZWRpdGFibGUgPSB0cnVlO1xyXG4gICAgICAgIHlMYWJlbElucHV0LnRhYmFibGUgPSB0cnVlO1xyXG4gICAgICAgIHlMYWJlbElucHV0LmRyYXdCb3JkZXIgPSB0cnVlO1xyXG4gICAgICAgIHlMYWJlbElucHV0LnNldEJhY2tncm91bmRJbWFnZShuZXcgSW1hZ2VDb21wb25lbnQodGV4dEZpZWxkSW1hZ2UsIDAsIDAsIHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQsIHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQsIDAsIDAsIHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQpKTtcclxuICAgICAgICB5TGFiZWxJbnB1dC5zZXRCYWNrZ3JvdW5kQ29sb3IoJyNiYjAwMDAnKTtcclxuICAgICAgICB5TGFiZWxJbnB1dC5tYXhUZXh0TGVuZ3RoID0gMjtcclxuICAgICAgICB5TGFiZWxJbnB1dC5zZXRUZXh0Q29sb3IoJyNGRkZGMDAnKTtcclxuICAgICAgICB5TGFiZWxJbnB1dC5jdXJzb3Iuc2V0Q29sb3IoJyMwOEI2MDAnKTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoeUxhYmVsSW5wdXQsIHRoaXMueUxhYmVsSW5wdXRLZXkpO1xyXG5cclxuICAgICAgICB4TGFiZWxJbnB1dC5hZGRFdmVudExpc3RlbmVyKGV2ZW50cy5LRVlCT0FSRC5LRVlfRE9XTiwgdGhpcy5vbklucHV0Q2hhbmdlKTtcclxuICAgICAgICB4TGFiZWxJbnB1dC5hZGRFdmVudExpc3RlbmVyKGV2ZW50cy5LRVlCT0FSRC5LRVlfUFJFU1MsIHRoaXMub25JbnB1dENoYW5nZSk7XHJcbiAgICAgICAgeUxhYmVsSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMuS0VZQk9BUkQuS0VZX0RPV04sIHRoaXMub25JbnB1dENoYW5nZSk7XHJcbiAgICAgICAgeUxhYmVsSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMuS0VZQk9BUkQuS0VZX1BSRVNTLCB0aGlzLm9uSW5wdXRDaGFuZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGFuc3dlcklzUmlnaHQoKSB7XHJcbiAgICAgICAgY29uc3QgcG9pbnQgPSB0aGlzLmdldENoYXJ0Q29tcG9uZW50KCkuZ2V0UG9pbnQoKTtcclxuXHJcbiAgICAgICAgaWYgKHBvaW50ID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAgdGhpcy5wb2ludC54ID09PSBwb2ludC54ICYmIHRoaXMucG9pbnQueSA9PT0gcG9pbnQueTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDaGFydENvbXBvbmVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGlsZENvbXBvbmVudCh0aGlzLmNoYXJ0S2V5KTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgVGFza01vZGFsV2luZG93IGZyb20gJy4vVGFza01vZGFsV2luZG93JztcclxuaW1wb3J0IExhYmVsIGZyb20gJy4uLy4uL0NvbXBvbmVudC9MYWJlbCc7XHJcbmltcG9ydCBJbWFnZUNvbXBvbmVudCBmcm9tICcuLi8uLi9JbWFnZUNvbXBvbmVudC9JbWFnZUNvbXBvbmVudCc7XHJcblxyXG5pbXBvcnQgeyBnZXRUZXh0V2lkdGhXaXRoQ2FudmFzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdGV4dFdpZHRoJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnZlcnRGcm9tRGVjVG9CaW5UYXNrTW9kYWxXaW5kb3cgIGV4dGVuZHMgVGFza01vZGFsV2luZG93IHtcclxuICAgIGNvbnN0cnVjdG9yKHRvcCA9IDAsIGxlZnQgPSAwLCB3aWR0aCA9IDAsIGhlaWdodCA9IDAsIGFkZGl0aW9uYWxSZXNvdXJjZXMgPSB7fSwgcGFyZW50Q29tcG9uZW50ID0gbnVsbCkge1xyXG4gICAgICAgIHN1cGVyKHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCwgJ9Cf0LXRgNC10LLQtdC00LjRgtC1INGH0LjRgdC70L4g0LjQtyDQtNC10YHQtdGC0LjRh9C90L7QuSDQsiDQtNCy0L7QuNGH0L3Rg9GOINGB0LjRgdGC0LXQvNGDINGB0YfQuNGB0LvQtdC90LjRjzonLCBhZGRpdGlvbmFsUmVzb3VyY2VzLCBwYXJlbnRDb21wb25lbnQpO1xyXG4gICAgICAgIGNvbnN0IHRleHRGaWVsZEltYWdlID0gYWRkaXRpb25hbFJlc291cmNlcy5pbWFnZXMudGV4dEZpZWxkSW1hZ2U7XHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGg6IHRleHRGaWVsZFdpZHRoLCBuYXR1cmFsSGVpZ2h0OiB0ZXh0RmllbGRIZWlnaHQgfSA9IHRleHRGaWVsZEltYWdlO1xyXG5cclxuICAgICAgICB0aGlzLm51bWJlclRvQ29udmVydCA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDMyKTtcclxuXHJcbiAgICAgICAgY29uc3QgbGFiZWxUZXh0ID0gYNCn0LjRgdC70L4g0LTQu9GPINC/0LXRgNC10LLQvtC00LAgJHt0aGlzLm51bWJlclRvQ29udmVydH06YDtcclxuXHJcbiAgICAgICAgY29uc3QgaGFsZlRleHRGaWVsZEhlaWdodCA9IE1hdGgucm91bmQodGV4dEZpZWxkSGVpZ2h0IC8gMik7XHJcblxyXG4gICAgICAgIGNvbnN0IGhhbGZIZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgY29uc3QgaGFsZkV4cHJlc3Npb25XaWR0aCA9IE1hdGguY2VpbCgoZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyhsYWJlbFRleHQsICdtb25vc3BhY2UnLCAnMTZweCcpICsgMSkgLyAyKTtcclxuICAgICAgICBjb25zdCBleHByZXNzaW9uID0gbmV3IExhYmVsKGhhbGZIZWlnaHQgLSB0ZXh0RmllbGRIZWlnaHQgLSBoYWxmVGV4dEZpZWxkSGVpZ2h0LCA1LCBoYWxmRXhwcmVzc2lvbldpZHRoICogMiwgdGV4dEZpZWxkSGVpZ2h0LCBsYWJlbFRleHQpO1xyXG4gICAgICAgIGNvbnN0IGFuc3dlcklucHV0ID0gbmV3IExhYmVsKGhhbGZIZWlnaHQgLSBoYWxmVGV4dEZpZWxkSGVpZ2h0LCA1LHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQsICcnKTtcclxuXHJcbiAgICAgICAgYW5zd2VySW5wdXQudGFiYWJsZSA9IHRydWU7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuZWRpdGFibGUgPSB0cnVlO1xyXG4gICAgICAgIGFuc3dlcklucHV0LmRyYXdCb3JkZXIgPSB0cnVlO1xyXG4gICAgICAgIGFuc3dlcklucHV0LnNldEJhY2tncm91bmRDb2xvcignI2JiMDAwMCcpO1xyXG5cclxuICAgICAgICBhbnN3ZXJJbnB1dC5tYXhUZXh0TGVuZ3RoID0gODtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5zZXRCYWNrZ3JvdW5kSW1hZ2UobmV3IEltYWdlQ29tcG9uZW50KHRleHRGaWVsZEltYWdlLCAwLCAwLCB0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0LCB0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0LCAwLCAwLCB0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0KSk7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuc2V0VGV4dENvbG9yKCcjRkZGRjAwJyk7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuY3Vyc29yLnNldENvbG9yKCcjMDhCNjAwJyk7XHJcbiAgICAgICAgZXhwcmVzc2lvbi5zZXRCYWNrZ3JvdW5kQ29sb3IoJ3JnYmEoMCwgMCwgMCwgMCknKTtcclxuICAgICAgICBleHByZXNzaW9uLnNldFRleHRDb2xvcignI2ZmZmZmZicpO1xyXG5cclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uS2V5ID0gJ2Rlc2NyaXB0aW9uJztcclxuICAgICAgICB0aGlzLmV4cHJlc3Npb25LZXkgPSAnZXhwcmVzc2lvbic7XHJcbiAgICAgICAgdGhpcy5hbnN3ZXJLZXkgPSAnYW5zd2VyJztcclxuICAgICAgICB0aGlzLmJ1dHRvbktleSA9ICdidXR0b24nO1xyXG5cclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChleHByZXNzaW9uLCB0aGlzLmV4cHJlc3Npb25LZXkpO1xyXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGFuc3dlcklucHV0LCB0aGlzLmFuc3dlcktleSk7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuYWxpZ25DZW50ZXIoKTtcclxuXHJcbiAgICAgICAgZXhwcmVzc2lvbi5zZXRCb3VuZGluZ0NsaWVudFJlY3QodW5kZWZpbmVkLCBhbnN3ZXJJbnB1dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREZWZhdWx0Q29tcG9uZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMuYW5zd2VyS2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBhbnN3ZXJJc1JpZ2h0KCkge1xyXG4gICAgICAgIGNvbnN0IGFuc3dlciA9IHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5hbnN3ZXJLZXkpLmdldFRleHQoKS50cmltKCkudG9Mb3dlckNhc2UoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuICBhbnN3ZXIgPT09IHRoaXMubnVtYmVyVG9Db252ZXJ0LnRvU3RyaW5nKDIpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBMYWJlbCBmcm9tICcuLi8uLi9Db21wb25lbnQvTGFiZWwnO1xyXG5pbXBvcnQgVGFza01vZGFsV2luZG93IGZyb20gJy4vVGFza01vZGFsV2luZG93JztcclxuaW1wb3J0IEltYWdlQ29tcG9uZW50IGZyb20gJy4uLy4uL0ltYWdlQ29tcG9uZW50L0ltYWdlQ29tcG9uZW50JztcclxuXHJcbmltcG9ydCB7IGdldFRleHRXaWR0aFdpdGhDYW52YXMgfSBmcm9tICcuLi8uLi8uLi91dGlscy90ZXh0V2lkdGgnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTnVtYmVyQ29tcG9zaXRpb25UYXNrTW9kYWxXaW5kb3cgZXh0ZW5kcyBUYXNrTW9kYWxXaW5kb3cge1xyXG4gICAgY29uc3RydWN0b3IodG9wID0gMCwgbGVmdCA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgYWRkaXRpb25hbFJlc291cmNlcyA9IHt9LCBwYXJlbnRDb21wb25lbnQgPSBudWxsKSB7XHJcbiAgICAgICAgc3VwZXIodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0LCAn0J7QtNC90L4g0LjQtyDRgdC70LDQs9Cw0LXQvNGL0YUg0LTQsNC90L3Qvi4g0J3QsNC/0LjRiNC4INCy0YLQvtGA0L7QtSDRgdC70LDQs9Cw0LXQvNC+0LUsINGH0YLQvtCx0Ysg0YHRg9C80LzQsCDQtNCw0LLQsNC70LAg0LLQtdGA0L3QvtC1INGA0LDQstC10L3RgdGC0LLQvjonLCBhZGRpdGlvbmFsUmVzb3VyY2VzLCBwYXJlbnRDb21wb25lbnQpO1xyXG5cclxuICAgICAgICBjb25zdCB0ZXh0RmllbGRJbWFnZSA9IGFkZGl0aW9uYWxSZXNvdXJjZXMuaW1hZ2VzLnRleHRGaWVsZEltYWdlO1xyXG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoOiB0ZXh0RmllbGRXaWR0aCwgbmF0dXJhbEhlaWdodDogdGV4dEZpZWxkSGVpZ2h0IH0gPSB0ZXh0RmllbGRJbWFnZTtcclxuXHJcbiAgICAgICAgY29uc3QgbGFiZWxUZXh0ID0gdGhpcy5pbml0VGFzaygpO1xyXG5cclxuICAgICAgICBjb25zdCBoYWxmSGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCAvIDIpO1xyXG4gICAgICAgIGNvbnN0IGhhbGZUZXh0RmllbGRIZWlnaHQgPSBNYXRoLnJvdW5kKHRleHRGaWVsZEhlaWdodCAvIDIpO1xyXG4gICAgICAgIGNvbnN0IGhhbGZFeHByZXNzaW9uV2lkdGggPSBNYXRoLmNlaWwoKGdldFRleHRXaWR0aFdpdGhDYW52YXMobGFiZWxUZXh0LCAnbW9ub3NwYWNlJywgJzE2cHgnKSArIDEpIC8gMik7XHJcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9IG5ldyBMYWJlbChoYWxmSGVpZ2h0IC0gdGV4dEZpZWxkSGVpZ2h0IC0gaGFsZlRleHRGaWVsZEhlaWdodCwgNSwgaGFsZkV4cHJlc3Npb25XaWR0aCAqIDIsIHRleHRGaWVsZEhlaWdodCwgbGFiZWxUZXh0KTtcclxuICAgICAgICBjb25zdCBhbnN3ZXJJbnB1dCA9IG5ldyBMYWJlbChoYWxmSGVpZ2h0IC0gaGFsZlRleHRGaWVsZEhlaWdodCwgNSx0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0LCAnJyk7XHJcblxyXG4gICAgICAgIGFuc3dlcklucHV0LnRhYmFibGUgPSB0cnVlO1xyXG4gICAgICAgIGFuc3dlcklucHV0LmVkaXRhYmxlID0gdHJ1ZTtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5kcmF3Qm9yZGVyID0gdHJ1ZTtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5zZXRCYWNrZ3JvdW5kQ29sb3IoJyNiYjAwMDAnKTtcclxuXHJcbiAgICAgICAgYW5zd2VySW5wdXQubWF4VGV4dExlbmd0aCA9IDI7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuc2V0QmFja2dyb3VuZEltYWdlKG5ldyBJbWFnZUNvbXBvbmVudCh0ZXh0RmllbGRJbWFnZSwgMCwgMCwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCwgMCwgMCwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCkpO1xyXG4gICAgICAgIGFuc3dlcklucHV0LnNldFRleHRDb2xvcignI0ZGRkYwMCcpO1xyXG4gICAgICAgIGFuc3dlcklucHV0LmN1cnNvci5zZXRDb2xvcignIzA4QjYwMCcpO1xyXG4gICAgICAgIGV4cHJlc3Npb24uc2V0QmFja2dyb3VuZENvbG9yKCdyZ2JhKDAsIDAsIDAsIDApJyk7XHJcbiAgICAgICAgZXhwcmVzc2lvbi5zZXRUZXh0Q29sb3IoJyNmZmZmZmYnKTtcclxuXHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbktleSA9ICdkZXNjcmlwdGlvbic7XHJcbiAgICAgICAgdGhpcy5leHByZXNzaW9uS2V5ID0gJ2V4cHJlc3Npb24nO1xyXG4gICAgICAgIHRoaXMuYW5zd2VyS2V5ID0gJ2Fuc3dlcic7XHJcbiAgICAgICAgdGhpcy5idXR0b25LZXkgPSAnYnV0dG9uJztcclxuXHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoZXhwcmVzc2lvbiwgdGhpcy5leHByZXNzaW9uS2V5KTtcclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChhbnN3ZXJJbnB1dCwgdGhpcy5hbnN3ZXJLZXkpO1xyXG4gICAgICAgIGFuc3dlcklucHV0LmFsaWduQ2VudGVyKCk7XHJcblxyXG4gICAgICAgIGV4cHJlc3Npb24uc2V0Qm91bmRpbmdDbGllbnRSZWN0KHVuZGVmaW5lZCwgYW5zd2VySW5wdXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGVmYXVsdENvbXBvbmVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGlsZENvbXBvbmVudCh0aGlzLmFuc3dlcktleSk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFRhc2soKSB7XHJcbiAgICAgICAgY29uc3QgbWluTnVtYmVyID0gMjtcclxuICAgICAgICBjb25zdCBtYXhOdW1iZXIgPSA5OTtcclxuXHJcbiAgICAgICAgbGV0IHJlc3VsdE51bWJlciA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIChtYXhOdW1iZXIgLSBtaW5OdW1iZXIpKSArIG1pbk51bWJlcjtcclxuICAgICAgICBsZXQgY29tcG9zaXRlTnVtYmVyID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKHJlc3VsdE51bWJlciAtIG1pbk51bWJlcikpICsgMTtcclxuICAgICAgICB0aGlzLm51bWJlciA9IHJlc3VsdE51bWJlciAtIGNvbXBvc2l0ZU51bWJlcjtcclxuXHJcbiAgICAgICAgbGV0IGxhYmVsVGV4dDtcclxuXHJcbiAgICAgICAgaWYgKE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSkpIHtcclxuICAgICAgICAgICAgbGFiZWxUZXh0ID0gYD8gKyAke2NvbXBvc2l0ZU51bWJlcn0gPSAke3Jlc3VsdE51bWJlcn1gO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxhYmVsVGV4dCA9IGAke2NvbXBvc2l0ZU51bWJlcn0gKyA/ID0gJHtyZXN1bHROdW1iZXJ9YDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBsYWJlbFRleHQ7XHJcbiAgICB9XHJcblxyXG4gICAgYW5zd2VySXNSaWdodCgpIHtcclxuICAgICAgICBjb25zdCBhbnN3ZXIgPSBwYXJzZUludCh0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMuYW5zd2VyS2V5KS5nZXRUZXh0KCkpO1xyXG4gICAgICAgIHJldHVybiAgYW5zd2VyID09PSB0aGlzLm51bWJlcjtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgTGFiZWwgZnJvbSAnLi4vLi4vQ29tcG9uZW50L0xhYmVsJztcclxuaW1wb3J0IFRhc2tNb2RhbFdpbmRvdyBmcm9tICcuL1Rhc2tNb2RhbFdpbmRvdyc7XHJcbmltcG9ydCBJbWFnZUNvbXBvbmVudCBmcm9tICcuLi8uLi9JbWFnZUNvbXBvbmVudC9JbWFnZUNvbXBvbmVudCc7XHJcblxyXG5pbXBvcnQgeyBnZXRUZXh0V2lkdGhXaXRoQ2FudmFzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvdGV4dFdpZHRoJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbXBhcmVUd29OdW1iZXJzVGFza01vZGFsV2luZG93IGV4dGVuZHMgVGFza01vZGFsV2luZG93IHtcclxuICAgIGNvbnN0cnVjdG9yKHRvcCA9IDAsIGxlZnQgPSAwLCB3aWR0aCA9IDAsIGhlaWdodCA9IDAsIGFkZGl0aW9uYWxSZXNvdXJjZXMgPSB7fSwgcGFyZW50Q29tcG9uZW50ID0gbnVsbCkge1xyXG4gICAgICAgIHN1cGVyKHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCwgJ9Ca0LDQutC+0Lkg0LfQvdCw0Log0YLRiyDQv9C+0YHRgtCw0LLQuNGI0Ywg0LzQtdC20LTRgyDRjdGC0LjQvNC4INGH0LjRgdC70LDQvNC4ICg+LCA8INC40LvQuCA9KTonLCBhZGRpdGlvbmFsUmVzb3VyY2VzLCBwYXJlbnRDb21wb25lbnQpO1xyXG5cclxuICAgICAgICBjb25zdCB0ZXh0RmllbGRJbWFnZSA9IGFkZGl0aW9uYWxSZXNvdXJjZXMuaW1hZ2VzLnRleHRGaWVsZEltYWdlO1xyXG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoOiB0ZXh0RmllbGRXaWR0aCwgbmF0dXJhbEhlaWdodDogdGV4dEZpZWxkSGVpZ2h0IH0gPSB0ZXh0RmllbGRJbWFnZTtcclxuXHJcbiAgICAgICAgdGhpcy5maXJzdCA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDEwMCk7XHJcbiAgICAgICAgdGhpcy5zZWNvbmQgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxMDApO1xyXG5cclxuICAgICAgICBjb25zdCBsYWJlbFRleHQgPSBgJHt0aGlzLmZpcnN0fSA/ICR7dGhpcy5zZWNvbmR9OmA7XHJcblxyXG4gICAgICAgIGNvbnN0IGhhbGZUZXh0RmllbGRIZWlnaHQgPSBNYXRoLnJvdW5kKHRleHRGaWVsZEhlaWdodCAvIDIpO1xyXG5cclxuICAgICAgICBjb25zdCBoYWxmSGVpZ2h0ID0gTWF0aC5jZWlsKGhlaWdodCAvIDIpO1xyXG4gICAgICAgIGNvbnN0IGhhbGZFeHByZXNzaW9uV2lkdGggPSBNYXRoLmNlaWwoKGdldFRleHRXaWR0aFdpdGhDYW52YXMobGFiZWxUZXh0LCAnbW9ub3NwYWNlJywgJzE2cHgnKSArIDEpIC8gMik7XHJcbiAgICAgICAgY29uc3QgZXhwcmVzc2lvbiA9IG5ldyBMYWJlbChoYWxmSGVpZ2h0IC0gdGV4dEZpZWxkSGVpZ2h0IC0gaGFsZlRleHRGaWVsZEhlaWdodCwgNSwgaGFsZkV4cHJlc3Npb25XaWR0aCAqIDIsIHRleHRGaWVsZEhlaWdodCwgbGFiZWxUZXh0KTtcclxuICAgICAgICBjb25zdCBhbnN3ZXJJbnB1dCA9IG5ldyBMYWJlbChoYWxmSGVpZ2h0IC0gaGFsZlRleHRGaWVsZEhlaWdodCwgNSx0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0LCAnJyk7XHJcblxyXG4gICAgICAgIGFuc3dlcklucHV0LmVkaXRhYmxlID0gdHJ1ZTtcclxuICAgICAgICBhbnN3ZXJJbnB1dC50YWJhYmxlID0gdHJ1ZTtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5kcmF3Qm9yZGVyID0gdHJ1ZTtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5zZXRCYWNrZ3JvdW5kQ29sb3IoJyNiYjAwMDAnKTtcclxuXHJcbiAgICAgICAgYW5zd2VySW5wdXQubWF4VGV4dExlbmd0aCA9IDE7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuc2V0QmFja2dyb3VuZEltYWdlKG5ldyBJbWFnZUNvbXBvbmVudCh0ZXh0RmllbGRJbWFnZSwgMCwgMCwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCwgMCwgMCwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCkpO1xyXG4gICAgICAgIGFuc3dlcklucHV0LnNldFRleHRDb2xvcignI0ZGRkYwMCcpO1xyXG4gICAgICAgIGFuc3dlcklucHV0LmN1cnNvci5zZXRDb2xvcignIzA4QjYwMCcpO1xyXG4gICAgICAgIGV4cHJlc3Npb24uc2V0QmFja2dyb3VuZENvbG9yKCdyZ2JhKDAsIDAsIDAsIDApJyk7XHJcbiAgICAgICAgZXhwcmVzc2lvbi5zZXRUZXh0Q29sb3IoJyNmZmZmZmYnKTtcclxuXHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbktleSA9ICdkZXNjcmlwdGlvbic7XHJcbiAgICAgICAgdGhpcy5leHByZXNzaW9uS2V5ID0gJ2V4cHJlc3Npb24nO1xyXG4gICAgICAgIHRoaXMuYW5zd2VyS2V5ID0gJ2Fuc3dlcic7XHJcbiAgICAgICAgdGhpcy5idXR0b25LZXkgPSAnYnV0dG9uJztcclxuXHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoZXhwcmVzc2lvbiwgdGhpcy5leHByZXNzaW9uS2V5KTtcclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChhbnN3ZXJJbnB1dCwgdGhpcy5hbnN3ZXJLZXkpO1xyXG4gICAgICAgIGFuc3dlcklucHV0LmFsaWduQ2VudGVyKCk7XHJcblxyXG4gICAgICAgIGV4cHJlc3Npb24uc2V0Qm91bmRpbmdDbGllbnRSZWN0KHVuZGVmaW5lZCwgYW5zd2VySW5wdXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGVmYXVsdENvbXBvbmVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGlsZENvbXBvbmVudCh0aGlzLmFuc3dlcktleSk7XHJcbiAgICB9XHJcblxyXG4gICAgYW5zd2VySXNSaWdodCgpIHtcclxuICAgICAgICBjb25zdCBhbnN3ZXIgPSB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMuYW5zd2VyS2V5KS5nZXRUZXh0KCk7XHJcblxyXG4gICAgICAgIGlmIChhbnN3ZXIgPT09ICc+Jykge1xyXG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuZmlyc3QgPiB0aGlzLnNlY29uZCk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKGFuc3dlciA9PT0gJzwnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5maXJzdCA8IHRoaXMuc2Vjb25kKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChhbnN3ZXIgPT09ICc9Jykge1xyXG4gICAgICAgICAgICByZXR1cm4gKHRoaXMuZmlyc3QgPT09IHRoaXMuc2Vjb25kKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAgZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IExhYmVsIGZyb20gJy4uLy4uL0NvbXBvbmVudC9MYWJlbCc7XHJcbmltcG9ydCBUYXNrTW9kYWxXaW5kb3cgZnJvbSAnLi9UYXNrTW9kYWxXaW5kb3cnO1xyXG5pbXBvcnQgSW1hZ2VDb21wb25lbnQgZnJvbSAnLi4vLi4vSW1hZ2VDb21wb25lbnQvSW1hZ2VDb21wb25lbnQnO1xyXG5cclxuaW1wb3J0IHsgZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3RleHRXaWR0aCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb250aW51ZU51bWJlclNlcXVlbmNlVGFza01vZGFsV2luZG93IGV4dGVuZHMgVGFza01vZGFsV2luZG93IHtcclxuICAgIGNvbnN0cnVjdG9yKHRvcCA9IDAsIGxlZnQgPSAwLCB3aWR0aCA9IDAsIGhlaWdodCA9IDAsIGFkZGl0aW9uYWxSZXNvdXJjZXMgPSB7fSwgcGFyZW50Q29tcG9uZW50ID0gbnVsbCkge1xyXG4gICAgICAgIHN1cGVyKHRvcCwgbGVmdCwgd2lkdGgsIGhlaWdodCwgJ9CSINGN0YLQvtC8INGA0Y/QtNGDINC10YHRgtGMINC30LDQutC+0L3QvtC80LXRgNC90L7RgdGC0YwsINC30LDQutC+0L3Rh9C4INC10LPQvjonLCBhZGRpdGlvbmFsUmVzb3VyY2VzLCBwYXJlbnRDb21wb25lbnQpO1xyXG5cclxuICAgICAgICBjb25zdCB0ZXh0RmllbGRJbWFnZSA9IGFkZGl0aW9uYWxSZXNvdXJjZXMuaW1hZ2VzLnRleHRGaWVsZEltYWdlO1xyXG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoOiB0ZXh0RmllbGRXaWR0aCwgbmF0dXJhbEhlaWdodDogdGV4dEZpZWxkSGVpZ2h0IH0gPSB0ZXh0RmllbGRJbWFnZTtcclxuXHJcbiAgICAgICAgY29uc3QgbWluTnVtYmVyID0gNDtcclxuICAgICAgICBjb25zdCBtYXhOdW1iZXIgPSA5OTtcclxuICAgICAgICB0aGlzLm51bWJlciA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIChtYXhOdW1iZXIgLSBtaW5OdW1iZXIpKSArIG1pbk51bWJlcjtcclxuXHJcbiAgICAgICAgY29uc3QgbGFiZWxUZXh0ID0gdGhpcy5jcmVhdGVTZXF1ZW5jZVRleHQoKTtcclxuXHJcbiAgICAgICAgY29uc3QgaGFsZlRleHRGaWVsZEhlaWdodCA9IE1hdGgucm91bmQodGV4dEZpZWxkSGVpZ2h0IC8gMik7XHJcblxyXG4gICAgICAgIGNvbnN0IGhhbGZIZWlnaHQgPSBNYXRoLmNlaWwoaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgY29uc3QgaGFsZkV4cHJlc3Npb25XaWR0aCA9IE1hdGguY2VpbCgoZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyhsYWJlbFRleHQsICdtb25vc3BhY2UnLCAnMTZweCcpICsgMSkgLyAyKTtcclxuICAgICAgICBjb25zdCBleHByZXNzaW9uID0gbmV3IExhYmVsKGhhbGZIZWlnaHQgLSB0ZXh0RmllbGRIZWlnaHQgLSBoYWxmVGV4dEZpZWxkSGVpZ2h0LCA1LCBoYWxmRXhwcmVzc2lvbldpZHRoICogMiwgdGV4dEZpZWxkSGVpZ2h0LCBsYWJlbFRleHQpO1xyXG4gICAgICAgIGNvbnN0IGFuc3dlcklucHV0ID0gbmV3IExhYmVsKGhhbGZIZWlnaHQgLSBoYWxmVGV4dEZpZWxkSGVpZ2h0LCA1LHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQsICcnKTtcclxuXHJcbiAgICAgICAgYW5zd2VySW5wdXQuZWRpdGFibGUgPSB0cnVlO1xyXG4gICAgICAgIGFuc3dlcklucHV0LnRhYmFibGUgPSB0cnVlO1xyXG4gICAgICAgIGFuc3dlcklucHV0LmRyYXdCb3JkZXIgPSB0cnVlO1xyXG4gICAgICAgIGFuc3dlcklucHV0LnNldEJhY2tncm91bmRDb2xvcignI2JiMDAwMCcpO1xyXG5cclxuICAgICAgICBhbnN3ZXJJbnB1dC5tYXhUZXh0TGVuZ3RoID0gMjtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5zZXRCYWNrZ3JvdW5kSW1hZ2UobmV3IEltYWdlQ29tcG9uZW50KHRleHRGaWVsZEltYWdlLCAwLCAwLCB0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0LCB0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0LCAwLCAwLCB0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0KSk7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuc2V0VGV4dENvbG9yKCcjRkZGRjAwJyk7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuY3Vyc29yLnNldENvbG9yKCcjMDhCNjAwJyk7XHJcbiAgICAgICAgZXhwcmVzc2lvbi5zZXRCYWNrZ3JvdW5kQ29sb3IoJ3JnYmEoMCwgMCwgMCwgMCknKTtcclxuICAgICAgICBleHByZXNzaW9uLnNldFRleHRDb2xvcignI2ZmZmZmZicpO1xyXG5cclxuICAgICAgICB0aGlzLmRlc2NyaXB0aW9uS2V5ID0gJ2Rlc2NyaXB0aW9uJztcclxuICAgICAgICB0aGlzLmV4cHJlc3Npb25LZXkgPSAnZXhwcmVzc2lvbic7XHJcbiAgICAgICAgdGhpcy5hbnN3ZXJLZXkgPSAnYW5zd2VyJztcclxuICAgICAgICB0aGlzLmJ1dHRvbktleSA9ICdidXR0b24nO1xyXG5cclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChleHByZXNzaW9uLCB0aGlzLmV4cHJlc3Npb25LZXkpO1xyXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGFuc3dlcklucHV0LCB0aGlzLmFuc3dlcktleSk7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuYWxpZ25DZW50ZXIoKTtcclxuXHJcbiAgICAgICAgZXhwcmVzc2lvbi5zZXRCb3VuZGluZ0NsaWVudFJlY3QodW5kZWZpbmVkLCBhbnN3ZXJJbnB1dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0KTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREZWZhdWx0Q29tcG9uZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMuYW5zd2VyS2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVTZXF1ZW5jZVRleHQoKSB7XHJcbiAgICAgICAgbGV0IG1heERpZiA9IE1hdGguZmxvb3IodGhpcy5udW1iZXIgLyA0KTtcclxuICAgICAgICBsZXQgZGlmID0gMDtcclxuICAgICAgICBjb25zdCBtaW5OdW1iZXIgPSAxO1xyXG4gICAgICAgIGNvbnN0IG1heE51bWJlciA9IDk7XHJcblxyXG4gICAgICAgIGlmIChtYXhEaWYgPiAxMCkge1xyXG4gICAgICAgICAgICBkaWYgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAobWF4TnVtYmVyIC0gbWluTnVtYmVyKSkgKyBtaW5OdW1iZXI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGlmID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKG1heERpZiAtIG1pbk51bWJlcikpICsgbWluTnVtYmVyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGZvdXJ0aE51bWJlciA9IHRoaXMubnVtYmVyIC0gZGlmICogMTtcclxuICAgICAgICBsZXQgdGhpcmROdW1iZXIgPSB0aGlzLm51bWJlciAtIGRpZiAqIDI7XHJcbiAgICAgICAgbGV0IHNlY29uZE51bWJlciA9IHRoaXMubnVtYmVyIC0gZGlmICogMztcclxuICAgICAgICBsZXQgZmlyc3ROdW1iZXIgPSB0aGlzLm51bWJlciAtIGRpZiAqIDQ7XHJcblxyXG4gICAgICAgIHJldHVybiBgJHtmaXJzdE51bWJlcn0sICR7c2Vjb25kTnVtYmVyfSwgJHt0aGlyZE51bWJlcn0sICR7Zm91cnRoTnVtYmVyfSwgPzpgO1xyXG4gICAgfVxyXG5cclxuICAgIGFuc3dlcklzUmlnaHQoKSB7XHJcbiAgICAgICAgY29uc3QgYW5zd2VyID0gcGFyc2VJbnQodGhpcy5nZXRDaGlsZENvbXBvbmVudCh0aGlzLmFuc3dlcktleSkuZ2V0VGV4dCgpLCAxMCk7XHJcblxyXG4gICAgICAgIHJldHVybiAgYW5zd2VyID09PSB0aGlzLm51bWJlcjtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgTGFiZWwgZnJvbSAnLi4vLi4vQ29tcG9uZW50L0xhYmVsJztcclxuaW1wb3J0IGNvdW50cnlNYXAgZnJvbSAnLi4vLi4vLi4vZGljdGlvbmFyaWVzL2NvdW50cnlNYXAnO1xyXG5pbXBvcnQgVGFza01vZGFsV2luZG93IGZyb20gJy4vVGFza01vZGFsV2luZG93JztcclxuaW1wb3J0IEltYWdlQ29tcG9uZW50IGZyb20gJy4uLy4uL0ltYWdlQ29tcG9uZW50L0ltYWdlQ29tcG9uZW50JztcclxuXHJcbmltcG9ydCB7IGdldFRleHRXaWR0aFdpdGhDYW52YXMgfSBmcm9tICcuLi8uLi8uLi91dGlscy90ZXh0V2lkdGgnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ291bnRyeUNhcGl0YWxUYXNrTW9kYWxXaW5kb3cgZXh0ZW5kcyBUYXNrTW9kYWxXaW5kb3cge1xyXG4gICAgY29uc3RydWN0b3IodG9wID0gMCwgbGVmdCA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgYWRkaXRpb25hbFJlc291cmNlcyA9IHt9LCBwYXJlbnRDb21wb25lbnQgPSBudWxsKSB7XHJcbiAgICAgICAgc3VwZXIodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0LCAn0J3QsNC/0LjRiNC4INGB0YLQvtC70LjRhtGDINGN0YLQvtC5INGB0YLRgNCw0L3RizonLCBhZGRpdGlvbmFsUmVzb3VyY2VzLCBwYXJlbnRDb21wb25lbnQpO1xyXG5cclxuICAgICAgICBjb25zdCB0YXNrID0gY291bnRyeU1hcFtNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAoY291bnRyeU1hcC5sZW5ndGggLSAxKSldO1xyXG4gICAgICAgIHRoaXMuYW5zd2VyID0gdGFzay5jYXBpdGFsO1xyXG5cclxuICAgICAgICBjb25zdCB0ZXh0RmllbGRJbWFnZSA9IGFkZGl0aW9uYWxSZXNvdXJjZXMuaW1hZ2VzLnRleHRGaWVsZEltYWdlO1xyXG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoOiB0ZXh0RmllbGRXaWR0aCwgbmF0dXJhbEhlaWdodDogdGV4dEZpZWxkSGVpZ2h0IH0gPSB0ZXh0RmllbGRJbWFnZTtcclxuXHJcbiAgICAgICAgY29uc3QgbGFiZWxUZXh0ID0gYCR7dGFzay5jb3VudHJ5fTogYDtcclxuXHJcbiAgICAgICAgY29uc3QgaGFsZkhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQgLyAyKTtcclxuICAgICAgICBjb25zdCBoYWxmRXhwcmVzc2lvbldpZHRoID0gTWF0aC5jZWlsKChnZXRUZXh0V2lkdGhXaXRoQ2FudmFzKGxhYmVsVGV4dCwgJ21vbm9zcGFjZScsICcxNnB4JykgKyAxKSAvIDIpO1xyXG4gICAgICAgIGNvbnN0IGhhbGZUZXh0RmllbGRIZWlnaHQgPSBNYXRoLnJvdW5kKHRleHRGaWVsZEhlaWdodCAvIDIpO1xyXG4gICAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSBuZXcgTGFiZWwoaGFsZkhlaWdodCAtIHRleHRGaWVsZEhlaWdodCAtIGhhbGZUZXh0RmllbGRIZWlnaHQsIDUsIGhhbGZFeHByZXNzaW9uV2lkdGggKiAyLCB0ZXh0RmllbGRIZWlnaHQsIGxhYmVsVGV4dCk7XHJcbiAgICAgICAgY29uc3QgYW5zd2VySW5wdXQgPSBuZXcgTGFiZWwoaGFsZkhlaWdodCAtIGhhbGZUZXh0RmllbGRIZWlnaHQsIDUsdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCwgJycpO1xyXG5cclxuICAgICAgICBhbnN3ZXJJbnB1dC5lZGl0YWJsZSA9IHRydWU7XHJcbiAgICAgICAgYW5zd2VySW5wdXQudGFiYWJsZSA9IHRydWU7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuZHJhd0JvcmRlciA9IHRydWU7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuc2V0QmFja2dyb3VuZENvbG9yKCcjYmIwMDAwJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IG9uZUdseXBoV2lkdGggPSBNYXRoLmNlaWwoZ2V0VGV4dFdpZHRoV2l0aENhbnZhcygneCcsICdtb25vc3BhY2UnLCAnMTZweCcpKTtcclxuXHJcbiAgICAgICAgYW5zd2VySW5wdXQubWF4VGV4dExlbmd0aCA9IE1hdGguZmxvb3IodGV4dEZpZWxkV2lkdGggLyBvbmVHbHlwaFdpZHRoKSArIDE7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuc2V0QmFja2dyb3VuZEltYWdlKG5ldyBJbWFnZUNvbXBvbmVudCh0ZXh0RmllbGRJbWFnZSwgMCwgMCwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCwgMCwgMCwgdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCkpO1xyXG4gICAgICAgIGFuc3dlcklucHV0LnNldFRleHRDb2xvcignI0ZGRkYwMCcpO1xyXG4gICAgICAgIGFuc3dlcklucHV0LmN1cnNvci5zZXRDb2xvcignIzA4QjYwMCcpO1xyXG4gICAgICAgIGV4cHJlc3Npb24uc2V0QmFja2dyb3VuZENvbG9yKCdyZ2JhKDAsIDAsIDAsIDApJyk7XHJcbiAgICAgICAgZXhwcmVzc2lvbi5zZXRUZXh0Q29sb3IoJyNmZmZmZmYnKTtcclxuXHJcbiAgICAgICAgdGhpcy5kZXNjcmlwdGlvbktleSA9ICdkZXNjcmlwdGlvbic7XHJcbiAgICAgICAgdGhpcy5leHByZXNzaW9uS2V5ID0gJ2V4cHJlc3Npb24nO1xyXG4gICAgICAgIHRoaXMuYW5zd2VyS2V5ID0gJ2Fuc3dlcic7XHJcbiAgICAgICAgdGhpcy5idXR0b25LZXkgPSAnYnV0dG9uJztcclxuXHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoZXhwcmVzc2lvbiwgdGhpcy5leHByZXNzaW9uS2V5KTtcclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChhbnN3ZXJJbnB1dCwgdGhpcy5hbnN3ZXJLZXkpO1xyXG4gICAgICAgIGFuc3dlcklucHV0LmFsaWduQ2VudGVyKCk7XHJcblxyXG4gICAgICAgIGV4cHJlc3Npb24uc2V0Qm91bmRpbmdDbGllbnRSZWN0KHVuZGVmaW5lZCwgYW5zd2VySW5wdXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdCk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGVmYXVsdENvbXBvbmVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGlsZENvbXBvbmVudCh0aGlzLmFuc3dlcktleSk7XHJcbiAgICB9XHJcblxyXG4gICAgYW5zd2VySXNSaWdodCgpIHtcclxuICAgICAgICBjb25zdCBhbnN3ZXIgPSB0aGlzLmdldENoaWxkQ29tcG9uZW50KHRoaXMuYW5zd2VyS2V5KS5nZXRUZXh0KCkudHJpbSgpLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAgIHJldHVybiBhbnN3ZXIgPT09IHRoaXMuYW5zd2VyO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBMYWJlbCBmcm9tICcuLi8uLi9Db21wb25lbnQvTGFiZWwnO1xyXG5pbXBvcnQgZGljdGlvbmFyeSBmcm9tICcuLi8uLi8uLi9kaWN0aW9uYXJpZXMvZGljdGlvbmFyeSc7XHJcbmltcG9ydCBUYXNrTW9kYWxXaW5kb3cgZnJvbSAnLi9UYXNrTW9kYWxXaW5kb3cnO1xyXG5pbXBvcnQgSW1hZ2VDb21wb25lbnQgZnJvbSAnLi4vLi4vSW1hZ2VDb21wb25lbnQvSW1hZ2VDb21wb25lbnQnO1xyXG5cclxuaW1wb3J0IHsgZ2V0VGV4dFdpZHRoV2l0aENhbnZhcyB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3RleHRXaWR0aCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnNlcnRNaXNzZWRMZXR0ZXJUYXNrTW9kYWxXaW5kb3cgZXh0ZW5kcyBUYXNrTW9kYWxXaW5kb3cge1xyXG4gICAgY29uc3RydWN0b3IodG9wID0gMCwgbGVmdCA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgYWRkaXRpb25hbFJlc291cmNlcyA9IHt9LCBwYXJlbnRDb21wb25lbnQgPSBudWxsKSB7XHJcbiAgICAgICAgc3VwZXIodG9wLCBsZWZ0LCB3aWR0aCwgaGVpZ2h0LCAn0J3QsNC/0LjRiNC4INC/0YDQvtC/0YPRidC10L3Rg9GOINCx0YPQutCy0YM6JywgYWRkaXRpb25hbFJlc291cmNlcywgcGFyZW50Q29tcG9uZW50KTtcclxuXHJcbiAgICAgICAgY29uc3Qgd29yZCA9IGRpY3Rpb25hcnlbTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKGRpY3Rpb25hcnkubGVuZ3RoIC0gMSkpXS53b3JkO1xyXG4gICAgICAgIGNvbnN0IHdvcmRJbmRleCA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqICh3b3JkLmxlbmd0aCAtIDEpKTtcclxuXHJcbiAgICAgICAgdGhpcy5hbnN3ZXIgPSB3b3JkW3dvcmRJbmRleF07XHJcblxyXG4gICAgICAgIGNvbnN0IHRleHRGaWVsZEltYWdlID0gYWRkaXRpb25hbFJlc291cmNlcy5pbWFnZXMudGV4dEZpZWxkSW1hZ2U7XHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGg6IHRleHRGaWVsZFdpZHRoLCBuYXR1cmFsSGVpZ2h0OiB0ZXh0RmllbGRIZWlnaHQgfSA9IHRleHRGaWVsZEltYWdlO1xyXG5cclxuICAgICAgICBjb25zdCBsYWJlbFRleHQgPSBgJHt3b3JkLnJlcGxhY2Uod29yZFt3b3JkSW5kZXhdLCAnPycpfTogYDtcclxuXHJcbiAgICAgICAgY29uc3QgaGFsZkhlaWdodCA9IE1hdGguY2VpbChoZWlnaHQgLyAyKTtcclxuICAgICAgICBjb25zdCBoYWxmRXhwcmVzc2lvbldpZHRoID0gTWF0aC5jZWlsKChnZXRUZXh0V2lkdGhXaXRoQ2FudmFzKGxhYmVsVGV4dCwgJ21vbm9zcGFjZScsICcxNnB4JykgKyAxKSAvIDIpO1xyXG4gICAgICAgIGNvbnN0IGhhbGZUZXh0RmllbGRIZWlnaHQgPSBNYXRoLnJvdW5kKHRleHRGaWVsZEhlaWdodCAvIDIpO1xyXG4gICAgICAgIGNvbnN0IGV4cHJlc3Npb24gPSBuZXcgTGFiZWwoaGFsZkhlaWdodCAtIHRleHRGaWVsZEhlaWdodCAtIGhhbGZUZXh0RmllbGRIZWlnaHQsIDUsIGhhbGZFeHByZXNzaW9uV2lkdGggKiAyLCB0ZXh0RmllbGRIZWlnaHQsIGxhYmVsVGV4dCk7XHJcbiAgICAgICAgY29uc3QgYW5zd2VySW5wdXQgPSBuZXcgTGFiZWwoaGFsZkhlaWdodCAtIGhhbGZUZXh0RmllbGRIZWlnaHQsIDUsdGV4dEZpZWxkV2lkdGgsIHRleHRGaWVsZEhlaWdodCwgJycpO1xyXG5cclxuICAgICAgICBhbnN3ZXJJbnB1dC5lZGl0YWJsZSA9IHRydWU7XHJcbiAgICAgICAgYW5zd2VySW5wdXQudGFiYWJsZSA9IHRydWU7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuZHJhd0JvcmRlciA9IHRydWU7XHJcbiAgICAgICAgYW5zd2VySW5wdXQuc2V0QmFja2dyb3VuZENvbG9yKCcjYmIwMDAwJyk7XHJcblxyXG4gICAgICAgIGFuc3dlcklucHV0Lm1heFRleHRMZW5ndGggPSAxO1xyXG4gICAgICAgIGFuc3dlcklucHV0LnNldEJhY2tncm91bmRJbWFnZShuZXcgSW1hZ2VDb21wb25lbnQodGV4dEZpZWxkSW1hZ2UsIDAsIDAsIHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQsIHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQsIDAsIDAsIHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQpKTtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5zZXRUZXh0Q29sb3IoJyNGRkZGMDAnKTtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5jdXJzb3Iuc2V0Q29sb3IoJyMwOEI2MDAnKTtcclxuICAgICAgICBleHByZXNzaW9uLnNldEJhY2tncm91bmRDb2xvcigncmdiYSgwLCAwLCAwLCAwKScpO1xyXG4gICAgICAgIGV4cHJlc3Npb24uc2V0VGV4dENvbG9yKCcjZmZmZmZmJyk7XHJcblxyXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb25LZXkgPSAnZGVzY3JpcHRpb24nO1xyXG4gICAgICAgIHRoaXMuZXhwcmVzc2lvbktleSA9ICdleHByZXNzaW9uJztcclxuICAgICAgICB0aGlzLmFuc3dlcktleSA9ICdhbnN3ZXInO1xyXG4gICAgICAgIHRoaXMuYnV0dG9uS2V5ID0gJ2J1dHRvbic7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGV4cHJlc3Npb24sIHRoaXMuZXhwcmVzc2lvbktleSk7XHJcbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoYW5zd2VySW5wdXQsIHRoaXMuYW5zd2VyS2V5KTtcclxuICAgICAgICBhbnN3ZXJJbnB1dC5hbGlnbkNlbnRlcigpO1xyXG5cclxuICAgICAgICBleHByZXNzaW9uLnNldEJvdW5kaW5nQ2xpZW50UmVjdCh1bmRlZmluZWQsIGFuc3dlcklucHV0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERlZmF1bHRDb21wb25lbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5hbnN3ZXJLZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIGFuc3dlcklzUmlnaHQoKSB7XHJcbiAgICAgICAgY29uc3QgYW5zd2VyID0gdGhpcy5nZXRDaGlsZENvbXBvbmVudCh0aGlzLmFuc3dlcktleSkuZ2V0VGV4dCgpLnRvTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgICAgIHJldHVybiBhbnN3ZXIgPT09IHRoaXMuYW5zd2VyO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIE1hZ2ljIHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGRhbWFnZSwgbWFnaWNHcmFwaGljQ29tcG9uZW50KSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLmRhbWFnZSA9IGRhbWFnZTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmdyYXBoaWNDb21wb25lbnQgPSBtYWdpY0dyYXBoaWNDb21wb25lbnRcclxuICAgIH1cclxuXHJcbiAgICBnZXRHcmFwaGljQ29tcG9uZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdyYXBoaWNDb21wb25lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TmFtZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERhbWFnZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYW1hZ2U7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IE1hZ2ljIGZyb20gJy4vTWFnaWMnO1xyXG5pbXBvcnQgZXZlbnRzIGZyb20gJy4uL2V2ZW50L2V2ZW50cy9ldmVudHMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFnaWNBcnJvdyBleHRlbmRzIE1hZ2ljIHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGRhbWFnZSwgbWFnaWNHcmFwaGljQ29tcG9uZW50LCBhdHRhY2tBbmltYXRpb25zLCBzb3VuZCkge1xyXG4gICAgICAgIHN1cGVyKG5hbWUsIGRhbWFnZSwgbWFnaWNHcmFwaGljQ29tcG9uZW50KTtcclxuICAgICAgICB0aGlzLmF0dGFja0FuaW1hdGlvbnMgPSBhdHRhY2tBbmltYXRpb25zO1xyXG5cclxuICAgICAgICB0aGlzLm1vdmVJbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy5leHBsb3Npb25JbmRleCA9IDE7XHJcblxyXG4gICAgICAgIHRoaXMuc291bmQgPSBzb3VuZDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRHcmFwaGljQ29tcG9uZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdyYXBoaWNDb21wb25lbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TmFtZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERhbWFnZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYW1hZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgYXJyb3dNb3ZlKGVuZW15TGVmdCwgY2hhcmFjdGVyV2lkdGgsIGNoYXJhY3RlckxlZnQsIGNhbnZhcykge1xyXG4gICAgICAgIGNvbnN0IG1vdmVBbmltYXRpb24gPSB0aGlzLmF0dGFja0FuaW1hdGlvbnNbdGhpcy5tb3ZlSW5kZXhdO1xyXG5cclxuICAgICAgICBsZXQgZGlmID0gZW5lbXlMZWZ0IC0gY2hhcmFjdGVyTGVmdCArIE1hdGguZmxvb3IoY2hhcmFjdGVyV2lkdGggLyA0KTtcclxuXHJcbiAgICAgICAgbW92ZUFuaW1hdGlvbi5hbmltYXRpb25zLnNldEFuaW1hdGlvbignbW92ZScsIDAuOTI0LCAxLCAoY29udGV4dCwgaW5pdGlhbFByb3BlcnRpZXMsIHByb3BlcnRpZXMsIGVsYXBzZVRpbWUsIGNvbXBvbmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb21wb25lbnQuYmFja2dyb3VuZEltYWdlLnNldEZyYW1lKGVsYXBzZVRpbWUpO1xyXG4gICAgICAgICAgICBjb21wb25lbnQuc2V0Qm91bmRpbmdDbGllbnRSZWN0KHVuZGVmaW5lZCwgY2hhcmFjdGVyTGVmdCArIGRpZiAqIGVsYXBzZVRpbWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgbW92ZUFuaW1hdGlvbi5hZGRFdmVudExpc3RlbmVyKGV2ZW50cy5BTklNQVRJT04uQU5JTUFUSU9OX0VORCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLnJlbW92ZVNjZW5lKG1vdmVBbmltYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBleHBsb2RlKGNhbnZhcykge1xyXG4gICAgICAgIGNvbnN0IGV4cGxvc2lvbkFuaW1hdGlvbiA9IHRoaXMuYXR0YWNrQW5pbWF0aW9uc1t0aGlzLmV4cGxvc2lvbkluZGV4XTtcclxuXHJcbiAgICAgICAgZXhwbG9zaW9uQW5pbWF0aW9uLmFuaW1hdGlvbnMuc2V0QW5pbWF0aW9uKCdleHBsb2RlJywgMC45MjQsIDEsIChjb250ZXh0LCBpbml0aWFsUHJvcGVydGllcywgcHJvcGVydGllcywgZWxhcHNlVGltZSwgY29tcG9uZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudC5iYWNrZ3JvdW5kSW1hZ2Uuc2V0RnJhbWUoZWxhcHNlVGltZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xyXG4gICAgICAgICAgICBleHBsb3Npb25BbmltYXRpb24uYWRkRXZlbnRMaXN0ZW5lcihldmVudHMuQU5JTUFUSU9OLkFOSU1BVElPTl9FTkQsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNhbnZhcy5yZW1vdmVTY2VuZShleHBsb3Npb25BbmltYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBhdHRhY2soY2hhcmFjdGVyLCBlbmVteSwgY2FudmFzKSB7XHJcbiAgICAgICAgY29uc3QgbW92ZUFuaW1hdGlvbiA9IHRoaXMuYXR0YWNrQW5pbWF0aW9uc1t0aGlzLm1vdmVJbmRleF07XHJcbiAgICAgICAgY29uc3QgZXhwbG9zaW9uQW5pbWF0aW9uID0gdGhpcy5hdHRhY2tBbmltYXRpb25zW3RoaXMuZXhwbG9zaW9uSW5kZXhdO1xyXG5cclxuICAgICAgICBjb25zdCB7IGxlZnQ6IGNoYXJhY3RlckxlZnQsIHdpZHRoOiBjaGFyYWN0ZXJXaWR0aCB9ID0gY2hhcmFjdGVyLmdldEdyYXBoaWNDb21wb25lbnQoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBjb25zdCB7IHRvcDogZW5lbXlUb3AsIGxlZnQ6IGVuZW15TGVmdCwgaGVpZ2h0OiBlbmVteUhlaWdodCB9ID0gZW5lbXkuZ2V0R3JhcGhpY0NvbXBvbmVudCgpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuICAgICAgICBtb3ZlQW5pbWF0aW9uLnNldEJvdW5kaW5nQ2xpZW50UmVjdChlbmVteVRvcCArIE1hdGguZmxvb3IoZW5lbXlIZWlnaHQgLyAyKSwgY2hhcmFjdGVyTGVmdCk7XHJcblxyXG4gICAgICAgIGNhbnZhcy5hZGRTY2VuZShtb3ZlQW5pbWF0aW9uKTtcclxuXHJcbiAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCk7XHJcblxyXG4gICAgICAgIGF3YWl0IHRoaXMuYXJyb3dNb3ZlKGVuZW15TGVmdCwgY2hhcmFjdGVyV2lkdGgsIGNoYXJhY3RlckxlZnQsIGNhbnZhcyk7XHJcblxyXG4gICAgICAgIGV4cGxvc2lvbkFuaW1hdGlvbi5zZXRCb3VuZGluZ0NsaWVudFJlY3QoZW5lbXlUb3AgKyBNYXRoLmZsb29yKGVuZW15SGVpZ2h0IC8gMiksIGVuZW15TGVmdCArIE1hdGguZmxvb3IoY2hhcmFjdGVyV2lkdGggLyA0KSk7XHJcblxyXG4gICAgICAgIGNhbnZhcy5hZGRTY2VuZShleHBsb3Npb25BbmltYXRpb24pO1xyXG5cclxuICAgICAgICBhd2FpdCB0aGlzLmV4cGxvZGUoY2FudmFzKTsgICAgICAgIFxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBNYWdpYyBmcm9tICcuL01hZ2ljJztcclxuaW1wb3J0IGV2ZW50cyBmcm9tICcuLi9ldmVudC9ldmVudHMvZXZlbnRzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEltcGxvc2lvbiBleHRlbmRzIE1hZ2ljIHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGRhbWFnZSwgbWFnaWNHcmFwaGljQ29tcG9uZW50LCBhdHRhY2tBbmltYXRpb25zLCBzb3VuZCkge1xyXG4gICAgICAgIHN1cGVyKG5hbWUsIGRhbWFnZSwgbWFnaWNHcmFwaGljQ29tcG9uZW50KTtcclxuICAgICAgICB0aGlzLmF0dGFja0FuaW1hdGlvbnMgPSBhdHRhY2tBbmltYXRpb25zO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuaW1wbG9zaW9uSW5kZXggPSAwO1xyXG5cclxuICAgICAgICB0aGlzLnNvdW5kID0gc291bmQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0R3JhcGhpY0NvbXBvbmVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ncmFwaGljQ29tcG9uZW50O1xyXG4gICAgfVxyXG5cclxuICAgIGdldE5hbWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREYW1hZ2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZGFtYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGF0dGFjayhjaGFyYWN0ZXIsIGVuZW15LCBjYW52YXMpIHtcclxuICAgICAgICBjb25zdCB7IHRvcDogZW5lbXlUb3AsIGxlZnQ6IGVuZW15TGVmdCwgd2lkdGg6IGVuZW15V2lkdGggfSA9IGVuZW15LmdldEdyYXBoaWNDb21wb25lbnQoKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBjb25zdCBpbXBsb3Npb25BbmltYXRpb24gPSB0aGlzLmF0dGFja0FuaW1hdGlvbnNbdGhpcy5pbXBsb3Npb25JbmRleF07XHJcblxyXG4gICAgICAgIGltcGxvc2lvbkFuaW1hdGlvbi5hbmltYXRpb25zLnNldEFuaW1hdGlvbignaW1wbG9zaW9uJywgMC45MjQsIDEsIChjb250ZXh0LCBpbml0aWFsUHJvcGVydGllcywgcHJvcGVydGllcywgZWxhcHNlVGltZSwgZSkgPT4ge1xyXG4gICAgICAgICAgICBlLmJhY2tncm91bmRJbWFnZS5zZXRGcmFtZShlbGFwc2VUaW1lKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaW1wbG9zaW9uQW5pbWF0aW9uLnNldEJvdW5kaW5nQ2xpZW50UmVjdChlbmVteVRvcCwgTWF0aC5mbG9vcihlbmVteUxlZnQgKyBlbmVteVdpZHRoIC8gMykpO1xyXG5cclxuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoKTtcclxuICAgICAgICBjYW52YXMuYWRkU2NlbmUoaW1wbG9zaW9uQW5pbWF0aW9uKTtcclxuXHJcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgaW1wbG9zaW9uQW5pbWF0aW9uLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLkFOSU1BVElPTi5BTklNQVRJT05fRU5ELCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2FudmFzLnJlbW92ZVNjZW5lKGltcGxvc2lvbkFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pOyAgICAgICAgXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IEltYWdlQ29tcG9uZW50IGZyb20gXCIuLi9VSS9JbWFnZUNvbXBvbmVudC9JbWFnZUNvbXBvbmVudFwiO1xyXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi4vVUkvQ29tcG9uZW50L0NvbXBvbmVudFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFnaWNHcmFwaGljQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHRvcCwgbGVmdCwgc2NhbGUsIG1hZ2ljSW1nLCBwYXJlbnRDb21wb25lbnQgPSBudWxsKSB7XHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGgsIG5hdHVyYWxIZWlnaHQgfSA9IG1hZ2ljSW1nO1xyXG4gICAgICAgIGNvbnN0IHNjYWxlZFdpZHRoID0gbmF0dXJhbFdpZHRoICogc2NhbGU7XHJcbiAgICAgICAgY29uc3Qgc2NhbGVkSGVpZ2h0ID0gbmF0dXJhbEhlaWdodCAqIHNjYWxlO1xyXG5cclxuICAgICAgICBzdXBlcih0b3AsIGxlZnQsIHNjYWxlZFdpZHRoLCBzY2FsZWRIZWlnaHQsIHBhcmVudENvbXBvbmVudCk7XHJcblxyXG4gICAgICAgIGlmIChtYWdpY0ltZyBpbnN0YW5jZW9mIEltYWdlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0QmFja2dyb3VuZEltYWdlKG5ldyBJbWFnZUNvbXBvbmVudChtYWdpY0ltZywgMCwgMCwgbmF0dXJhbFdpZHRoLCBuYXR1cmFsSGVpZ2h0LCBzY2FsZWRXaWR0aCwgc2NhbGVkSGVpZ2h0LCAwLCAwLCBuYXR1cmFsV2lkdGgsIG5hdHVyYWxIZWlnaHQpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucHJvcGVydGllcy5jdXJzb3IgPSAncG9pbnRlcic7XHJcbiAgICB9IFxyXG59XHJcbiIsImltcG9ydCBNYWdpY0Fycm93IGZyb20gJy4uL01hZ2ljL01hZ2ljQXJyb3cnO1xyXG5pbXBvcnQgSW1wbG9zaW9uIGZyb20gJy4uL01hZ2ljL0ltcGxvc2lvbic7XHJcbmltcG9ydCBJbWFnZUNvbXBvbmVudCBmcm9tICcuLi9VSS9JbWFnZUNvbXBvbmVudC9JbWFnZUNvbXBvbmVudCc7XHJcbmltcG9ydCBNYWdpY0dyYXBoaWNDb21wb25lbnQgZnJvbSAnLi4vR3JhcGhpY0NvbXBvbmVudC9NYWdpY0dyYXBoaWNDb21wb25lbnQnO1xyXG5cclxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi4vVUkvQ29tcG9uZW50L0NvbXBvbmVudCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWdpY0ZhY3Rvcnkge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5hc3NldHMgPSB7fTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRNYWdpY0Fzc2V0cyhpbWFnZXMsIHNvdW5kLCBuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5hc3NldHNbbmFtZV0gPSB7XHJcbiAgICAgICAgICAgIGltYWdlcyxcclxuICAgICAgICAgICAgc291bmRcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZU1hZ2ljQXJyb3coZGFtYWdlLCBmb3JFbmVteSA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmFzc2V0cy5tYWdpY0Fycm93KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdG9wID0gMTA7XHJcbiAgICAgICAgY29uc3QgbGVmdCA9IDEwO1xyXG4gICAgICAgIGNvbnN0IHNjYWxlID0gMjtcclxuXHJcbiAgICAgICAgY29uc3QgaW1hZ2VzID0gdGhpcy5hc3NldHMubWFnaWNBcnJvdy5pbWFnZXM7XHJcblxyXG4gICAgICAgIGNvbnN0IGljb25JbWFnZSA9IGltYWdlc1swXTtcclxuICAgICAgICBjb25zdCBibG93QW5pbWF0aW9uSW1nID0gaW1hZ2VzWzNdO1xyXG4gICAgICAgIGxldCBtb3ZpbmdBbmltYXRpb25JbWcgPSBpbWFnZXNbMV07XHJcblxyXG4gICAgICAgIGlmIChmb3JFbmVteSkge1xyXG4gICAgICAgICAgICBtb3ZpbmdBbmltYXRpb25JbWcgPSBpbWFnZXNbMl07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgeyBuYXR1cmFsV2lkdGgsIG5hdHVyYWxIZWlnaHQgfSA9IG1vdmluZ0FuaW1hdGlvbkltZztcclxuXHJcbiAgICAgICAgY29uc3QgYW5pbWF0aW9uRnJhbWVzQ291bnQgPSAxNDtcclxuICAgICAgICBjb25zdCBtYWdpY01vdmluZ0FuaW1hdGlvbiA9IG5ldyBJbWFnZUNvbXBvbmVudChtb3ZpbmdBbmltYXRpb25JbWcsIDAsIDAsIG5hdHVyYWxXaWR0aCAsIG5hdHVyYWxIZWlnaHQsIG5hdHVyYWxXaWR0aCAvIGFuaW1hdGlvbkZyYW1lc0NvdW50LCBuYXR1cmFsSGVpZ2h0LCAwLCAwLCBuYXR1cmFsV2lkdGggLyBhbmltYXRpb25GcmFtZXNDb3VudCwgbmF0dXJhbEhlaWdodCk7XHJcblxyXG4gICAgICAgIGNvbnN0IG1vdmluZ0FuaW1hdGlvbiA9IG5ldyBDb21wb25lbnQoMCwgMCwgbmF0dXJhbFdpZHRoIC8gYW5pbWF0aW9uRnJhbWVzQ291bnQsIG5hdHVyYWxIZWlnaHQpO1xyXG4gICAgICAgIG1vdmluZ0FuaW1hdGlvbi5zZXRCYWNrZ3JvdW5kSW1hZ2UobWFnaWNNb3ZpbmdBbmltYXRpb24pO1xyXG4gICAgICAgIFxyXG4gICAgICAgICh7bmF0dXJhbFdpZHRoLCBuYXR1cmFsSGVpZ2h0IH0gPSBibG93QW5pbWF0aW9uSW1nKTtcclxuXHJcbiAgICAgICAgY29uc3QgbWFnaWNCbG93QW5pbWF0aW9uID0gbmV3IEltYWdlQ29tcG9uZW50KGJsb3dBbmltYXRpb25JbWcsIDAsIDAsIG5hdHVyYWxXaWR0aCAsIG5hdHVyYWxIZWlnaHQsIG5hdHVyYWxXaWR0aCAvIGFuaW1hdGlvbkZyYW1lc0NvdW50LCBuYXR1cmFsSGVpZ2h0LCAwLCAwLCBuYXR1cmFsV2lkdGggLyBhbmltYXRpb25GcmFtZXNDb3VudCwgbmF0dXJhbEhlaWdodCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IG5ldyBDb21wb25lbnQoMCwgMCwgbmF0dXJhbFdpZHRoIC8gYW5pbWF0aW9uRnJhbWVzQ291bnQsIG5hdHVyYWxIZWlnaHQpO1xyXG4gICAgICAgIGFuaW1hdGlvbi5zZXRCYWNrZ3JvdW5kSW1hZ2UobWFnaWNCbG93QW5pbWF0aW9uKTtcclxuXHJcbiAgICAgICAgY29uc3QgZ3JhcGhpY0NvbXBvbmVudEluU2VsZWN0aW5nV2luZG93ID0gbmV3IE1hZ2ljR3JhcGhpY0NvbXBvbmVudCh0b3AsIGxlZnQsIHNjYWxlLCBpY29uSW1hZ2UpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBuZXcgTWFnaWNBcnJvdygn0JLQvtC70YjQtdCx0L3QsNGPINGB0YLRgNC10LvQsCcsIGRhbWFnZSwgZ3JhcGhpY0NvbXBvbmVudEluU2VsZWN0aW5nV2luZG93LCBbbW92aW5nQW5pbWF0aW9uLCBhbmltYXRpb25dLCB0aGlzLmFzc2V0cy5tYWdpY0Fycm93LnNvdW5kKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVJbXBsb3Npb25BcnJvdyhkYW1hZ2UpIHtcclxuICAgICAgICBpZiAoIXRoaXMuYXNzZXRzLmltcGxvc2lvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHRvcCA9IDEwO1xyXG4gICAgICAgIGNvbnN0IGxlZnQgPSAxMDtcclxuICAgICAgICBjb25zdCBzY2FsZSA9IDI7XHJcblxyXG4gICAgICAgIGNvbnN0IGltYWdlcyA9IHRoaXMuYXNzZXRzLmltcGxvc2lvbi5pbWFnZXM7XHJcblxyXG4gICAgICAgIGNvbnN0IGljb25JbWFnZSA9IGltYWdlc1swXTtcclxuICAgICAgICBjb25zdCBibG93QW5pbWF0aW9uSW1nID0gaW1hZ2VzWzFdO1xyXG5cclxuICAgICAgICBsZXQgeyBuYXR1cmFsV2lkdGgsIG5hdHVyYWxIZWlnaHQgfSA9IGJsb3dBbmltYXRpb25JbWc7XHJcblxyXG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbkZyYW1lc0NvdW50ID0gMTk7XHJcbiAgICAgICAgY29uc3QgbWFnaWNCbG93QW5pbWF0aW9uID0gbmV3IEltYWdlQ29tcG9uZW50KGJsb3dBbmltYXRpb25JbWcsIDAsIDAsIG5hdHVyYWxXaWR0aCAsIG5hdHVyYWxIZWlnaHQsIG5hdHVyYWxXaWR0aCAvIGFuaW1hdGlvbkZyYW1lc0NvdW50LCBuYXR1cmFsSGVpZ2h0LCAwLCAwLCBuYXR1cmFsV2lkdGggLyBhbmltYXRpb25GcmFtZXNDb3VudCwgbmF0dXJhbEhlaWdodCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbiA9IG5ldyBDb21wb25lbnQoMCwgMCwgbmF0dXJhbFdpZHRoIC8gYW5pbWF0aW9uRnJhbWVzQ291bnQsIG5hdHVyYWxIZWlnaHQpO1xyXG4gICAgICAgIGFuaW1hdGlvbi5zZXRCYWNrZ3JvdW5kSW1hZ2UobWFnaWNCbG93QW5pbWF0aW9uKTtcclxuXHJcbiAgICAgICAgY29uc3QgZ3JhcGhpY0NvbXBvbmVudEluU2VsZWN0aW5nV2luZG93ID0gbmV3IE1hZ2ljR3JhcGhpY0NvbXBvbmVudCh0b3AsIGxlZnQsIHNjYWxlLCBpY29uSW1hZ2UpO1xyXG4gICAgICAgIHJldHVybiBuZXcgSW1wbG9zaW9uKCfQktC30YDRi9CyJywgZGFtYWdlLCBncmFwaGljQ29tcG9uZW50SW5TZWxlY3RpbmdXaW5kb3csIFthbmltYXRpb25dLCB0aGlzLmFzc2V0cy5pbXBsb3Npb24uc291bmQpO1xyXG4gICAgfVxyXG59IFxyXG4iLCJpbXBvcnQgSW1hZ2VDb21wb25lbnQgZnJvbSAnLi4vVUkvSW1hZ2VDb21wb25lbnQvSW1hZ2VDb21wb25lbnQnO1xyXG5cclxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi4vVUkvQ29tcG9uZW50L0NvbXBvbmVudCc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNb25zdGVyR3JhcGhpY0NvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0b3AsIGxlZnQsIGNoYXJhY3RlckltZywgcGFyZW50Q29tcG9uZW50ID0gbnVsbCkge1xyXG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoLCBuYXR1cmFsSGVpZ2h0IH0gPSBjaGFyYWN0ZXJJbWc7XHJcblxyXG4gICAgICAgIHN1cGVyKHRvcCwgbGVmdCwgbmF0dXJhbFdpZHRoLCBuYXR1cmFsSGVpZ2h0LCBwYXJlbnRDb21wb25lbnQpO1xyXG5cclxuICAgICAgICB0aGlzLnNldEJhY2tncm91bmRJbWFnZShuZXcgSW1hZ2VDb21wb25lbnQoY2hhcmFjdGVySW1nLCAwLCAwLCBuYXR1cmFsV2lkdGgsIG5hdHVyYWxIZWlnaHQsIG5hdHVyYWxXaWR0aCwgbmF0dXJhbEhlaWdodCwgMCwgMCwgbmF0dXJhbFdpZHRoLCBuYXR1cmFsSGVpZ2h0KSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgR2FtZSBmcm9tICcuL0dhbWUvR2FtZSc7XHJcblxyXG5jb25zdCB0YWIgPSA5O1xyXG5jb25zdCBzcGFjZSA9IDMyO1xyXG5jb25zdCBsZWZ0QXJyb3cgPSAzNztcclxuY29uc3QgdXBBcnJvdyA9IDM4O1xyXG5jb25zdCByaWdodEFycm93ID0gMzk7XHJcbmNvbnN0IGRvd25BcnJvdyA9IDQwO1xyXG5cclxud2luZG93Lm9ubG9hZCA9ICgpID0+IHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYoW3RhYiwgc3BhY2UsIGxlZnRBcnJvdywgdXBBcnJvdywgcmlnaHRBcnJvdywgZG93bkFycm93XS5pbmRleE9mKGUua2V5Q29kZSkgPiAtMSkge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgZmFsc2UpO1xyXG5cclxuICAgIGNvbnN0IGdhbWUgPSBuZXcgR2FtZSgpO1xyXG4gfTtcclxuICIsImltcG9ydCBDYW52YXMgZnJvbSAnLi4vQ2FudmFzL0NhbnZhcyc7XHJcbmltcG9ydCBFdmVudFF1ZXVlIGZyb20gJy4uL2V2ZW50L0V2ZW50UXVldWUvRXZlbnRRdWV1ZSc7XHJcbmltcG9ydCBldmVudHMgZnJvbSAnLi4vZXZlbnQvZXZlbnRzL2V2ZW50cyc7XHJcbmltcG9ydCBVSSBmcm9tICcuLi9VSS9VSSc7XHJcbmltcG9ydCBMYWJlbCBmcm9tICcuLi9VSS9Db21wb25lbnQvTGFiZWwnO1xyXG5pbXBvcnQgSW1hZ2VDb21wb25lbnQgZnJvbSAnLi4vVUkvSW1hZ2VDb21wb25lbnQvSW1hZ2VDb21wb25lbnQnO1xyXG5pbXBvcnQgVGV4dElucHV0TW9kYWxXaW5kb3cgZnJvbSAnLi4vVUkvTW9kYWxXaW5kb3dzL1RleHRJbnB1dE1vZGFsV2luZG93L1RleHRJbnB1dE1vZGFsV2luZG93JztcclxuaW1wb3J0IE1hZ2ljU2VsZWN0aW5nTW9kYWxXaW5kb3cgZnJvbSAnLi4vVUkvTW9kYWxXaW5kb3dzL01hZ2ljU2VsZWN0aW5nTW9kYWxXaW5kb3cnO1xyXG5pbXBvcnQgTG9hZGluZ1NjcmVlbiBmcm9tICcuLi9VSS9Mb2FkaW5nU2NyZWVuL0xvYWRpbmdTY3JlZW4nO1xyXG5pbXBvcnQgU3RhdHVzQmFyIGZyb20gJy4uL1VJL0NvbXBvbmVudC9TdGF0dXNCYXInO1xyXG5pbXBvcnQgQ2hhcmFjdGVySW5mb1dpbmRvdyBmcm9tICcuLi9VSS9Db21wb25lbnQvQ2hhcmFjdGVySW5mb1dpbmRvdyc7XHJcbmltcG9ydCBUYWJsZSBmcm9tICcuLi9VSS9Db21wb25lbnQvVGFibGUnO1xyXG5pbXBvcnQgTG9hZE1hbmFnZXIgZnJvbSAnLi4vTWFuYWdlcnMvTG9hZE1hbmFnZXInO1xyXG5pbXBvcnQgU3RvcmFnZU1hbmFnZXIgZnJvbSAnLi4vTWFuYWdlcnMvU3RvcmFnZU1hbmFnZXInO1xyXG5pbXBvcnQgUEFUSCBmcm9tICcuLi9wYXRoL3BhdGgnO1xyXG5pbXBvcnQgTW9uc3RlckZhY3RvcnkgZnJvbSAnLi4vRmFjdG9yaWVzL01vbnN0ZXJGYWN0b3J5JztcclxuaW1wb3J0IFRhc2tGYWN0b3J5IGZyb20gJy4uL0ZhY3Rvcmllcy9UYXNrRmFjdG9yeSc7XHJcbmltcG9ydCBNYWdpY0ZhY3RvcnkgZnJvbSAnLi4vRmFjdG9yaWVzL01hZ2ljRmFjdG9yeSc7XHJcbmltcG9ydCBQbGF5ZXJHcmFwaGljQ29tcG9uZW50IGZyb20gJy4uL0dyYXBoaWNDb21wb25lbnQvUGxheWVyR3JhcGNoaWNDb21wb25lbnQnO1xyXG5pbXBvcnQgQ2hhcmFjdGVyIGZyb20gJy4uL0NoYXJhY3Rlci9DaGFyYWN0ZXInO1xyXG5pbXBvcnQgbmFtZVRhc2tNYXAgZnJvbSAnLi4vZGljdGlvbmFyaWVzL25hbWVUYXNrTWFwJztcclxuaW1wb3J0IGNvdW50cnlNYXAgZnJvbSAnLi4vZGljdGlvbmFyaWVzL2NvdW50cnlNYXAnO1xyXG5cclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnLi4vVUkvQ29tcG9uZW50L0NvbXBvbmVudCc7XHJcbmltcG9ydCB7IENvbXBvbmVudCwgQ29tcG9zaXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vVUkvQ29tcG9uZW50L0NvbXBvbmVudCc7XHJcbmltcG9ydCB7IGdldFRleHRXaWR0aFdpdGhDYW52YXMgfSBmcm9tICcuLi91dGlscy90ZXh0V2lkdGgnO1xyXG5pbXBvcnQgeyBjcmVhdGVGaWxlUHJvbWlzZSB9IGZyb20gJy4uL3V0aWxzL2ZpbGUnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmluaXRUZXh0S2V5cygpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWRNYW5hZ2VyID0gbmV3IExvYWRNYW5hZ2VyKCk7XHJcbiAgICAgICAgdGhpcy5zdG9yYWdlTWFuYWdlciA9IG5ldyBTdG9yYWdlTWFuYWdlcigpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbnZhcyA9IG5ldyBDYW52YXMoKTtcclxuICAgICAgICB0aGlzLmV2ZW50UXVldWUgPSBuZXcgRXZlbnRRdWV1ZSgpO1xyXG4gICAgICAgIHRoaXMudWkgPSBuZXcgVUkodGhpcy5jYW52YXMpO1xyXG4gICAgICAgIHRoaXMudWlDb21wb25lbnRzO1xyXG5cclxuICAgICAgICBjb25zdCB7IHdpZHRoOiBjYW52YXNXaWR0aCwgaGVpZ2h0OiBjYW52YXNIZWlnaHQgfSA9IHRoaXMuY2FudmFzLmdldFNpemUoKTtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSBuZXcgQ29tcG9uZW50KDAsIDAsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpO1xyXG5cclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5tYWluID0gdGhpcy5tYWluLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5tYWluKDApO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRUZXh0S2V5cygpIHtcclxuICAgICAgICB0aGlzLmJhY2tncm91bmRJbWdzS2V5ID0gJ2JhY2tncm91bmQnO1xyXG4gICAgICAgIHRoaXMubWFpbkNoYXJJbWdzS2V5ID0gJ21haW5jaGFyJztcclxuICAgICAgICB0aGlzLmhlYWRJbWdzS2V5ID0gJ2hlYWRzJztcclxuICAgICAgICB0aGlzLmJvZHlJbWdzS2V5ID0gJ2JvZGllcyc7XHJcbiAgICAgICAgdGhpcy5sZWZ0QXJtSW1nc0tleSA9ICdsZWZ0YXJtcyc7XHJcbiAgICAgICAgdGhpcy5yaWdodEFybUltZ3NLZXkgPSAncmlnaHRhcm1zJztcclxuICAgICAgICB0aGlzLmxlZ0ltZ3NLZXkgPSAnbGVncyc7XHJcbiAgICAgICAgdGhpcy5tYWdpY0ltZ3NLZXkgPSAnbWFnaWNzJztcclxuICAgICAgICB0aGlzLnVpSW1nc0tleSA9ICd1aSc7XHJcbiAgICAgICAgdGhpcy50YXNrSW1nc0tleSA9ICd0YXNrJztcclxuXHJcbiAgICAgICAgdGhpcy5tYWdpY1NvdW5kS2V5ID0gJ21hZ2ljcyc7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhdHVzQmFyS2V5ID0gJ3N0YXR1c2Jhcic7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgaW5pdCgpIHtcclxuICAgICAgICBjb25zdCBsb2FkaW5nU2NyZWVuID0gYXdhaXQgdGhpcy5zaG93TG9hZGluZ1NjcmVlbigpO1xyXG4gICAgICAgIGNvbnN0IGxvYWRpbmdQcm9ncmVzc0JhciA9IGxvYWRpbmdTY3JlZW4uZ2V0TG9hZGluZ1Byb2dyZXNzQmFyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdExvYWRpbmdQYXRoKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxvYWRNYW5hZ2VyID0gdGhpcy5sb2FkTWFuYWdlcjtcclxuXHJcbiAgICAgICAgYXdhaXQgbG9hZE1hbmFnZXIuY2FsY3VsYXRlVG90YWxTaXplKCk7XHJcbiAgICAgICAgYXdhaXQgbG9hZE1hbmFnZXIubG9hZCgobG9hZGVkUGVyY2VudGFnZSkgPT4gbG9hZGluZ1Byb2dyZXNzQmFyLnNldFZhbHVlKGxvYWRlZFBlcmNlbnRhZ2UpKTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW52YXMucmVtb3ZlU2NlbmUobG9hZGluZ1NjcmVlbik7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdEJhY2tncm91bmRJbWFnZShsb2FkTWFuYWdlcik7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnNUb0NhbnZhcygpO1xyXG5cclxuICAgICAgICBjb25zdCBoZWFkcyA9IGxvYWRNYW5hZ2VyLmdldEltYWdlc0J5TmFtZSh0aGlzLmhlYWRJbWdzS2V5KTtcclxuICAgICAgICBjb25zdCBib2RpZXMgPSBsb2FkTWFuYWdlci5nZXRJbWFnZXNCeU5hbWUodGhpcy5ib2R5SW1nc0tleSk7XHJcbiAgICAgICAgY29uc3QgbGVmdEFybXMgPSBsb2FkTWFuYWdlci5nZXRJbWFnZXNCeU5hbWUodGhpcy5sZWZ0QXJtSW1nc0tleSk7XHJcbiAgICAgICAgY29uc3QgcmlnaHRBcm1zID0gbG9hZE1hbmFnZXIuZ2V0SW1hZ2VzQnlOYW1lKHRoaXMucmlnaHRBcm1JbWdzS2V5KTtcclxuICAgICAgICBjb25zdCBsZWdzID0gbG9hZE1hbmFnZXIuZ2V0SW1hZ2VzQnlOYW1lKHRoaXMubGVnSW1nc0tleSk7XHJcblxyXG4gICAgICAgIHRoaXMubW9uc3RlckZhY3RvcnkgPSBuZXcgTW9uc3RlckZhY3RvcnkoaGVhZHMsIGxlZnRBcm1zLCByaWdodEFybXMsIGJvZGllcywgbGVncyk7XHJcbiAgICAgICAgdGhpcy50YXNrRmFjdG9yeSA9IG5ldyBUYXNrRmFjdG9yeSh0aGlzLmxvYWRNYW5hZ2VyLmdldEltYWdlc0J5TmFtZSh0aGlzLnVpSW1nc0tleSksIHRoaXMubG9hZE1hbmFnZXIuZ2V0SW1hZ2VzQnlOYW1lKHRoaXMudGFza0ltZ3NLZXkpKTtcclxuICAgICAgICB0aGlzLm1hZ2ljRmFjdG9yeSA9IG5ldyBNYWdpY0ZhY3RvcnkoKTtcclxuXHJcbiAgICAgICAgdGhpcy5tYWdpY0ZhY3RvcnkuYWRkTWFnaWNBc3NldHMobG9hZE1hbmFnZXIuZ2V0SW1hZ2VzQnlOYW1lKHRoaXMubWFnaWNJbWdzS2V5KS5zbGljZSgwLCA0KSwgbG9hZE1hbmFnZXIuZ2V0U291bmRCeU5hbWUodGhpcy5tYWdpY1NvdW5kS2V5KVswXSwgJ21hZ2ljQXJyb3cnKTtcclxuICAgICAgICB0aGlzLm1hZ2ljRmFjdG9yeS5hZGRNYWdpY0Fzc2V0cyhsb2FkTWFuYWdlci5nZXRJbWFnZXNCeU5hbWUodGhpcy5tYWdpY0ltZ3NLZXkpLnNsaWNlKDQsIDQgKyAyKSwgbG9hZE1hbmFnZXIuZ2V0U291bmRCeU5hbWUodGhpcy5tYWdpY1NvdW5kS2V5KVsxXSwgJ2ltcGxvc2lvbicpO1xyXG5cclxuICAgICAgICB0aGlzLmNhbnZhcy5nZXRIdG1sKCkuZm9jdXMoKTtcclxuICAgICAgICB0aGlzLnNldFVwVUkoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaW5pdEJhY2tncm91bmRJbWFnZShsb2FkTWFuYWdlcikge1xyXG4gICAgICAgIGNvbnN0IGJhY2tncm91bmRJbWFnZSA9IGxvYWRNYW5hZ2VyLmdldEltYWdlc0J5TmFtZSh0aGlzLmJhY2tncm91bmRJbWdzS2V5KVswXTtcclxuXHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLmJhY2tncm91bmQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kLnNldEJhY2tncm91bmRJbWFnZShuZXcgSW1hZ2VDb21wb25lbnQoYmFja2dyb3VuZEltYWdlLCAwLCAwLCBiYWNrZ3JvdW5kSW1hZ2UubmF0dXJhbFdpZHRoLCBiYWNrZ3JvdW5kSW1hZ2UubmF0dXJhbEhlaWdodCwgd2lkdGgsIGhlaWdodCwgMCwgMCwgIGJhY2tncm91bmRJbWFnZS5uYXR1cmFsV2lkdGgsIGJhY2tncm91bmRJbWFnZS5uYXR1cmFsSGVpZ2h0KSk7XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzLmFkZFNjZW5lKHRoaXMuYmFja2dyb3VuZCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VXBVSShuYW1lID0gJycpIHtcclxuICAgICAgICBjb25zdCBsb2FkTWFuYWdlciA9IHRoaXMubG9hZE1hbmFnZXI7XHJcbiAgICAgICAgY29uc3QgeyB3aWR0aDogY2FudmFzV2lkdGgsIGhlaWdodDogY2FudmFzSGVpZ2h0IH0gPSB0aGlzLmNhbnZhcy5nZXRTaXplKCk7XHJcblxyXG4gICAgICAgIHRoaXMudWlDb21wb25lbnRzID0gbmV3IENvbXBvc2l0ZUNvbXBvbmVudCgwLCAwLCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3RhdHVzQmFySW1nID0gbG9hZE1hbmFnZXIuZ2V0SW1hZ2VzQnlOYW1lKHRoaXMudWlJbWdzS2V5KS5zbGljZSg1LCA1ICsgMyk7XHJcblxyXG4gICAgICAgIGNvbnN0IHN0YXR1c0JhckltZ09iZyA9IHtcclxuICAgICAgICAgICAgYmFjazogc3RhdHVzQmFySW1nWzBdLFxyXG4gICAgICAgICAgICBsZWZ0OiBzdGF0dXNCYXJJbWdbMV0sXHJcbiAgICAgICAgICAgIHJpZ2h0OiBzdGF0dXNCYXJJbWdbMl0sXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3RhdHVzQmFySGVpZ2h0ID0gMTUwO1xyXG4gICAgICAgIGNvbnN0IHN0YXR1c0JhciA9IG5ldyBTdGF0dXNCYXIoY2FudmFzSGVpZ2h0IC0gc3RhdHVzQmFySGVpZ2h0LCAwLCBjYW52YXNXaWR0aCwgc3RhdHVzQmFySGVpZ2h0LCBzdGF0dXNCYXJJbWdPYmcpO1xyXG4gICAgICAgIHN0YXR1c0Jhci5zZXRCYWNrZ3JvdW5kQ29sb3IoJyMwMGZmMDAnKTtcclxuXHJcbiAgICAgICAgY29uc3QgaW5mb1dpbmRvd0ltYWdlID0gbG9hZE1hbmFnZXIuZ2V0SW1hZ2VzQnlOYW1lKHRoaXMudWlJbWdzS2V5KVs4XTtcclxuXHJcbiAgICAgICAgY29uc3QgaW5mb1dpbmRvd1dpZHRoID0gMjYwO1xyXG4gICAgICAgIGNvbnN0IGluZm9XaW5kb3dIZWlnaHQgPSAxMzA7XHJcbiAgICAgICAgY29uc3QgbWFyZ2luID0gMTUwO1xyXG4gICAgICAgIGNvbnN0IHBsYXllckluZm9XaW5kb3cgPSBuZXcgQ2hhcmFjdGVySW5mb1dpbmRvdygxMCwgTWF0aC5jZWlsKGNhbnZhc1dpZHRoIC8gMikgLSBpbmZvV2luZG93V2lkdGggLSBtYXJnaW4sIGluZm9XaW5kb3dXaWR0aCwgaW5mb1dpbmRvd0hlaWdodCwgJycsIDAsIDEwMCwgMCwgeyBiYWNrOiBpbmZvV2luZG93SW1hZ2UgfSk7XHJcbiAgICAgICAgY29uc3QgbW9uc3RlckluZm9XaW5kb3cgPSBuZXcgQ2hhcmFjdGVySW5mb1dpbmRvdygxMCwgTWF0aC5jZWlsKGNhbnZhc1dpZHRoIC8gMikgKyBtYXJnaW4sIGluZm9XaW5kb3dXaWR0aCwgaW5mb1dpbmRvd0hlaWdodCwgJycsIDAsIDEwMCwgMCwgeyBiYWNrOiBpbmZvV2luZG93SW1hZ2UgfSk7XHJcbiAgICAgICAgc3RhdHVzQmFyLnNldFBsYXllckluZm9XaW5kb3cocGxheWVySW5mb1dpbmRvdyk7XHJcbiAgICAgICAgc3RhdHVzQmFyLnNldEVuZW15SW5mb1dpbmRvdyhtb25zdGVySW5mb1dpbmRvdyk7XHJcbiAgICAgICAgcGxheWVySW5mb1dpbmRvdy5zZXRCYWNrZ3JvdW5kQ29sb3IoJyNmNGYxNDInKTtcclxuICAgICAgICBtb25zdGVySW5mb1dpbmRvdy5zZXRCYWNrZ3JvdW5kQ29sb3IoJyNmNGYxNDInKTtcclxuXHJcbiAgICAgICAgdGhpcy51aS5hZGQodGhpcy51aUNvbXBvbmVudHMpO1xyXG5cclxuICAgICAgICBjb25zdCBlbnRlck5hbWVXaW5kb3cgPSB0aGlzLnNob3dOYW1lRW50ZXIobmFtZSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG9rQ2FsbEJhY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBlbnRlck5hbWVXaW5kb3cuZ2V0SW5wdXRVc2VyKCk7XHJcbiAgICAgICAgICAgIGVudGVyTmFtZVdpbmRvdy5nZXRPa0J1dHRvbkNvbXBvbmVudCgpLmdldEJhY2tncm91bmRJbWFnZSgpLnNldEZyYW1lKDApO1xyXG4gICAgICAgICAgICB0aGlzLnVpQ29tcG9uZW50cy5yZW1vdmVDb21wb25lbnQoZW50ZXJOYW1lV2luZG93KTtcclxuICAgICAgICAgICAgdGhpcy5jYW52YXMuZ2V0SHRtbCgpLnN0eWxlLmN1cnNvciA9ICdhdXRvJztcclxuICAgIFxyXG4gICAgICAgICAgICB0aGlzLnVpQ29tcG9uZW50cy5hZGRDb21wb25lbnQoc3RhdHVzQmFyLCB0aGlzLnN0YXR1c0JhcktleSk7XHJcbiAgICAgICAgICAgIHRoaXMudWkuY2hhbmdlU2VsZWN0ZWRFbGVtZW50KG51bGwpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tYWluTG9naWMobmFtZSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZW50ZXJOYW1lV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLktFWUJPQVJELktFWV9QUkVTUywgKGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKGUucGF5bG9hZC5rZXkgPT09ICdFbnRlcicpIHtcclxuICAgICAgICAgICAgICAgIG9rQ2FsbEJhY2soZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgZW50ZXJOYW1lV2luZG93LmFkZEJ1dHRvbkV2ZW50TGlzdGVuZXIoZXZlbnRzLk1PVVNFLk1PVVNFX1VQLCBva0NhbGxCYWNrKTtcclxuXHJcbiAgICAgICAgdGhpcy51aUNvbXBvbmVudHMuYWRkQ29tcG9uZW50KGVudGVyTmFtZVdpbmRvdyk7XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzLmFkZFVJKHRoaXMudWkpO1xyXG4gICAgICAgIHRoaXMudWkuY2hhbmdlU2VsZWN0ZWRFbGVtZW50KGVudGVyTmFtZVdpbmRvdy5nZXRJbnB1dFVzZXJDb21wb25lbnQoKSk7XHJcbiAgICAgICAgdGhpcy51aS51cGRhdGVUYWJUcmVlKCk7XHJcbiAgICAgICAgZW50ZXJOYW1lV2luZG93LmdldElucHV0VXNlckNvbXBvbmVudCgpLnNldEN1cnNvclRvRW5kKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdExvYWRpbmdQYXRoKCkge1xyXG4gICAgICAgIGNvbnN0IGxvYWRNYW5hZ2VyID0gdGhpcy5sb2FkTWFuYWdlcjtcclxuXHJcbiAgICAgICAgbG9hZE1hbmFnZXIuYWRkVXJsKHtcclxuICAgICAgICAgICAgaW1hZ2U6IFtcclxuICAgICAgICAgICAgICAgIGAke1BBVEguSU1BR0UuVUl9L2JhcmRhdGEuanBnYCxcclxuICAgICAgICAgICAgICAgIGAke1BBVEguSU1BR0UuVUl9L3RleHRmaWVsZC5qcGdgLFxyXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5VSX0vbGVhdGhlci5qcGdgLFxyXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5VSX0vb2tidXR0b24uanBnYCxcclxuICAgICAgICAgICAgICAgIGAke1BBVEguSU1BR0UuVUl9L21pY3JvYnV0dG9uLmpwZ2AsXHJcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLlVJfS9zdGF0dXMuanBnYCxcclxuICAgICAgICAgICAgICAgIGAke1BBVEguSU1BR0UuVUl9L3N0YXR1c2xlZnQuanBnYCxcclxuICAgICAgICAgICAgICAgIGAke1BBVEguSU1BR0UuVUl9L3N0YXR1c3JpZ2h0LmpwZ2AsXHJcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLlVJfS9jaGFyYWN0ZXJpbmZvd2luZG93LmpwZ2AsXHJcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLlVJfS9zcGVsbHNlbC5qcGdgLFxyXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5VSX0vdGFibGUuanBnYCxcclxuICAgICAgICAgICAgICAgIGAke1BBVEguSU1BR0UuVUl9L3JlbG9hZGJ1dHRvbi5qcGdgLFxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBpbWFnZTogdGhpcy51aUltZ3NLZXlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbG9hZE1hbmFnZXIuYWRkVXJsKHtcclxuICAgICAgICAgICAgaW1hZ2U6IFtgJHtQQVRILklNQUdFLkJBQ0tHUk9VTkRfSU1BR0VTfS9kdW5nZW9uLmpwZ2BdXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBpbWFnZTogdGhpcy5iYWNrZ3JvdW5kSW1nc0tleVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsb2FkTWFuYWdlci5hZGRVcmwoe1xyXG4gICAgICAgICAgICBpbWFnZTogW2Ake1BBVEguSU1BR0UuTUFJTl9DSEFSfS9tYWluQ2hhci5wbmdgXVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgaW1hZ2U6IHRoaXMubWFpbkNoYXJJbWdzS2V5XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxvYWRNYW5hZ2VyLmFkZFVybCh7XHJcbiAgICAgICAgICAgIGltYWdlOiBbXHJcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLkhFQURfSU1BR0VTfS9oZWFkXzEucG5nYCxcclxuICAgICAgICAgICAgICAgIGAke1BBVEguSU1BR0UuSEVBRF9JTUFHRVN9L2hlYWRfMi5wbmdgLFxyXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5IRUFEX0lNQUdFU30vaGVhZF8zLnBuZ2AsXHJcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLkhFQURfSU1BR0VTfS9oZWFkXzQucG5nYCxcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgaW1hZ2U6IHRoaXMuaGVhZEltZ3NLZXlcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbG9hZE1hbmFnZXIuYWRkVXJsKHtcclxuICAgICAgICAgICAgaW1hZ2U6IFtcclxuICAgICAgICAgICAgICAgIGAke1BBVEguSU1BR0UuQk9EWV9JTUFHRVN9L2JvZHlfMS5wbmdgLFxyXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5CT0RZX0lNQUdFU30vYm9keV8yLnBuZ2AsXHJcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLkJPRFlfSU1BR0VTfS9ib2R5XzMucG5nYCxcclxuICAgICAgICAgICAgICAgIGAke1BBVEguSU1BR0UuQk9EWV9JTUFHRVN9L2JvZHlfNC5wbmdgLFxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBpbWFnZTogdGhpcy5ib2R5SW1nc0tleVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsb2FkTWFuYWdlci5hZGRVcmwoe1xyXG4gICAgICAgICAgICBpbWFnZTogW1xyXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5MRUZUX0FSTV9JTUFHRVN9L2FybV8xLnBuZ2AsXHJcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLkxFRlRfQVJNX0lNQUdFU30vYXJtXzIucG5nYCxcclxuICAgICAgICAgICAgICAgIGAke1BBVEguSU1BR0UuTEVGVF9BUk1fSU1BR0VTfS9hcm1fMy5wbmdgLFxyXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5MRUZUX0FSTV9JTUFHRVN9L2FybV80LnBuZ2AsXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGltYWdlOiB0aGlzLmxlZnRBcm1JbWdzS2V5XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxvYWRNYW5hZ2VyLmFkZFVybCh7XHJcbiAgICAgICAgICAgIGltYWdlOiBbXHJcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLlJJR0hUX0FSTV9JTUFHRVN9L2FybV8xLnBuZ2AsXHJcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLlJJR0hUX0FSTV9JTUFHRVN9L2FybV8yLnBuZ2AsXHJcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLlJJR0hUX0FSTV9JTUFHRVN9L2FybV8zLnBuZ2AsXHJcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLlJJR0hUX0FSTV9JTUFHRVN9L2FybV80LnBuZ2AsXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgIGltYWdlOiB0aGlzLnJpZ2h0QXJtSW1nc0tleVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBsb2FkTWFuYWdlci5hZGRVcmwoe1xyXG4gICAgICAgICAgICBpbWFnZTogW1xyXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5MRUdfSU1BR0VTfS9sZWdfMS5wbmdgLFxyXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5MRUdfSU1BR0VTfS9sZWdfMi5wbmdgLFxyXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5MRUdfSU1BR0VTfS9sZWdfMy5wbmdgLFxyXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5MRUdfSU1BR0VTfS9sZWdfNC5wbmdgLFxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBpbWFnZTogdGhpcy5sZWdJbWdzS2V5XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxvYWRNYW5hZ2VyLmFkZFVybCh7XHJcbiAgICAgICAgICAgIGltYWdlOiBbXHJcbiAgICAgICAgICAgICAgICBgJHtQQVRILklNQUdFLk1BR0lDfS9tYWdpY0Fycm93L21hZ2ljQXJyb3cucG5nYCxcclxuICAgICAgICAgICAgICAgIGAke1BBVEguSU1BR0UuTUFHSUN9L21hZ2ljQXJyb3cvbWFnaWNBcnJvd01vdGlvbkFuaW1hdGlvbi5wbmdgLFxyXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5NQUdJQ30vbWFnaWNBcnJvdy9tYWdpY0Fycm93TW90aW9uQW5pbWF0aW9uUmV2ZXJzZS5wbmdgLFxyXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5NQUdJQ30vbWFnaWNBcnJvdy9tYWdpY0Fycm93Qmxvd0FuaW1hdGlvbi5wbmdgLFxyXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5JTUFHRS5NQUdJQ30vZGVjYXkvZGVjYXkucG5nYCxcclxuICAgICAgICAgICAgICAgIGAke1BBVEguSU1BR0UuTUFHSUN9L2RlY2F5L2RlY2F5Qmxvdy5wbmdgLFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBzb3VuZDogW1xyXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5TT1VORC5NQUdJQ30vbWFnaWNBcnJvdy9NQUdJQ0FSVy5tcDNgLFxyXG4gICAgICAgICAgICAgICAgYCR7UEFUSC5TT1VORC5NQUdJQ30vZGVjYXkvREVDQVkubXAzYFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgaW1hZ2U6IHRoaXMubWFnaWNJbWdzS2V5LFxyXG4gICAgICAgICAgICBzb3VuZDogdGhpcy5tYWdpY1NvdW5kS2V5XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxvYWRNYW5hZ2VyLmFkZFVybCh7XHJcbiAgICAgICAgICAgIGltYWdlOiBbXHJcbiAgICAgICAgICAgICAgICAuLi5uYW1lVGFza01hcC5tYXAoKHsgaW1hZ2UgfSkgPT4gaW1hZ2UpLCBcclxuICAgICAgICAgICAgICAgIC4uLmNvdW50cnlNYXAubWFwKCh7IGZsYWdJbWFnZSB9KSA9PiBmbGFnSW1hZ2UpLFxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgaW1hZ2U6IHRoaXMudGFza0ltZ3NLZXksXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBsb2FkTWFuYWdlcjtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBtYWluTG9naWMobmFtZSkge1xyXG4gICAgICAgIGNvbnN0IGxvYWRNYW5hZ2VyID0gdGhpcy5sb2FkTWFuYWdlcjtcclxuICAgICAgICBjb25zdCB0YXNrRmFjdG9yeSA9IHRoaXMudGFza0ZhY3Rvcnk7XHJcbiAgICAgICAgY29uc3QgbWFnaWNGYWN0b3J5ID0gdGhpcy5tYWdpY0ZhY3Rvcnk7XHJcbiAgICAgICAgY29uc3QgdWlDb21wb25lbnRzID0gdGhpcy51aUNvbXBvbmVudHM7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgd2lkdGg6IGNhbnZhc1dpZHRoLCBoZWlnaHQ6IGNhbnZhc0hlaWdodCB9ID0gdGhpcy5jYW52YXMuZ2V0U2l6ZSgpO1xyXG5cclxuICAgICAgICBjb25zdCBzcGVsbFNlbEltZyA9IGxvYWRNYW5hZ2VyLmdldEltYWdlc0J5TmFtZSh0aGlzLnVpSW1nc0tleSlbOV07XHJcbiAgICAgICAgY29uc3QgbWFpbkNoYXIgPSBsb2FkTWFuYWdlci5nZXRJbWFnZXNCeU5hbWUodGhpcy5tYWluQ2hhckltZ3NLZXkpWzBdO1xyXG5cclxuICAgICAgICBjb25zdCBtYWluQ2hhckdyYXBoaWMgPSBuZXcgUGxheWVyR3JhcGhpY0NvbXBvbmVudCgnMSUnLCAnMTElJywgbWFpbkNoYXIpO1xyXG5cclxuICAgICAgICBjb25zdCB7IHdpZHRoOiBwbGF5ZXJXaWR0aCwgaGVpZ2h0OiBwbGF5ZXJIZWlnaHQgfSA9IG1haW5DaGFyR3JhcGhpYy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcbiAgICAgICAgbWFpbkNoYXJHcmFwaGljLnNldEJvdW5kaW5nQ2xpZW50UmVjdChNYXRoLmZsb29yKChjYW52YXNIZWlnaHQgLSAxNTApIC8gMiAtIHBsYXllckhlaWdodCAvIDIpLCBNYXRoLmZsb29yKGNhbnZhc1dpZHRoIC8gMiAtIHBsYXllcldpZHRoIC0gMTAwKSwgcGxheWVyV2lkdGgsIHBsYXllckhlaWdodCk7XHJcblxyXG4gICAgICAgIGxldCBtb25zdGVyID0gbnVsbDtcclxuICAgICAgICBsZXQgbW9uc3RlcktpbGxlZENvdW50ID0gLTE7XHJcblxyXG4gICAgICAgIGNvbnN0IHBsYXllciA9IG5ldyBDaGFyYWN0ZXIobmFtZSwgMTAwLCAxMDAsIG1haW5DaGFyR3JhcGhpYyk7XHJcblxyXG4gICAgICAgIHBsYXllci5hZGRNYWdpYyhtYWdpY0ZhY3RvcnkuY3JlYXRlTWFnaWNBcnJvdyg0MCkpO1xyXG4gICAgICAgIHBsYXllci5hZGRNYWdpYyhtYWdpY0ZhY3RvcnkuY3JlYXRlSW1wbG9zaW9uQXJyb3coNDApKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRQbGF5ZXIocGxheWVyKTtcclxuXHJcbiAgICAgICAgd2hpbGUocGxheWVyLmlzQWxpdmUoKSkge1xyXG4gICAgICAgICAgICBpZiAobW9uc3RlciA9PT0gbnVsbCB8fCAhbW9uc3Rlci5pc0FsaXZlKCkpIHtcclxuICAgICAgICAgICAgICAgIG1vbnN0ZXIgPSB0aGlzLmNyZWF0ZU1vbnN0ZXIobWFnaWNGYWN0b3J5LCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0LCA1KTtcclxuXHJcbiAgICAgICAgICAgICAgICBtb25zdGVyS2lsbGVkQ291bnQgKz0gMTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgbWFnaWNTZWxlY3RpbmcgPSBuZXcgTWFnaWNTZWxlY3RpbmdNb2RhbFdpbmRvdyhNYXRoLmNlaWwoY2FudmFzSGVpZ2h0IC8gMiAtICgxMCArIDEwMCkgLyAyIC0gMTUwIC8gMiksIE1hdGguZmxvb3IoY2FudmFzV2lkdGggLyAyIC0gKDIwICsgMTM2ICogMykgLyAyKSwgMjAgKyAxMzYgKiAzLCAxMCArIDEwMCArIDMgKyAxNiArIDMsIHBsYXllci5nZXRNYWdpY3MoKSwgeyBiYWNrOiBzcGVsbFNlbEltZyB9KTtcclxuICAgICAgICAgICAgbWFnaWNTZWxlY3Rpbmcuc2V0QmFja2dyb3VuZENvbG9yKCcjYTAyNTZiJyk7XHJcbiAgICAgICAgICAgIG1hZ2ljU2VsZWN0aW5nLnNldE92ZXJmbG93KCdzY3JvbGwnKTtcclxuIFxyXG4gICAgICAgICAgICB1aUNvbXBvbmVudHMuYWRkQ29tcG9uZW50KG1hZ2ljU2VsZWN0aW5nKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMudWkudXBkYXRlVGFiVHJlZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnVpLmNoYW5nZVNlbGVjdGVkRWxlbWVudChtYWdpY1NlbGVjdGluZy5nZXRNYWdpYygwKS5nZXRHcmFwaGljQ29tcG9uZW50KCkpO1xyXG4gICAgICAgICAgICBjb25zdCBtYWdpYyA9IGF3YWl0IG1hZ2ljU2VsZWN0aW5nLnNlbGVjdE1hZ2ljKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAobWFnaWMgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdtYWdpYyBzZWxlY3RpbmcgZXJyb3InKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB1aUNvbXBvbmVudHMucmVtb3ZlQ29tcG9uZW50KG1hZ2ljU2VsZWN0aW5nKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHRhc2tXaW5kb3cgPSB0YXNrRmFjdG9yeS5jcmVhdGVUYXNrKE1hdGguY2VpbChjYW52YXNIZWlnaHQgLyAyKSAtIDM0NCAvIDIgLSA1MCwgTWF0aC5jZWlsKChjYW52YXNXaWR0aCAtIDQ2MCkgLyAyKSwgNDYwLCAzNDQsIHVpQ29tcG9uZW50cyk7XHJcbiAgICAgICAgICAgIHRhc2tXaW5kb3cuc2V0QmFja2dyb3VuZENvbG9yKCcjZmZmZjAwJyk7XHJcblxyXG4gICAgICAgICAgICB1aUNvbXBvbmVudHMuYWRkQ29tcG9uZW50KHRhc2tXaW5kb3cpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy51aS51cGRhdGVUYWJUcmVlKCk7XHJcbiAgICAgICAgICAgIHRoaXMudWkuY2hhbmdlU2VsZWN0ZWRFbGVtZW50KHRhc2tXaW5kb3cuZ2V0RGVmYXVsdENvbXBvbmVudCgpKTtcclxuICAgICAgICAgICAgY29uc3QgYW5zd2VyT3V0Y29tZSA9IGF3YWl0IHRhc2tXaW5kb3cuZ2V0UmVzdWx0KCk7XHJcblxyXG4gICAgICAgICAgICB1aUNvbXBvbmVudHMucmVtb3ZlQ29tcG9uZW50KHRhc2tXaW5kb3cpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGFuc3dlck91dGNvbWUpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHBsYXllci5hdHRhY2sobW9uc3RlciwgbWFnaWMsIHRoaXMuY2FudmFzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG1vbnN0ZXIuaXNBbGl2ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtYWdpY3MgPSBtb25zdGVyLmdldE1hZ2ljcygpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAobWFnaWNzLmxlbmd0aCAtIDEpKTtcclxuXHJcbiAgICAgICAgICAgICAgICBhd2FpdCBtb25zdGVyLmF0dGFjayhwbGF5ZXIsIG1hZ2ljc1tpbmRleF0sIHRoaXMuY2FudmFzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zaG93UmVzdWx0VGFibGUocGxheWVyLCBtb25zdGVyS2lsbGVkQ291bnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZU1vbnN0ZXIobWFnaWNGYWN0b3J5LCBjYW52YXNXaWR0aCwgY2FudmFzSGVpZ2h0LCBkYW1hZ2UpIHtcclxuICAgICAgICBjb25zdCBtb25zdGVyID0gdGhpcy5tb25zdGVyRmFjdG9yeS5jcmVhdGVNb25zdGVyKGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpO1xyXG4gICAgICAgIHRoaXMuc2V0RW5lbXkobW9uc3Rlcik7XHJcblxyXG4gICAgICAgIG1vbnN0ZXIuYWRkTWFnaWMobWFnaWNGYWN0b3J5LmNyZWF0ZU1hZ2ljQXJyb3coZGFtYWdlLCB0cnVlKSk7XHJcbiAgICAgICAgbW9uc3Rlci5hZGRNYWdpYyhtYWdpY0ZhY3RvcnkuY3JlYXRlSW1wbG9zaW9uQXJyb3coZGFtYWdlKSk7XHJcblxyXG4gICAgICAgIHJldHVybiBtb25zdGVyO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIHNob3dMb2FkaW5nU2NyZWVuKCkge1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGg6IGNhbnZhc1dpZHRoLCBoZWlnaHQ6IGNhbnZhc0hlaWdodCB9ID0gdGhpcy5jYW52YXMuZ2V0U2l6ZSgpO1xyXG4gICAgICAgIGNvbnN0IHByb2dyZXNzQmFyQmFja2dyb3VuZCA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIHByb2dyZXNzQmFyQmFja2dyb3VuZC5zcmMgPSBgJHtQQVRILklNQUdFLlVJfS9iYXJkYXRhLmpwZ2A7XHJcbiAgICAgICAgYXdhaXQgY3JlYXRlRmlsZVByb21pc2UocHJvZ3Jlc3NCYXJCYWNrZ3JvdW5kKTtcclxuXHJcbiAgICAgICAgY29uc3QgbG9hZGluZ1NjcmVlbiA9IG5ldyBMb2FkaW5nU2NyZWVuKDAsIDAsIGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQsIHByb2dyZXNzQmFyQmFja2dyb3VuZCk7XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzLmFkZFNjZW5lKGxvYWRpbmdTY3JlZW4pO1xyXG5cclxuICAgICAgICByZXR1cm4gbG9hZGluZ1NjcmVlbjtcclxuICAgIH1cclxuXHJcbiAgICBzaG93TmFtZUVudGVyKG5hbWUgPSAnJykge1xyXG4gICAgICAgIGNvbnN0IHRleHRGaWVsZEltYWdlID0gdGhpcy5sb2FkTWFuYWdlci5nZXRJbWFnZXNCeU5hbWUodGhpcy51aUltZ3NLZXkpWzFdO1xyXG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoOiB0ZXh0RmllbGRXaWR0aCwgbmF0dXJhbEhlaWdodDogdGV4dEZpZWxkSGVpZ2h0IH0gPSB0ZXh0RmllbGRJbWFnZTtcclxuXHJcbiAgICAgICAgY29uc3QgbW9kYWxXaW5kb3dJbWFnZSA9IHRoaXMubG9hZE1hbmFnZXIuZ2V0SW1hZ2VzQnlOYW1lKHRoaXMudWlJbWdzS2V5KVsyXTtcclxuICAgICAgICBjb25zdCB7IG5hdHVyYWxXaWR0aDogbW9kYWxXaWR0aCwgbmF0dXJhbEhlaWdodDogbW9kYWxIZWlnaHQgfSA9IG1vZGFsV2luZG93SW1hZ2U7XHJcblxyXG4gICAgICAgIGNvbnN0IG9rQnV0dG9uSW1hZ2UgPSB0aGlzLmxvYWRNYW5hZ2VyLmdldEltYWdlc0J5TmFtZSh0aGlzLnVpSW1nc0tleSlbM107XHJcbiAgICAgICAgY29uc3QgeyBuYXR1cmFsV2lkdGg6IG9rQnV0dG9uV2lkdGgsIG5hdHVyYWxIZWlnaHQ6IG9rQnV0dG9uSGVpZ2h0IH0gPSBva0J1dHRvbkltYWdlO1xyXG5cclxuICAgICAgICBjb25zdCB7IHdpZHRoOiBjYW52YXNXaWR0aCwgaGVpZ2h0OiBjYW52YXNIZWlnaHQgfSA9IHRoaXMuY2FudmFzLmdldFNpemUoKTtcclxuXHJcbiAgICAgICAgY29uc3QgZW50ZXJOYW1lV2luZG93ID0gbmV3IFRleHRJbnB1dE1vZGFsV2luZG93KDAsIDAsIG1vZGFsV2lkdGgsIG1vZGFsSGVpZ2h0LCAn0JLQstC10LTQuNGC0LUg0YHQstC+0LUg0LjQvNGPOicsIHRoaXMudWlDb21wb25lbnRzKTtcclxuICAgICAgICBlbnRlck5hbWVXaW5kb3cuc2V0QmFja2dyb3VuZENvbG9yKCcjM2M3NmE3Jyk7XHJcbiAgICAgICAgZW50ZXJOYW1lV2luZG93LmFsaWduQ2VudGVyKGNhbnZhc1dpZHRoLCBjYW52YXNIZWlnaHQpO1xyXG4gICAgICAgIGVudGVyTmFtZVdpbmRvdy5zZXRCYWNrZ3JvdW5kSW1hZ2UobmV3IEltYWdlQ29tcG9uZW50KG1vZGFsV2luZG93SW1hZ2UsIDAsIDAsIG1vZGFsV2lkdGgsIG1vZGFsSGVpZ2h0LCBtb2RhbFdpZHRoLCBtb2RhbEhlaWdodCwgMCwgMCwgbW9kYWxXaWR0aCwgbW9kYWxIZWlnaHQpKTtcclxuXHJcbiAgICAgICAgY29uc3QgaW5wdXRVc2VyQ29tcG9uZW50ID0gZW50ZXJOYW1lV2luZG93LmdldElucHV0VXNlckNvbXBvbmVudCgpO1xyXG4gICAgICAgIGlucHV0VXNlckNvbXBvbmVudC5zZXRCb3VuZGluZ0NsaWVudFJlY3QodW5kZWZpbmVkLCB1bmRlZmluZWQsIHRleHRGaWVsZFdpZHRoLCB0ZXh0RmllbGRIZWlnaHQpO1xyXG4gICAgICAgIGlucHV0VXNlckNvbXBvbmVudC5zZXRCYWNrZ3JvdW5kSW1hZ2UobmV3IEltYWdlQ29tcG9uZW50KHRleHRGaWVsZEltYWdlLCAwLCAwLCB0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0LCB0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0LCAwLCAwLCB0ZXh0RmllbGRXaWR0aCwgdGV4dEZpZWxkSGVpZ2h0KSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG9uZUdseXBoV2lkdGggPSBNYXRoLmNlaWwoZ2V0VGV4dFdpZHRoV2l0aENhbnZhcygneCcsICdtb25vc3BhY2UnLCAxNikpO1xyXG5cclxuICAgICAgICBlbnRlck5hbWVXaW5kb3cuZ2V0SW5wdXRVc2VyQ29tcG9uZW50KCkubWF4VGV4dExlbmd0aCA9IE1hdGguZmxvb3IodGV4dEZpZWxkV2lkdGggLyBvbmVHbHlwaFdpZHRoKSArIDE7XHJcbiAgICAgICAgZW50ZXJOYW1lV2luZG93LmdldERlc2NyaXB0aW9uQ29tcG9uZW50KCkuc2V0QmFja2dyb3VuZENvbG9yKCdyZ2JhKDAsIDAsIDAsIDApJyk7XHJcbiAgICAgICAgZW50ZXJOYW1lV2luZG93LmdldERlc2NyaXB0aW9uQ29tcG9uZW50KCkuc2V0VGV4dENvbG9yKCcjZmZmZmZmJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IG9rQnV0dG9uID0gZW50ZXJOYW1lV2luZG93LmdldE9rQnV0dG9uQ29tcG9uZW50KCk7XHJcbiAgICAgICAgb2tCdXR0b24uc2V0Qm91bmRpbmdDbGllbnRSZWN0KG1vZGFsSGVpZ2h0IC0gMTkgLSBva0J1dHRvbkhlaWdodCwgbW9kYWxXaWR0aCAtIDE5IC0gb2tCdXR0b25XaWR0aCAvIDIsIG9rQnV0dG9uV2lkdGggLyAyLCBva0J1dHRvbkhlaWdodCk7XHJcbiAgICAgICAgb2tCdXR0b24uc2V0QmFja2dyb3VuZEltYWdlKG5ldyBJbWFnZUNvbXBvbmVudChva0J1dHRvbkltYWdlLCAwLCAwLCBva0J1dHRvbldpZHRoLCBva0J1dHRvbkhlaWdodCwgb2tCdXR0b25XaWR0aCwgb2tCdXR0b25IZWlnaHQsIDAsIDAsIG9rQnV0dG9uV2lkdGggLyAyLCBva0J1dHRvbkhlaWdodCkpO1xyXG5cclxuICAgICAgICBlbnRlck5hbWVXaW5kb3cuZ2V0SW5wdXRVc2VyQ29tcG9uZW50KCkuc2V0VGV4dChuYW1lKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGVudGVyTmFtZVdpbmRvdztcclxuICAgIH1cclxuXHJcbiAgICBzaG93UmVzdWx0VGFibGUocGxheWVyLCBraWxsZWRNb25zdGVyKSB7XHJcbiAgICAgICAgY29uc3QgdGFibGVJbWcgPSB0aGlzLmxvYWRNYW5hZ2VyLmdldEltYWdlc0J5TmFtZSh0aGlzLnVpSW1nc0tleSlbMTBdO1xyXG4gICAgICAgIGNvbnN0IHJlbG9hZEJ1dHRvbkltZyA9IHRoaXMubG9hZE1hbmFnZXIuZ2V0SW1hZ2VzQnlOYW1lKHRoaXMudWlJbWdzS2V5KVsxMV07XHJcblxyXG4gICAgICAgIGNvbnN0IHsgbmF0dXJhbFdpZHRoOiB0YWJsZUltYWdlV2lkdGgsIG5hdHVyYWxIZWlnaHQ6IHRhYmxlSW1hZ2VIZWlnaHQgfSA9IHRhYmxlSW1nO1xyXG4gICAgICAgIGNvbnN0IHRhYmxlSW1hZ2VDb21wb25lbnQgPSBuZXcgSW1hZ2VDb21wb25lbnQodGFibGVJbWcsIDAsIDAsIHRhYmxlSW1hZ2VXaWR0aCwgdGFibGVJbWFnZUhlaWdodCwgdGFibGVJbWFnZVdpZHRoLCB0YWJsZUltYWdlSGVpZ2h0LCAwLCAwLCB0YWJsZUltYWdlV2lkdGgsIHRhYmxlSW1hZ2VIZWlnaHQpO1xyXG5cclxuICAgICAgICBjb25zdCB7IG5hdHVyYWxXaWR0aDogcmVsb2FkQnV0dG9uV2lkdGgsIG5hdHVyYWxIZWlnaHQ6IHJlbG9hZEJ1dHRvbkhlaWdodCB9ID0gcmVsb2FkQnV0dG9uSW1nO1xyXG4gICAgICAgIGNvbnN0IHJlbG9hZEJ1dHRvbkltYWdlQ29tcG9uZW50ID0gbmV3IEltYWdlQ29tcG9uZW50KHJlbG9hZEJ1dHRvbkltZywgMCwgMCwgcmVsb2FkQnV0dG9uV2lkdGgsIHJlbG9hZEJ1dHRvbkhlaWdodCwgcmVsb2FkQnV0dG9uV2lkdGggLyAyLCByZWxvYWRCdXR0b25IZWlnaHQsIDAsIDAsIHJlbG9hZEJ1dHRvbldpZHRoIC8gMiwgcmVsb2FkQnV0dG9uSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgdGhpcy5zdG9yYWdlTWFuYWdlci5zYXZlUmVzdWx0KHBsYXllci5nZXROYW1lKCksIGtpbGxlZE1vbnN0ZXIpO1xyXG5cclxuICAgICAgICBjb25zdCByZWNvcmRzID0gdGhpcy5zdG9yYWdlTWFuYWdlci5nZXRTb3J0ZWRSZWNvcmRzKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IG9uZVNlbGxIZWlnaHQgPSAyNTtcclxuICAgICAgICBjb25zdCByZWNvcmRUYWJsZSA9IG5ldyBUYWJsZSgwLCAwLCB0YWJsZUltYWdlV2lkdGgsIHRhYmxlSW1hZ2VIZWlnaHQgLSBvbmVTZWxsSGVpZ2h0LCByZWNvcmRzLmxlbmd0aCArIDEsIDIsIE1hdGguZmxvb3IodGFibGVJbWFnZVdpZHRoIC8gMiksIG9uZVNlbGxIZWlnaHQpO1xyXG4gICAgICAgIHRoaXMudWlDb21wb25lbnRzLmFkZENvbXBvbmVudChyZWNvcmRUYWJsZSk7XHJcbiAgICAgICAgcmVjb3JkVGFibGUuYWxpZ25DZW50ZXIoKTtcclxuICAgICAgICByZWNvcmRUYWJsZS5zZXRCYWNrZ3JvdW5kSW1hZ2UodGFibGVJbWFnZUNvbXBvbmVudCk7XHJcbiAgICAgICAgcmVjb3JkVGFibGUuZ2V0QmFja2dyb3VuZEltYWdlKCkuc2V0U2l6ZSh0YWJsZUltYWdlV2lkdGgsIHRhYmxlSW1hZ2VIZWlnaHQpO1xyXG5cclxuICAgICAgICB0aGlzLmZpbGxUYWJsZShyZWNvcmRUYWJsZSwgcmVjb3Jkcyk7XHJcblxyXG4gICAgICAgIHJlY29yZFRhYmxlLnNldE92ZXJmbG93KCdzY3JvbGwnKTtcclxuXHJcbiAgICAgICAgY29uc3QgeyB0b3A6IHRvcFRhYmxlLCByaWdodDogcmlnaHRUYWJsZSB9ID0gcmVjb3JkVGFibGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3RhcnRCdXR0b24gPSBuZXcgQnV0dG9uKHRvcFRhYmxlLCByaWdodFRhYmxlICsgNSwgcmVsb2FkQnV0dG9uV2lkdGggLyAyLCByZWxvYWRCdXR0b25IZWlnaHQsICcnKTtcclxuICAgICAgICByZXN0YXJ0QnV0dG9uLnNldEJhY2tncm91bmRJbWFnZShyZWxvYWRCdXR0b25JbWFnZUNvbXBvbmVudCk7XHJcblxyXG4gICAgICAgIHJlc3RhcnRCdXR0b24udGFiYWJsZSA9IHRydWU7XHJcbiAgICAgICAgcmVzdGFydEJ1dHRvbi5kcmF3Qm9yZGVyID0gdHJ1ZTtcclxuICAgICAgICByZWNvcmRUYWJsZS50YWJhYmxlID0gdHJ1ZTtcclxuICAgICAgICByZWNvcmRUYWJsZS5kcmF3Qm9yZGVyID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0VGFibGVIYW5kbGVycyhyZWNvcmRUYWJsZSwgcmVzdGFydEJ1dHRvbik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy51aUNvbXBvbmVudHMuYWRkQ29tcG9uZW50KHJlc3RhcnRCdXR0b24sICdyZXN0YXJ0Jyk7XHJcbiAgICAgICAgdGhpcy51aS5jaGFuZ2VTZWxlY3RlZEVsZW1lbnQocmVjb3JkVGFibGUpO1xyXG4gICAgICAgIHRoaXMudWkudXBkYXRlVGFiVHJlZSgpO1xyXG5cclxuICAgICAgICByZXR1cm4gcmVjb3JkVGFibGU7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdFRhYmxlSGFuZGxlcnMocmVjb3JkVGFibGUsIHJlc3RhcnRCdXR0b24pIHtcclxuICAgICAgICBjb25zdCBva0NhbGxiYWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnVpLmRyb3BVSSgpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMucGxheWVyLmdldE5hbWUoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2V0UGxheWVyKG51bGwpO1xyXG4gICAgICAgICAgICB0aGlzLnNldEVuZW15KG51bGwpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jYW52YXMuZ2V0SHRtbCgpLnN0eWxlLmN1cnNvciA9ICdhdXRvJztcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLnJlc2V0VUkoKTtcclxuICAgICAgICAgICAgdGhpcy5zZXRVcFVJKG5hbWUpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IG1vdXNlRW50ZXJIYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzdGFydEJ1dHRvbi5pc1NlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICByZXN0YXJ0QnV0dG9uLmdldEJhY2tncm91bmRJbWFnZSgpLnNldEZyYW1lKDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3QgbW91c2VVcEhhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJlc3RhcnRCdXR0b24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudHMuTU9VU0UuTU9VU0VfRU5URVIsIG1vdXNlRW50ZXJIYW5kbGVyKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXN0YXJ0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLk1PVVNFLk1PVVNFX0RPV04sICgpID0+IHtcclxuICAgICAgICAgICAgcmVzdGFydEJ1dHRvbi5nZXRCYWNrZ3JvdW5kSW1hZ2UoKS5zZXRGcmFtZSgxKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKGV2ZW50cy5NT1VTRS5NT1VTRV9ET1dOLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJlc3RhcnRCdXR0b24uZ2V0QmFja2dyb3VuZEltYWdlKCkuc2V0RnJhbWUoMSk7XHJcblxyXG4gICAgICAgICAgICByZXN0YXJ0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLk1PVVNFLk1PVVNFX0VOVEVSLCBtb3VzZUVudGVySGFuZGxlcik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMudWlDb21wb25lbnRzLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLk1PVVNFLk1PVVNFX1VQLCBtb3VzZVVwSGFuZGxlcik7XHJcblxyXG4gICAgICAgIHJlc3RhcnRCdXR0b24ub25yZW1vdmUgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudWlDb21wb25lbnRzLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRzLk1PVVNFLk1PVVNFX1VQLCBtb3VzZVVwSGFuZGxlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXN0YXJ0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLk1PVVNFLk1PVVNFX0xFQVZFLCAoKSA9PiB7ICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHJlc3RhcnRCdXR0b24uaXNTZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgcmVzdGFydEJ1dHRvbi5nZXRCYWNrZ3JvdW5kSW1hZ2UoKS5zZXRGcmFtZSgwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXN0YXJ0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLk1PVVNFLk1PVVNFX1VQLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHJlc3RhcnRCdXR0b24uZ2V0QmFja2dyb3VuZEltYWdlKCkuc2V0RnJhbWUoMCk7XHJcbiAgICAgICAgICAgIG9rQ2FsbGJhY2soKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVzdGFydEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKGV2ZW50cy5LRVlCT0FSRC5LRVlfUFJFU1MsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlLnBheWxvYWQua2V5ID09PSAnRW50ZXInKSB7XHJcbiAgICAgICAgICAgICAgICBva0NhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVjb3JkVGFibGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMuS0VZQk9BUkQuS0VZX1BSRVNTLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZS5wYXlsb2FkLmtleSA9PT0gJ0VudGVyJykge1xyXG4gICAgICAgICAgICAgICAgb2tDYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZmlsbFRhYmxlKHJlY29yZFRhYmxlLCByZWNvcmRzKSB7XHJcbiAgICAgICAgY29uc3QgZmlyc3RDb2x1bW5OYW1lID0gbmV3IExhYmVsKDAsIDAsIE1hdGguY2VpbChnZXRUZXh0V2lkdGhXaXRoQ2FudmFzKCfQmNC80Y86JywgJ21vbm9zcGFjZScsIDE2KSksIDE2LCAn0JjQvNGPOicpO1xyXG4gICAgICAgIGNvbnN0IHNlY29uZENvbHVtbk5hbWUgPSBuZXcgTGFiZWwoMCwgMCwgTWF0aC5jZWlsKGdldFRleHRXaWR0aFdpdGhDYW52YXMoJ9Cj0LHQuNGC0L4g0LzQvtC90YHRgtGA0L7QsjonLCAnbW9ub3NwYWNlJywgMTYpKSwgMTYsICfQo9Cx0LjRgtC+INC80L7QvdGB0YLRgNC+0LI6Jyk7XHJcbiAgICAgICAgICAgICAgIFxyXG4gICAgICAgIGZpcnN0Q29sdW1uTmFtZS5zZXRUZXh0Q29sb3IoJyNmZmZmZmYnKTtcclxuICAgICAgICBzZWNvbmRDb2x1bW5OYW1lLnNldFRleHRDb2xvcignI2ZmZmZmZicpO1xyXG5cclxuICAgICAgICBzZWNvbmRDb2x1bW5OYW1lLnNldEZvbnRTaXplKDE0KTtcclxuXHJcbiAgICAgICAgcmVjb3JkVGFibGUuZ2V0VGFibGVDb21wb25lbnQoMCwgMCkuYWRkQ29tcG9uZW50KGZpcnN0Q29sdW1uTmFtZSk7XHJcbiAgICAgICAgZmlyc3RDb2x1bW5OYW1lLmFsaWduQ2VudGVyKCk7XHJcblxyXG4gICAgICAgIHJlY29yZFRhYmxlLmdldFRhYmxlQ29tcG9uZW50KDAsIDEpLmFkZENvbXBvbmVudChzZWNvbmRDb2x1bW5OYW1lKTtcclxuICAgICAgICBzZWNvbmRDb2x1bW5OYW1lLmFsaWduQ2VudGVyKCk7XHJcblxyXG4gICAgICAgIHJlY29yZHMuZm9yRWFjaCgocmVjb3JkLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgbmFtZSwgbW9uc3RlcktpbGxlZCB9ID0gcmVjb3JkO1xyXG5cclxuICAgICAgICAgICAgaWYgKG5hbWUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgbmFtZSA9ICcnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBuYW1lTGFiZWwgPSBuZXcgTGFiZWwoMCwgMCwgTWF0aC5jZWlsKGdldFRleHRXaWR0aFdpdGhDYW52YXMobmFtZSwgJ21vbm9zcGFjZScsIDE2KSksIDE2LCBuYW1lKTtcclxuICAgICAgICAgICAgY29uc3QgbW9uc3RlcktpbGxlZExhYmVsID0gbmV3IExhYmVsKDAsIDAsIE1hdGguY2VpbChnZXRUZXh0V2lkdGhXaXRoQ2FudmFzKG1vbnN0ZXJLaWxsZWQsICdtb25vc3BhY2UnLCAxNikpLCAxNiwgU3RyaW5nKG1vbnN0ZXJLaWxsZWQpKTtcclxuXHJcbiAgICAgICAgICAgIG5hbWVMYWJlbC5zZXRUZXh0Q29sb3IoJyNmZmZmZmYnKTtcclxuICAgICAgICAgICAgbW9uc3RlcktpbGxlZExhYmVsLnNldFRleHRDb2xvcignI2ZmZmZmZicpO1xyXG5cclxuICAgICAgICAgICAgcmVjb3JkVGFibGUuZ2V0VGFibGVDb21wb25lbnQoMSArIGksIDApLmFkZENvbXBvbmVudChuYW1lTGFiZWwpO1xyXG4gICAgICAgICAgICBuYW1lTGFiZWwuYWxpZ25DZW50ZXIoKTtcclxuXHJcbiAgICAgICAgICAgIHJlY29yZFRhYmxlLmdldFRhYmxlQ29tcG9uZW50KDEgKyBpLCAxKS5hZGRDb21wb25lbnQobW9uc3RlcktpbGxlZExhYmVsKTtcclxuICAgICAgICAgICAgbW9uc3RlcktpbGxlZExhYmVsLmFsaWduQ2VudGVyKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UGxheWVyKHBsYXllcikge1xyXG4gICAgICAgIGlmICh0aGlzLnBsYXllcikge1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5yZW1vdmVTY2VuZSh0aGlzLnBsYXllci5nZXRHcmFwaGljQ29tcG9uZW50KCkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XHJcblxyXG4gICAgICAgIGlmIChwbGF5ZXIgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgc3RhdHVzQmFyID0gdGhpcy51aUNvbXBvbmVudHMuZ2V0Q2hpbGRDb21wb25lbnQodGhpcy5zdGF0dXNCYXJLZXkpO1xyXG4gICAgICAgIHN0YXR1c0Jhci5zZXRQbGF5ZXJJbmZvKGAke3BsYXllci5nZXROYW1lKCl9OmAsIHBsYXllci5nZXRDdXJyZW50SFAoKSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHBsYXllckdyYXBoaWNDb21wb25lbnQgPSBwbGF5ZXIuZ2V0R3JhcGhpY0NvbXBvbmVudCgpO1xyXG5cclxuICAgICAgICBpZiAocGxheWVyR3JhcGhpY0NvbXBvbmVudCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5hZGRTY2VuZShwbGF5ZXJHcmFwaGljQ29tcG9uZW50KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGhlYWx0aEJhciA9IHN0YXR1c0Jhci5nZXRQbGF5ZXJJbmZvV2luZG93KCkuZ2V0SGVhbHRoQmFyKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcGxheWVyLmFkZEhQQ2hhbmdlTGlzdGVuZXIoaGVhbHRoQmFyLnNldFZhbHVlLmJpbmQoaGVhbHRoQmFyKSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0RW5lbXkoZW5lbXkpIHtcclxuICAgICAgICBpZiAodGhpcy5lbmVteSkge1xyXG4gICAgICAgICAgICB0aGlzLmNhbnZhcy5yZW1vdmVTY2VuZSh0aGlzLmVuZW15LmdldEdyYXBoaWNDb21wb25lbnQoKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZW5lbXkgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5lbmVteSA9IGVuZW15O1xyXG5cclxuICAgICAgICBjb25zdCBzdGF0dXNCYXIgPSB0aGlzLnVpQ29tcG9uZW50cy5nZXRDaGlsZENvbXBvbmVudCh0aGlzLnN0YXR1c0JhcktleSk7XHJcbiAgICAgICAgc3RhdHVzQmFyLnNldEVuZW15SW5mbyhgJHtlbmVteS5nZXROYW1lKCl9OmAsIGVuZW15LmdldEN1cnJlbnRIUCgpKTtcclxuXHJcbiAgICAgICAgY29uc3QgZW5lbXlHcmFwaGljQ29tcG9uZW50ID0gZW5lbXkuZ2V0R3JhcGhpY0NvbXBvbmVudCgpO1xyXG5cclxuICAgICAgICBpZiAoZW5lbXlHcmFwaGljQ29tcG9uZW50ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FudmFzLmFkZFNjZW5lKGVuZW15R3JhcGhpY0NvbXBvbmVudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBoZWFsdGhCYXIgPSBzdGF0dXNCYXIuZ2V0RW5lbXlJbmZvV2luZG93KCkuZ2V0SGVhbHRoQmFyKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZW5lbXkuYWRkSFBDaGFuZ2VMaXN0ZW5lcihoZWFsdGhCYXIuc2V0VmFsdWUuYmluZChoZWFsdGhCYXIpKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRFdmVudExpc3RlbmVyc1RvQ2FudmFzKCkge1xyXG4gICAgICAgIGNvbnN0IGNhbnZhc0h0bWwgPSB0aGlzLmNhbnZhcy5nZXRIdG1sKCk7XHJcblxyXG4gICAgICAgIGNhbnZhc0h0bWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRRdWV1ZS5hZGQoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogZXZlbnRzLk1PVVNFLk1PVVNFX1VQLFxyXG4gICAgICAgICAgICAgICAgc3VidHlwZTogJ01PVVNFJyxcclxuICAgICAgICAgICAgICAgIGNhbnZhczogY2FudmFzSHRtbCxcclxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcclxuICAgICAgICAgICAgICAgICAgICBtb3VzZUNvb3JkOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogZS5vZmZzZXRZLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBlLm9mZnNldFgsXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY2FudmFzSHRtbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50UXVldWUuYWRkKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IGV2ZW50cy5NT1VTRS5NT1VTRV9ET1dOLFxyXG4gICAgICAgICAgICAgICAgc3VidHlwZTogJ01PVVNFJyxcclxuICAgICAgICAgICAgICAgIGNhbnZhczogY2FudmFzSHRtbCxcclxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcclxuICAgICAgICAgICAgICAgICAgICBtb3VzZUNvb3JkOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogZS5vZmZzZXRZLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBlLm9mZnNldFgsXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBjYW52YXNIdG1sLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50UXVldWUuYWRkKHtcclxuICAgICAgICAgICAgICAgIHR5cGU6IGV2ZW50cy5LRVlCT0FSRC5LRVlfRE9XTixcclxuICAgICAgICAgICAgICAgIHN1YnR5cGU6ICdLRVlCT0FSRCcsXHJcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiB7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5OiBlLmtleVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBjYW52YXNIdG1sLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXByZXNzJywgKGUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudFF1ZXVlLmFkZCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlOiBldmVudHMuS0VZQk9BUkQuS0VZX1BSRVNTLFxyXG4gICAgICAgICAgICAgICAgc3VidHlwZTogJ0tFWUJPQVJEJyxcclxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcclxuICAgICAgICAgICAgICAgICAgICBrZXk6IGUua2V5XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjYW52YXNIdG1sLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRRdWV1ZS5hZGQoe1xyXG4gICAgICAgICAgICAgICAgdHlwZTogZXZlbnRzLk1PVVNFLk1PVVNFX01PVkUsXHJcbiAgICAgICAgICAgICAgICBzdWJ0eXBlOiAnTU9VU0UnLFxyXG4gICAgICAgICAgICAgICAgY2FudmFzOiBjYW52YXNIdG1sLFxyXG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xyXG4gICAgICAgICAgICAgICAgICAgIG1vdXNlQ29vcmQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBlLm9mZnNldFksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IGUub2Zmc2V0WCxcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjYW52YXNIdG1sLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudWkuY2hhbmdlU2VsZWN0ZWRFbGVtZW50KG51bGwpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIG1haW4odGltZSkge1xyXG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLm1haW4pO1xyXG5cclxuICAgICAgICBpZiAodGltZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXZUaW1lID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJldlRpbWUgPSB0aW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKHRpbWUgLSB0aGlzLnByZXZUaW1lKVxyXG4gICAgXHJcbiAgICAgICAgICAgIHRoaXMucHJldlRpbWUgPSB0aW1lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgd2hpbGUgKHRoaXMuZXZlbnRRdWV1ZS5oYXNOZXh0KCkpIHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLmV2ZW50UXVldWUuZ2V0TmV4dCgpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHRoaXMudWkuaGFuZGxlRXZlbnQoZXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZW5kZXIodGltZVN0YW1wKSB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuZHJhdyh0aW1lU3RhbXApO1xyXG4gICAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=